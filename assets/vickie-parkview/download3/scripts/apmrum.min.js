/*!! Copyright (c) 2020, 2025, Oracle and/or its affiliates.
 * apmrum.min.js version 1.1.131 2025-04-24
 */
!function(t){"use strict";const i="spanid",n="traceid",e="parentspanid",o="traceparent",s="username",r="UserName",a="http",c="https",u="span-id",d="trace-id",h="parent-id",f="spanId",v="traceId",l="parentSpanId",p="ServerTiming",m="TransferSize",g="Details",_="innerText",A="textContent",w="apmTrack"+g,b="attrValueLenMax",y=1e3,S=["at","au","az","br","cn","es","fr","in","io","ir","it","jp","kr","no","pl","uk","za"],T="oj-datagrid-cell",j="oj-datagrid-header",I="OJ-DATA-GRID",C=`${I}-CELL`,x=`${I}-COLUMN`,O=`${I}-ROW`,P="OJ-OPTION",E="OJ-MENU-BUTTON",z="BUTTON",k="OJ-BUTTON",Z="OJ-LABEL",N="OJ-TAB-BAR",M="OJ-NAVIGATION-LIST",R="object",$="string",U="number",L="boolean",D="function",B="Click",F="Partial Update",H="Full Update",G="OjComponent",W=`${G}Id`,q=`${G}Type`,V=`${G}Label`,X="OjElm",J=`${X}Type`,K=`${X}Label`,Y="ApmrumType",Q="ApmrumContextType",tt="WebApplicationName",it="webapplicationname",nt="webapplication",et="HttpUrl",ot=`${et}Host`,st=`${et}Path`,rt="HttpStatusCode",at="ECID",ct="message"
;function ut(t){return void 0===t||(typeof t===$?t.trim().length<1:typeof t===U?isNaN(t):typeof t!==L&&(vt(t)?!lt(t):typeof t!==R||!At(t)))}function dt(t){return typeof t===$&&void 0!==t&&t.trim().length>0}function ht(t){return void 0!==t&&typeof t===R&&t instanceof Date}function ft(t){return void 0!==t&&typeof t===R&&t instanceof Map}function vt(t){return Array.isArray(t)}function lt(t){return vt(t)&&t.length>0}function pt(t){return typeof t===U&&void 0!==t&&!isNaN(t)}function mt(t){return typeof t===U&&void 0!==t&&!isNaN(t)&&t>0}function gt(t){return typeof t===U&&void 0!==t&&!isNaN(t)&&t>=0}function _t(t){return typeof t===R&&null!=t}function At(t){if(null==t)return!1;{const i=typeof t,n=t;return i===R?void 0!==t.constructor&&("Object"===t.constructor.name&&Object.getOwnPropertyNames(t).length>0||"Object"!==t.constructor.name):"function"===i&&typeof n.prototype===R&&dt(n.i)}}function wt(t,i,n){const e=void 0===n?new WeakSet:n;if(vt(t))return t.map((t=>wt(t,i,e)));if(ht(t))return new Date(t.getTime())
;if(ft(t)){const n=new Map;for(const[e,o]of t)void 0!==i&&e===i||n.set(e,wt(o));return n}if(null===t)return null;if(void 0!==(o=t)&&typeof o===R){const o=Object.create(Object.getPrototypeOf(t)),s=Object.getOwnPropertyNames(t);if(s.length>0){if(null==n?void 0:n.has(t))return null;e.add(t);for(const n of s){const s=Object.getOwnPropertyDescriptor(t,n),r=t[n];o[n]=wt(r,i,e),void 0!==s&&Object.defineProperty(o,n,s)}return o}return Object.create(Object.getPrototypeOf(t))}return t;var o}function bt(t){return null!==t&&typeof t===R&&t.constructor===Promise}function yt(t){return void 0!==t&&"function"==typeof t}function St(t){return void 0!==t&&"boolean"==typeof t}function Tt(t){return"function"==typeof t}function jt(t,i){return null==t?yt(i)?i():i:t}function It(t){if(At(t)||yt(t)){const i=t;return gt(i.nodeType)&&dt(i.tagName)}return!1}function Ct(t){if(At(t)){const i=t.subId;return dt(i)&&i===j}return!1}function xt(t){return At(t)&&yt(t.getTotalSize)&&yt(t.fetchByKeys)&&yt(t.getCapability)}function Ot(t){
return At(t)&&dt(t.stack)}function Pt(t){const i=At(t)?t.code:void 0;return dt(i)||gt(i)||At(i)}function Et(t){return At(t)&&dt(t.message)}function zt(t){return At(t)&&dt(t.name)}function kt(t){return At(t)&&dt(t.type)}function Zt(t){const i=void 0===t?void 0:dt(t.spanId)?t.spanId:void 0,n=void 0===t?void 0:dt(t.traceId)?t.traceId:void 0;return At(t)?jt(i,"no spanid")+"("+jt(n,"no traceId")+")":"[no span]"}function Nt(t,i){return JSON.stringify(t,i)}var Mt;!function(t){t[t.CALL_BLOCKED=0]="CALL_BLOCKED",t[t.NO_DETAILS=1]="NO_DETAILS",t[t.NORMAL=2]="NORMAL"}(Mt||(Mt={}));const Rt="AjaxInitTime",$t="AjaxFirstByteTime",Ut="AjaxDownloadTime",Lt="AjaxResponseBodySize",Dt="AjaxTransferSize",Bt=ii(72e3),Ft=ii(60),Ht=15778656e5;let Gt,Wt;function qt(t){return Number.isInteger(t)?t:Math.round(t*(1+Number.EPSILON))}function Vt(t){return qt(t/1e3)}function Xt(t){return qt(t)}function Jt(t){return qt(1e3*t)}function Kt(t){return qt(t)/1e3}function Yt(t){return qt(1e3*t)/1e3}function Qt(t,i){return qt(ci(t)+i/1e3)}
function ti(t){return 1e3*t}function ii(t){return 60*t*1e3}function ni(){return At(window)?window.performance:void 0}function ei(){const t=ni();return void 0!==t&&yt(t.now)?t.now():void 0}function oi(){const t=Date.now;return yt(t)?t():void 0}function si(){const t=ei(),i=oi();let n;if(!(void 0!==i&&i>Ht))throw new Error("Unable to determine timeZero");return n=void 0!==t&&i>=t?Math.floor(i-t):Math.floor(i),n}function ri(){const t=ei();let i;if(void 0!==t&&t>0)i=t;else{const t=oi(),n=jt(Gt,0);i=void 0!==t&&t>=n?t-n:0}return Yt(i)}function ai(t){return 1e3*ci(t)}function ci(t){const i=li(t);return Yt(jt(Gt,0)+i)}function ui(t){const i=ci(t);return[Math.floor(i/1e3),1e3*Jt(i%1e3)]}function di(t){return[Math.floor(t/1e3),1e3*Jt(t%1e3)]}function hi(t){return vt(t)&&2===t.length&&gt(t[0])&&gt(t[1])}function fi(t){return void 0!==t&&(gt(t)||hi(t)||t instanceof Date)}function vi(t,i,n){if(!pt(t))return i;const e=jt(Gt,0),o=e+(i>n?i-n:0),s=e+i+n,r=t<Ht?Yt(t)+e:Yt(t);return o<=r&&r<=s?r-e:i}function li(t){
if(void 0===Gt)return gt(t)&&0<=t?t<=Bt?t:Bt:0;if(hi(t)){const i=1e3*t[0],n=t[1]/1e6;if(0===i&&0===n)return 0;{const t=i-Gt+n;return t<0?0:t>Bt?Bt:t}}if(t instanceof Date){const i=t,n=yt(i.getTime)?i.getTime():void 0,e=void 0!==n?n-Gt:void 0;return void 0===e?0:0<e?e<Bt?e:Bt:0}if(gt(t)){const i=t>Ht?t-Gt:t;return 0<=i?i<=Bt?i:Bt:0}return 0}function pi(t,i,n,e){t.push(mi(i,e,n))}function mi(t,i,n){const e=ui(Yt(i)),o={name:t,get time(){return e}};return At(n)&&(o.attributes=n),o}function gi(){const t="visible"===document.visibilityState,i=ti(5);if(!0===t){const t=si();(void 0===Gt||t>Gt+i)&&(Gt=t)}yt(Wt)&&Wt(t)}function _i(t,i){if(hi(t))return ui(li(t)+i);if(t instanceof Date){const n=li(t);return new Date(ci(n+i))}return gt(t)?t+i:t}Gt=si(),window.addEventListener("visibilitychange",gi),window.addEventListener("focus",gi);const Ai="apm-agent-rum-browser",wi="allowHtmlIdReporting"
;var bi="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},yi="1.8.0",Si=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,Ti=function(t){var i=new Set([t]),n=new Set,e=t.match(Si);if(!e)return function(){return!1};var o=+e[1],s=+e[2],r=+e[3];if(null!=e[4])return function(i){return i===t};function a(t){return n.add(t),!1}function c(t){return i.add(t),!0}return function(t){if(i.has(t))return!0;if(n.has(t))return!1;var e=t.match(Si);if(!e)return a(t);var u=+e[1],d=+e[2],h=+e[3];return null!=e[4]||o!==u?a(t):0===o?s===d&&r<=h?c(t):a(t):s<=d?c(t):a(t)}}(yi),ji=yi.split(".")[0],Ii=Symbol.for("opentelemetry.js.api."+ji),Ci=bi;function xi(t,i,n,e){var o;void 0===e&&(e=!1);var s=Ci[Ii]=null!==(o=Ci[Ii])&&void 0!==o?o:{version:yi};if(!e&&s[t]){var r=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(r.stack||r.message),!1}
return s.version!==yi?(r=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+t+" does not match previously registered API v"+yi),n.error(r.stack||r.message),!1):(s[t]=i,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+yi+"."),!0)}function Oi(t){var i,n,e=null===(i=Ci[Ii])||void 0===i?void 0:i.version;if(e&&Ti(e))return null===(n=Ci[Ii])||void 0===n?void 0:n[t]}function Pi(t,i){i.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+yi+".");var n=Ci[Ii];n&&delete n[t]}var Ei,zi=function(){function t(t){this.o=t.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ki("debug",this.o,t)},t.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ki("error",this.o,t)},t.prototype.info=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ki("info",this.o,t)},t.prototype.warn=function(){
for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ki("warn",this.o,t)},t.prototype.verbose=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return ki("verbose",this.o,t)},t}();function ki(t,i,n){var e=Oi("diag");if(e)return n.unshift(i),e[t].apply(e,function(t,i,n){if(n||2===arguments.length)for(var e,o=0,s=i.length;o<s;o++)!e&&o in i||(e||(e=Array.prototype.slice.call(i,0,o)),e[o]=i[o]);return t.concat(e||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,s=n.call(t),r=[];try{for(;(void 0===i||i-- >0)&&!(e=s.next()).done;)r.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}(n),!1))}!function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(Ei||(Ei={}));var Zi=function(){function t(){function t(t){return function(){
for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var e=Oi("diag");if(e)return e[t].apply(e,function(t,i,n){if(n||2===arguments.length)for(var e,o=0,s=i.length;o<s;o++)!e&&o in i||(e||(e=Array.prototype.slice.call(i,0,o)),e[o]=i[o]);return t.concat(e||Array.prototype.slice.call(i))}([],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,s=n.call(t),r=[];try{for(;(void 0===i||i-- >0)&&!(e=s.next()).done;)r.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}(i),!1))}}var i=this;i.setLogger=function(t,n){var e,o,s;if(void 0===n&&(n={logLevel:Ei.INFO}),t===i){var r=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return i.error(null!==(e=r.stack)&&void 0!==e?e:r.message),!1}"number"==typeof n&&(n={logLevel:n});var a=Oi("diag"),c=function(t,i){function n(n,e){var o=i[n]
;return"function"==typeof o&&t>=e?o.bind(i):function(){}}return t<Ei.NONE?t=Ei.NONE:t>Ei.ALL&&(t=Ei.ALL),i=i||{},{error:n("error",Ei.ERROR),warn:n("warn",Ei.WARN),info:n("info",Ei.INFO),debug:n("debug",Ei.DEBUG),verbose:n("verbose",Ei.VERBOSE)}}(null!==(o=n.logLevel)&&void 0!==o?o:Ei.INFO,t);if(a&&!n.suppressOverrideMessage){var u=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";a.warn("Current logger will be overwritten from "+u),c.warn("Current logger will overwrite one already registered from "+u)}return xi("diag",c,i,!0)},i.disable=function(){Pi("diag",i)},i.createComponentLogger=function(t){return new zi(t)},i.verbose=t("verbose"),i.debug=t("debug"),i.info=t("info"),i.warn=t("warn"),i.error=t("error")}return t.instance=function(){return this.u||(this.u=new t),this.u},t}(),Ni=function(){function t(t){this.h=t?new Map(t):new Map}return t.prototype.getEntry=function(t){var i=this.h.get(t);if(i)return Object.assign({},i)},t.prototype.getAllEntries=function(){
return Array.from(this.h.entries()).map((function(t){var i=function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,s=n.call(t),r=[];try{for(;(void 0===i||i-- >0)&&!(e=s.next()).done;)r.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}(t,2);return[i[0],i[1]]}))},t.prototype.setEntry=function(i,n){var e=new t(this.h);return e.h.set(i,n),e},t.prototype.removeEntry=function(i){var n=new t(this.h);return n.h.delete(i),n},t.prototype.removeEntries=function(){for(var i,n,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=new t(this.h);try{for(var r=function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],e=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=r.next();!a.done;a=r.next()){var c=a.value;s.h.delete(c)}
}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},t.prototype.clear=function(){return new t},t}();function Mi(t){return void 0===t&&(t={}),new Ni(new Map(Object.entries(t)))}function Ri(t){return Symbol.for(t)}Zi.instance();var $i,Ui=new function t(i){var n=this;n.l=i?new Map(i):new Map,n.getValue=function(t){return n.l.get(t)},n.setValue=function(i,e){var o=new t(n.l);return o.l.set(i,e),o},n.deleteValue=function(i){var e=new t(n.l);return e.l.delete(i),e}},Li={get:function(t,i){if(null!=t)return t[i]},keys:function(t){return null==t?[]:Object.keys(t)}},Di={set:function(t,i,n){null!=t&&(t[i]=n)}},Bi=function(){function t(){}return t.prototype.active=function(){return Ui},t.prototype.with=function(t,i,n){for(var e=[],o=3;o<arguments.length;o++)e[o-3]=arguments[o];return i.call.apply(i,function(t,i,n){if(n||2===arguments.length)for(var e,o=0,s=i.length;o<s;o++)!e&&o in i||(e||(e=Array.prototype.slice.call(i,0,o)),e[o]=i[o])
;return t.concat(e||Array.prototype.slice.call(i))}([n],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,s=n.call(t),r=[];try{for(;(void 0===i||i-- >0)&&!(e=s.next()).done;)r.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}(e),!1))},t.prototype.bind=function(t,i){return i},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),Fi="context",Hi=new Bi,Gi=function(){function t(){}return t.getInstance=function(){return this.u||(this.u=new t),this.u},t.prototype.setGlobalContextManager=function(t){return xi(Fi,t,Zi.instance())},t.prototype.active=function(){return this.p().active()},t.prototype.with=function(t,i,n){for(var e,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(e=this.p()).with.apply(e,function(t,i,n){if(n||2===arguments.length)for(var e,o=0,s=i.length;o<s;o++)!e&&o in i||(e||(e=Array.prototype.slice.call(i,0,o)),e[o]=i[o])
;return t.concat(e||Array.prototype.slice.call(i))}([t,i,n],function(t,i){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,s=n.call(t),r=[];try{for(;(void 0===i||i-- >0)&&!(e=s.next()).done;)r.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r}(o),!1))},t.prototype.bind=function(t,i){return this.p().bind(t,i)},t.prototype.p=function(){return Oi(Fi)||Hi},t.prototype.disable=function(){this.p().disable(),Pi(Fi,Zi.instance())},t}();!function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"}($i||($i={}));var Wi="0000000000000000",qi="00000000000000000000000000000000",Vi={traceId:qi,spanId:Wi,traceFlags:$i.NONE},Xi=function(){function t(t){void 0===t&&(t=Vi),this.m=t}return t.prototype.spanContext=function(){return this.m},t.prototype.setAttribute=function(t,i){return this},t.prototype.setAttributes=function(t){return this},t.prototype.addEvent=function(t,i){return this},t.prototype.setStatus=function(t){return this},
t.prototype.updateName=function(t){return this},t.prototype.end=function(t){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(t,i){},t}(),Ji=Ri("OpenTelemetry Context Key SPAN");function Ki(t){return t.getValue(Ji)||void 0}function Yi(){return Ki(Gi.getInstance().active())}function Qi(t,i){return t.setValue(Ji,i)}function tn(t){return t.deleteValue(Ji)}function nn(t,i){return Qi(t,new Xi(i))}function en(t){var i;return null===(i=Ki(t))||void 0===i?void 0:i.spanContext()}var on=/^([0-9a-f]{32})$/i,sn=/^[0-9a-f]{16}$/i;function rn(t){return n=t.traceId,on.test(n)&&n!==qi&&(i=t.spanId,sn.test(i)&&i!==Wi);var i,n}function an(t){return new Xi(t)}var cn,un,dn=Gi.getInstance(),hn=function(){function t(){}return t.prototype.startSpan=function(t,i,n){if(void 0===n&&(n=dn.active()),Boolean(null==i?void 0:i.root))return new Xi;var e,o=n&&en(n);return"object"==typeof(e=o)&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags&&rn(o)?new Xi(o):new Xi},
t.prototype.startActiveSpan=function(t,i,n,e){var o,s,r;if(!(arguments.length<2)){2===arguments.length?r=i:3===arguments.length?(o=i,r=n):(o=i,s=n,r=e);var a=null!=s?s:dn.active(),c=this.startSpan(t,o,a),u=Qi(a,c);return dn.with(u,r,void 0,c)}},t}(),fn=new hn,vn=function(){function t(t,i,n,e){this.g=t,this.name=i,this.version=n,this.options=e}return t.prototype.startSpan=function(t,i,n){return this._().startSpan(t,i,n)},t.prototype.startActiveSpan=function(t,i,n,e){var o=this._();return Reflect.apply(o.startActiveSpan,o,arguments)},t.prototype._=function(){if(this.A)return this.A;var t=this.g.getDelegateTracer(this.name,this.version,this.options);return t?(this.A=t,this.A):fn},t}(),ln=new(function(){function t(){}return t.prototype.getTracer=function(t,i,n){return new hn},t}()),pn=function(){function t(){}return t.prototype.getTracer=function(t,i,n){var e;return null!==(e=this.getDelegateTracer(t,i,n))&&void 0!==e?e:new vn(this,t,i,n)},t.prototype.getDelegate=function(){var t
;return null!==(t=this.A)&&void 0!==t?t:ln},t.prototype.setDelegate=function(t){this.A=t},t.prototype.getDelegateTracer=function(t,i,n){var e;return null===(e=this.A)||void 0===e?void 0:e.getTracer(t,i,n)},t}();!function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"}(cn||(cn={})),function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"}(un||(un={}));var mn=Gi.getInstance(),gn=function(){function t(){}return t.prototype.inject=function(t,i){},t.prototype.extract=function(t,i){return t},t.prototype.fields=function(){return[]},t}(),_n=Ri("OpenTelemetry Baggage Key");function An(t){return t.getValue(_n)||void 0}function wn(){return An(Gi.getInstance().active())}function bn(t,i){return t.setValue(_n,i)}function yn(t){return t.deleteValue(_n)}var Sn="propagation",Tn=new gn,jn=function(){function t(){this.createBaggage=Mi,this.getBaggage=An,this.getActiveBaggage=wn,this.setBaggage=bn,this.deleteBaggage=yn}
return t.getInstance=function(){return this.u||(this.u=new t),this.u},t.prototype.setGlobalPropagator=function(t){return xi(Sn,t,Zi.instance())},t.prototype.inject=function(t,i,n){return void 0===n&&(n=Di),this.S().inject(t,i,n)},t.prototype.extract=function(t,i,n){return void 0===n&&(n=Li),this.S().extract(t,i,n)},t.prototype.fields=function(){return this.S().fields()},t.prototype.disable=function(){Pi(Sn,Zi.instance())},t.prototype.S=function(){return Oi(Sn)||Tn},t}(),In=jn.getInstance(),Cn="trace",xn={context:mn,propagation:In,trace:function(){function t(){this.T=new pn,this.wrapSpanContext=an,this.isSpanContextValid=rn,this.deleteSpan=tn,this.getSpan=Ki,this.getActiveSpan=Yi,this.getSpanContext=en,this.setSpan=Qi,this.setSpanContext=nn}return t.getInstance=function(){return this.u||(this.u=new t),this.u},t.prototype.setGlobalTracerProvider=function(t){var i=xi(Cn,this.T,Zi.instance());return i&&this.T.setDelegate(t),i},t.prototype.getTracerProvider=function(){return Oi(Cn)||this.T},
t.prototype.getTracer=function(t,i){return this.getTracerProvider().getTracer(t,i)},t.prototype.disable=function(){Pi(Cn,Zi.instance()),this.T=new pn},t}().getInstance()};const On="1.0",Pn={globalCfg:{},instCfg:{}},En="apmrum";function zn(t){return Object.entries(t)}function kn(){const t=$n();return void 0!==t.trackScreenText&&Fn(t.trackScreenText)}function Zn(t,i){for(const[n,e]of zn(i)){const i=n,o=t[i];void 0===o?t[i]=e:gt(o)&&gt(e)?e>o&&(t[i]=e):dt(t[i])&&dt(e)&&(t[i]=e)}return t}function Nn(t){return At(t)&&void 0!==t.globalCfg&&void 0!==t.instCfg}function Mn(){const t=Hn(En);return Nn(t)?t:void 0}function Rn(t,i){{const n=void 0!==document&&At(document.apmrum)?document.apmrum:void 0!==window&&At(window.apmrum)?window.apmrum:void 0!==document&&At(document.apmeum)?document.apmeum:void 0!==window&&At(window.apmeum)?window.apmeum:{};return Object.assign(Object.assign({},!0===t?i.globalCfg:i.instCfg),n)}}function $n(){const t=Rn(!0,Pn),i=Mn()
;return void 0!==i&&At(i.globalCfg)?Object.assign(Object.assign({},t),i.globalCfg):t}function Un(t){const i=Rn(!1,Pn),n=t===Ln?i:i[t],e=At(n)?n:{},o=Mn();return void 0!==o&&At(o.instCfg)?Object.assign(Object.assign({},e),o.instCfg):e}const Ln="DEFAULT_CONFIG";function Dn(){const t=$n();return void 0!==t.confInst&&yt(t.confInst.values)?[Ln,...t.confInst.values()]:[Ln]}function Bn(t,i){return Dn().map(Un).reduce(t,i)}function Fn(t){return"boolean"==typeof t?t:""!=""+t&&"0"!=""+t&&("1"==""+t||"TRUE"===(""+t).toUpperCase()||((""+t).toUpperCase(),!1))}function Hn(t){const i=function(t){let i;try{i=window.sessionStorage.getItem(t)}catch(t){}return dt(i)?i:void 0}(t);if(dt(i)&&i.startsWith("{")){let t;try{t=JSON.parse(i)}catch(t){}return t}}function Gn(t,i,n){const e=At(n)?n:$n();return void 0!==e[t]?Fn(e[t]):i}var Wn;const qn=window.Map;class Vn{constructor(t){this.index=0,this.data=t}[Symbol.iterator](){return this}next(){return this.index<this.data.length?{value:this.data[this.index++],done:!1}:{value:void 0,
done:!0}}}class Xn{constructor(t){this[Wn]="Map";const i={};if(void 0!==t)for(const n of t)2===n.length&&(i[n[0]]=n[1]);this.j=i}clear(){this.j={}}delete(t){return delete this.j[t]}forEach(t,i){for(const[n,e]of Object.entries(this.j))t.call(i,e,n,this)}get(t){return this.j[t]}has(t){return void 0!==this.get(t)}set(t,i){return this.j[t]=i,this}get size(){return Object.keys(this.j).length}entries(){return new Vn(Object.entries(this.j))}keys(){return new Vn(Object.keys(this.j))}values(){return new Vn(Object.values(this.j))}toJSON(){return{}}[(Wn=Symbol.toStringTag,Symbol.iterator)](){return new Vn(Object.entries(this.j))}}function Jn(t){return Gn("useNativeMap",!0)?new qn(t):new Xn(t)}function Kn(t,i){if(i<=0)return"";if(1===i)return t;const n=i%2==1,e=Kn(t,(i-(n?1:0))/2);return n?e+e+t:e+e}function Yn(t,i){return void 0===t||""===t?t:dt(t)?t.length>i?i<=3?t.substring(0,i):t.substring(0,i-3)+"...":t:`invalid ${typeof t} value ignored`}function Qn(t){return t.toLocaleLowerCase()}function te(t){
return dt(t)?t:Et(t)?`${t.message}`:Pt(t)&&dt(t.code)?t.code:Pt(t)&&gt(t.code)?t.code.toString():zt(t)?t.name:kt(t)?t.type:"unknown error"}function ie(t,i){const n=At(i)?t.find((t=>dt(i[t]))):void 0;return At(i)&&dt(n)&&dt(i[n])?i[n]:void 0}function ne(t){return t instanceof Object?Array.isArray(t)?t.map(ne).sort():t instanceof Map?[...t.keys()].sort().reduce(((i,n)=>{const e=t.get(n);return i[n]=ne(e),i}),{}):Object.keys(t).sort().reduce(((i,n)=>{const e=t[n];return i[n]=ne(e),i}),{}):t}let ee,oe=jt(document.baseURI,document.location.toString());const se=window.setTimeout,re=window.setInterval,ae=window.clearInterval,ce="apm.tracked",ue="Custom setStatus Error",de="Script error in page(update)",he="error status: abort",fe="error status: timeout",ve="Global PageContext",le={passive:!0,capture:!0};let pe;const me="synactioncounter",ge="apmactioncounter";function _e(t){return encodeURIComponent(t)}function Ae(t,i){let n="",e="?";if(At(t))for(const[o,s]of Object.entries(t))if(dt(o)){const t=Yn(o,i)
;void 0!==t&&(n+=dt(s)?e+(_e(t)+"=")+_e(Yn(s,i)):e+_e(t),e="&")}return n}function we(t){const i=(t.startsWith("?")?t.substring(1):t).split("&"),n={};for(const t of i)if(t.length>0){const i=t.indexOf("="),e="DecodeIssue",o=`Name${e}`,s=`Value${e}`;if(i<0)try{n[decodeURIComponent(t)]=""}catch(i){n[o+"_"+t]=""}else{let e,r;try{e=decodeURIComponent(t.substring(0,i))}catch(n){e=o+"_"+t.substring(0,i)}try{r=decodeURIComponent(t.substring(i+1))}catch(n){r=s+"_"+t.substring(i+1),t.substring(i+1)}if(void 0!==n[e]){let t=1;for(;void 0!==n[e+"_"+t];)t++;n[e+"_"+t]=r}else n[e]=r}}return n}function be(t){return function(t){const i=new Uint8Array(Math.ceil(t));return(window.crypto||window.msCrypto).getRandomValues(i),Qn(Array.from(i,(function(t){const i=t.toString(16).substring(0,2);return 1===i.length?"0"+i:i})).join("").slice(0,t))}(t)}function ye(t){return"b"+be(15)+t}function Se(){return be(16)}function Te(t){return(t.split("").reduce(((t,i)=>((t<<5>>>0)-t>>>0)+i.charCodeAt(0)),0)>>>0).toString(16).padStart(8,"0")}
async function je(t){const i=yt(window.TextEncoder)?new window.TextEncoder:void 0,n=window.crypto,e=At(n)?n.subtle:void 0;if(At(i)&&At(e)){const n=i.encode(t),o=await e.digest("SHA-256",n),s=Array.from(new Uint8Array(o)).map((t=>String.fromCharCode(t))).join("");return window.btoa(s)}if(dt(t)){const i=t.length;let n=0;for(let e=0;e<i;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;const e=n.toString(16),o=e.length,s=(o<8?Kn("0",8-o):"")+e;return Promise.resolve(s)}return Promise.resolve("00000000")}function Ie(t,i){const n=Ce(xe());if(void 0===n||!["http","https"].includes(n))return"";if(""+t=="")return"";try{const n=document.cookie;let e=void 0!==i&&!0===i?Qn(n).indexOf(Qn(t)+"="):n.indexOf(t+"=");if(-1!==e){e=e+t.length+1;let i=n.indexOf(";",e);return-1===i&&(i=n.length),decodeURIComponent(n.substring(e,i))}}catch(t){}return""}function Ce(t){if(void 0===t)return;const i=dt(t)?t:At(t)&&dt(t.host)?t.host:void 0,n=dt(i)&&i.length>=3?i:void 0;if(void 0!==n){const t=Math.min(n.indexOf(":"),n.indexOf("/")),i=n.substring(0,t)
;return dt(i)&&i.length<=10?i:void 0}}function xe(){return oe}function Oe(t){void 0!==t&&void 0===Ce(t)||(oe=t)}async function Pe(t){await function(t){return new Promise((i=>se(i,t)))}(t)}function Ee(){return xn.trace}function ze(){return xn.context}function ke(t){const i=yt(navigator.sendBeacon),n=yt(window.fetch),e=yt(window.XMLHttpRequest);let o;return void 0===t.transType?!i||void 0!==t.noSendBeacon&&!1!==t.noSendBeacon?n?o=1:e&&(o=2):o=0:"beacon"===t.transType&&i?o=0:["fetch","beacon"].includes(t.transType)&&n?o=1:["xhr","image","fetch","beacon"].includes(t.transType)&&e?o=2:t.transType,o}function Ze(){const t=$n();return Bn(((i,n)=>{const e=ke(n),o=void 0!==t.useOnBeforeUnload&&!1===t.useOnBeforeUnload;return!0!==i&&void 0!==e&&!o&&[0,1].includes(e)}),!1)}function Ne(t,i){return ut(i)?void 0:"//"+(ut(t)?"*":Qn(t))+"[@id='"+i+"']"}const Me="oracle_apm",Re=Me+"_monitorId",$e=Me+"_vantagePoint",Ue=Me+"_monitorRunId",Le=Me+"_timestamp",De=Me+"_syndye",Be=Me+"_testguid";function Fe(t,i){
const n=ft(e=pe)&&e.size>0&&void 0!==i?pe.get(i):void 0;var e;return void 0!==n&&pt(n)?n:t}function He(t){if(void 0===ee){const i=function(){const t=Ie(Re,!0),i=Ie($e,!0);let n=Ie(Ue,!0);if(!ut(i)&&!ut(t)){if(ut(n)){const e=Ie(Le,!0);if(ut(e))return;n=`${e}-`+Te(`${t}-${i}`)}return{MonitorId:t,VantagePoint:i,MonitorRunId:n}}}();return void 0===i?void(!0===t&&(ee=null)):(ee=i,ee)}return null===ee?void 0:ee}function Ge(t,i){for(const[n,e]of zn(i))t[n]=e;return t}function We(){return{name:Ai,version:"1.1.131"}}function qe(t,i,n,e){const o={spanId:t,traceId:i,traceFlags:n};return void 0!==e&&(o.traceState=e),o}function Ve(t,i){const n=At(e=i)&&void 0!==e.code?e.code===un.OK?{I:0,C:1,O:dt(e.message)?e.message:""}:e.code===un.UNSET?{I:5,C:1,O:""}:{I:2,C:1,O:dt(e.message)?e.message:ue}:void 0;var e;if(Xe(t.P,n)){const i=At(n)?n.I:void 0,e=5!==i&&0!==i;t.k=e,t.P=n,!0===e&&(t.apmTrackStatus="error")}return t}function Xe(t,i){if(!At(i))return!1;if(!At(t))return!0
;const n=t.C>i.C,e=t.C==i.C,o=t.I>i.I,s=t.I==i.I,r=pt(i.Z)&&i.Z>=400?i.Z:void 0,a=pt(t.Z)&&t.Z>=400?t.Z:void 0,c=1===t.I&&1===i.I&&void 0!==r;return n||e&&(o||s&&c&&c&&void 0!==a&&void 0!==r&&a<r)}function Je(t){const i="other";return jt(Jn([[0,i],[1,"cached"],[2,"compressed"],[3,"normal"]]).get(t),i)}const Ke="Object";function Ye(t){const i=Jn([[0,"JSLib"],[2,"Image"],[1,"CSS"],[3,"JSON"],[4,"Stream"],[5,Ke]]).get(t);return null==i?Ke:i}const Qe=t=>yt(window.requestIdleCallback)?window.requestIdleCallback(t):se(t,100);function to(t){const i=At(t)&&dt(t.stack)?t.stack:void 0,n=" at ",e="@http",o=void 0===i?void 0:i.includes(n)?{N:n,M:4}:i.includes(e)?{N:e,M:1}:void 0,s=void 0===o?void 0:o.N,r=void 0===i||void 0===s?void 0:i.split("\n").filter((t=>t.includes(s)));if(void 0!==r&&r.length>0&&void 0!==o&&void 0!==s){r.length>1&&r.shift();const t=r.shift();if(void 0===t)return;{const i=o.M,n=null==t?-1:t.indexOf(s);return n<t.length-i?t.substring(n+i):t}}}function io(t,i){void 0!==i?(to(new Error),
no(0,Qe,t,i)):(to(new Error),Qe(t))}function no(t,i,n,e){!0===e.check()?(e.maxIterations,n()):t<e.maxIterations?i((()=>no(t+1,i,n,e))):(e.maxIterations,e.fail())}function eo(t,i,n,e,o,s,r){return{msgType:"apmrum2syn",msgVersion:On,name:"pageLoad",spanID:e,traceID:o,operationName:r,sessionId:s,actionStart:n,action:"increaseActionCounter"}}function oo(t,i){return`${t}-${i}`}function so(t){void 0===pe&&function(){if(void 0===pe){const t=Jn();pe=t,document.addEventListener(ge,(i=>{const n=At(i)&&At(i.detail)?i.detail:void 0;if(void 0!==n){const i=n.actionCounter,e=oo(n.spanID,n.traceID),o=pt(i)?i:dt(i)?Number(i):void 0;void 0===o||isNaN(o)||t.set(e,o)}}))}}();const i=ro(me,t);document.dispatchEvent(i)}function ro(t,i){let n;return yt(CustomEvent)?n=new CustomEvent(t,{detail:i}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,i)),n}function ao(t,i){return gt(i)&&t<i?i:t}function co(t,i){return t.localeCompare(i)}function uo(){const t=screen.height,i=screen.width,n=screen.orientation;return{
depth:screen.colorDepth,height:t,width:i,orientation:At(n)?n.type:dt(n)?n:i<t?"portrait":"landscape"}}function ho(){return{id:window.name,name:window.name}}function fo(){return At(window)?{height:window.innerHeight,width:window.innerWidth}:{height:0,width:0}}function vo(){return At(document)&&At(document.body)?{height:document.body.clientHeight,width:document.body.clientWidth}:{height:0,width:0}}function lo(){const t=uo(),i=fo(),n=vo(),e={ScrWidth:t.width,ScrHeight:t.height,WndWidth:i.width,WndHeight:i.height,DocWidth:n.width,DocHeight:n.height};return void 0!==t.orientation&&(e.ScrOrientation=t.orientation),e}const po=new RegExp("msie[+;/() ]*([^a-z +;/()]*)");function mo(){let t;const i=Qn(navigator.userAgent);return t=At(window.chrome)?"chrome":i.includes("firefox/")||i.includes("fxios/")?"firefox":i.includes("trident")||po.exec(i)?"ie":At(window.opera)||i.includes(" opr/")?"opera":i.includes(" edg/")?"edge":i.includes(" safari/")?"safari":"unknown",t}
const go=1,_o="ociCollector",Ao=`${_o}Url`,wo=`${_o}Domain`,bo=`${_o}Protocol`,yo="ociCollectorPort",So=`${_o}Rest`,To=`${_o}Service`,jo="OracleAPMPublicDataKey",Io="ociDataUploadEndpoint",Co={R:new RegExp(".*","g"),$:[]};function xo(t,i,n){const e=At(n)?n.typeobs:void 0,o=At(e)?e[i]:void 0,s=pt(o)?o:n.obs;return!pt(s)||function(t,i){return(i&function(t){const i=Jn([["Page",1],["Ajax",2],["Script Error",4],["Connection",32],["Page Update",16],["Message",8],["Custom Span",64]]);return i.has(t)?i.get(t):0}(t))>0}(t,s)}function Oo(t){const i=mo();return Bn(((n,e)=>!0===n||xo(t,i,e)),!1)}function Po(t,i,n){return void 0!==n&&void 0!==n[t]&&void 0!==n[t]?n[t]:i}function Eo(t,i,n){if(At(n)){const i=n[t];if(dt(i))return i}return dt(i)?i:""}function zo(t,i,n){const e=Po(t,"",n);if(dt(e)){const t=parseInt(""+e,10);return isNaN(t)?i:t<=Number.MAX_SAFE_INTEGER?t:i}return gt(e)?e:"bigint"==typeof e&&e<=Number.MAX_SAFE_INTEGER?Number(e):i}function ko(t){return t.replace(/[*.+^?${}()|[\]\\]/g,"\\$&")}function Zo(t){
return void 0!==t}function No(){return zo("retrySendDelayFactor",1e3,$n())}function Mo(){return document.ApmRumLoadedVersion}const Ro=/\s/;function $o(t){return zo("attrNameLenMax",50,t)}function Uo(t){return zo(b,y,t)}function Lo(t,i){const n={},e=void 0===i||i;if(!At(t))return;const o=$n(),s=$o(o),r=!0===i||void 0===i?zo(b,y,o):zo("attrEvtValueLenMax",5e5,o),a=zo("attrMax",50,o);let c=0;for(const[i,o]of zn(t)){if(e&&c>=a)break;if(!(!dt(i)||i.length>s||i.search(Ro)>=0))if(St(o))c++,n[i]=o;else if(dt(o))c++,n[i]=e?Yn(o,r):o;else if(gt(o))c++,n[i]=o;else if(vt(o))if(o.length>0){const t=o[0];gt(t)?n[i]=o.map((t=>Number(t))):St(t)?n[i]=o.map((t=>Fn(t))):n[i]=o.map((t=>`${t}`))}else n[i]=[]}return 0===c?void 0:n}function Do(){const t=ti(30),i=zo("pgLoadTimeOut",t,$n()),n=ii(30);return i<0||i>n?t:i}function Bo(){return zo("evtTimeStampTolerateMs",ti(5),$n())}let Fo,Ho;function Go(t){const i=Eo(s,void 0,t);return dt(i)?(i!==Fo&&(Fo=i),i):Fo}function Wo(){if(void 0!==Fo)return Fo;if(void 0!==Ho){
const t=$n(),i=zo("trackUserNameRetryTimeoutMs",ii(5),t);if(ri()<i){const t=Ho();if(void 0!==t)return Fo=t,t}}}function qo(t){Fo=dt(t)?t:void 0}const Vo="X-ORACLE",Xo=`${Vo}-APMCS-REQUEST-ID`,Jo=`${Vo}-APMCS-TAG`,Ko=`${Vo}-APM-BA-VERSION`,Yo=`${Vo}-DMS-ECID`,Qo="opc-request-id",ts="X-B3",is=`${ts}-TraceId`,ns=`${ts}-SpanId`,es=`${ts}-Sampled`,os="traceparent",ss="APM-NetworkError",rs="APM-AbortError",as="APM-TimeoutError",cs=5,us="GET",ds="Content-Length",hs="https",fs=80,vs=443,ls="/20200101/observations",ps="public-span",ms=[a,c,"file"],gs={host:"",params:"",path:"",query:"",fragment:""};let _s,As=0;const ws=[];function bs(t,i){const n=xe();let e;if(At(i)&&i instanceof URL)e=i;else if(!0===t||ut(n)){if(!dt(i))return gs;try{e=new URL(i)}catch(t){}}else try{e=new URL(i,n)}catch(t){}const o=Object.assign({},gs);if(void 0!==e){const t=Ce(e.toString());if(void 0!==t&&ms.includes(t)){o.host=e.protocol+"//"+e.host;const t=e.pathname,i=t.indexOf(";");i>=0?(o.path=t.substring(0,i),o.params=t.substring(i)):(o.path=t,
o.params=""),o.query=e.search,o.fragment=e.hash}}return o}function ys(t){return t.host+t.path+t.params+t.query}function Ss(t){return t.host+t.path}function Ts(t){const i={HttpUrl:Ss(t),HttpUrlHost:t.host};return ut(t.path)||(i.HttpUrlPath=t.path),ut(t.params)||(i.HttpUrlParams=t.params),ut(t.query)||(i.HttpUrlQuery=t.query),ut(t.fragment)||(i.HttpUrlFragment=t.fragment),i}function js(t){if(void 0!==t){const i=$n().backgroundAjax;return void 0!==i&&i.includes(t.path)}return!0}function Is(t){if(void 0!==t){if(!0===(n=go,Bn(((t,i)=>{const e=Fs(n,i),o=Ds(),s=Hs(i),r=t;return At(e)&&!r.includes(e)&&r.push(e),At(o)&&!r.includes(o)&&r.push(o),At(s)&&!r.includes(s)&&r.push(s),r}),[])).reduce(((i,n)=>!0===i||Rs(n,t)),!1))return!1;if(!0===Gn("excludeV1Metrics",!0)&&t.path.startsWith("/v1/metrics"))return!1;if(!1===Oo("Ajax"))return!1;const e=t.path;return!ws.includes(e)&&(i=e,!Bn(((t,n)=>{if(!0===t)return!0;{const t=n.blockAjax,e=n.block_ajax;return!!lt(t)&&t.includes(i)||!!lt(e)&&e.includes(i)}}),!1))}return!1;var i,n
}function Cs(t,i){try{if(void 0===t.U){const i=t.getAllResponseHeaders().split("\n"),n={};for(const t of i){const i=t.trim().split(":",2),e=i.length>0?Qn(i[0]).trim():void 0,o=i.length>1?i[1].trim():void 0;dt(e)&&(n[e]=dt(o)?o:"")}t.U=n}const n=t.U[Qn(i)];if(dt(n))return n.trim()}catch(t){}}function xs(t,i,n){return"00-"+t+"-"+i+"-"+(!0===n?"01":"00")}function Os(t,i){return`1.${t}@@${i};kXjE`}function Ps(t,i,n){return t+"-"+i+"-"+(!0===n?"1":"0")}function Es(t,i,n){return t+":"+i+":1:"+(!0===n?"01":"00")}function zs(t,i){const n=function(t,i,n){for(const e of function(t,i){const n=Dn().map((t=>{const i=Po("traceSupportingEndpoints",[],Un(t));return i.length>0?[t,i]:void 0})).filter(Zo),e=[];if(0===n.length)return t?[{R:function(t){const i=t.split("/"),n=i.length>=3&&dt(i[0])&&ut(i[1])&&dt(i[2]),e=n?i[2].split("."):[],o=e.length;let s;if(o<=2||!1===n)s=dt(t)&&t.startsWith(a)?ko(t):ko("never://this-never-matches.fail");else{
const n=e[o-1].split(":")[0],r=4===e.length&&parseInt(n,10).toString()===n,a="."+(S.includes(n)&&o>3?e[o-3]+".":"")+(o>2?e[o-2]+".":"")+e[o-1];s=r?ko(t):ko(i[0]+"//")+".*"+ko(a)}return new RegExp(s,"i")}(i.host),$:["APM"]},Co]:[Co];for(const t of n.flatMap((([,t])=>t)))if(dt(t.hostPattern))try{const i={R:new RegExp(t.hostPattern,"g"),$:void 0!==t.headers?t.headers:["APM"]};if(void 0!==t.sampling&&(i.L=t.sampling),At(t.reqHdr)){const n=Object.entries(t.reqHdr).map((([t,i])=>dt(t)&&dt(i)?{D:t,B:i}:void 0)).filter((t=>void 0!==t));n.length>0&&(i.F=n)}if(At(t.replyHdr)){const n=Object.entries(t.replyHdr).map((([t,i])=>dt(t)&&dt(i)?{D:t,B:i}:void 0)).filter((t=>void 0!==t));n.length>0&&(i.H=n)}e.push(i)}catch(i){t.hostPattern}return e}(n,i))if(void 0!==t&&void 0!==t.host&&t.host.match(e.R))return e;return Co}(t,i,Bs());return n}function ks(t,e,o,r){const a=[],c=r.$;if(0===c.length)return a;const u=$n(),d=void 0!==r.L?r.L:Po("sampling",{percentage:100,base:"traceId"
},u),h=c.includes("UberId"),f=c.includes("B3-Multi"),v=c.includes("B3-Single"),l=c.includes("W3C"),p=c.includes("ECID-Context"),m=c.includes("APM"),g=function(t,e){const o=null==t?void 0:t.percentage,r=null==t?void 0:t.base;return!gt(o)||!dt(r)||o>99||!(o<1)&&function(t,e){const o=t.toLocaleLowerCase();return function(t){let i=100;if(dt(t))for(let n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n);return Math.abs(i)%101}(o===s?e.G:"sessionid"===o?e.W:o==i?e.q:o==n?e.V:void 0)}(r,e)<=o}(d,{q:e,V:t,W:o,G:Go(Un(Ln))});return!0===m&&(a.push({header:is,value:t}),a.push({header:ns,value:e}),a.push({header:es,value:!0===g?"1":"0"}),a.push({header:Ko,value:"1.1.131"})),!0===h&&a.push({header:"Uber-Trace-Id",value:Es(t,e,g)}),!0===f&&!1===m&&(a.push({header:is,value:t}),a.push({header:ns,value:e}),a.push({header:es,value:!0===g?"1":"0"})),!0===v&&a.push({header:"b3",value:Ps(t,e,g)}),!0===l&&a.push({header:os,value:xs(t,e,g)}),!0===p&&a.push({header:"ECID-Context",value:Os(t,e)}),a}function Zs(t,i){let n;const e=At(t)
;if(Gs(t))n=t.get(i);else if(e&&yt(t.values)){const e=t.values(),o=Qn(i);for(const t of e)if(t.length>1&&Qn(t[0])===o){n=t[1];break}}else if(e&&void 0!==t){const e=t,o=e[i];n=void 0!==o?o:e[Qn(i)]}return null==n?void 0:n}function Ns(t,i){const n=_t(t);if(n&&yt(t.setRequestHeader)){if(t.readyState===(void 0!==XMLHttpRequest.OPENED?XMLHttpRequest.OPENED:1))for(const n of i)t.setRequestHeader(n.header,n.value)}else if(Gs(t))for(const n of i)t.set(n.header,n.value);else if(vt(t)){const n=t.map((t=>t.length>0?t[0]:""));for(const e of i)if(n.includes(e.header))for(const i of t)i.length>0&&i[0]===e.header&&(i.length>1?i[1]=e.value:i.push(e.value));else t.push([e.header,e.value])}else if(n&&void 0!==t)for(const n of i)t[n.header]=n.value;return t}function Ms(t,i){const n=function(t){return void 0!==t?void 0!==_s&&Rs(_s,t)?As++:(_s=t,As=1):As=1,As}(i);return 202!==t&&204!==t||n>=zo("continuousRepeatMax",cs,$n())&&void 0!==i&&ws.push(i.path),n}function Rs(t,i){if(void 0===t&&void 0===i)return!0
;if(void 0===t||void 0===i)return!1;if(0===co(t.path,i.path)){const n=t.host,e=i.host;if(0===co(n,e))return!0;{const t=n.indexOf(":"),i=e.indexOf(":");return 0===co(n.substring(t),e.substring(i))}}return!1}function $s(t){return Eo("serviceName","Apm Browser",t)}function Us(t){return Eo("remoteServiceNameTemplate","Apm LB for {hostname}",$n()).replace("{hostname}",t.host).replace("{path}",t.path)}function Ls(t,i){return"error"===i||void 0!==t&&t>=400&&t<=600?1:void 0===t||0===t&&void 0!==i&&!["opaque","opaqueredirect","cors"].includes(i)?2:t>=0&&t<400?0:3}function Ds(){{const t=100,i=$n().baseCollectorUrl;if(dt(i)){const n=bs(!0,i),e=we(n.query);return n.fragment="",e.ociLibBld="1.1.131",n.query=Ae(e,t),n}}}function Bs(){return Bn(((t,i)=>!0===t||At(Fs(go,i))),!1)}function Fs(t,i){const n=Eo(Io,void 0,i),e=Eo(wo,void 0,i);let o="";if(""!==n){const t=Eo(So,ls,i),e=t.endsWith("/")?t.substring(0,t.length-1):t,s=e.startsWith("/")?e:"/"+e,r=Eo(To,ps,i)
;if(null!==/^[a-zA-Z0-9.-]*.apm-agt.[-a-zA-Z0-9]*.oci.[-a-zA-Z0-9.]*$/.exec(n))o=`https://${n}${s}/${r}`;else{if(null===/^https:\/\/[^?&;/]*\/?$/.exec(n))return;o=`${n}${s}/${r}`}}else if(""!==e){const t=Eo(bo,hs,i),n="http"===t?fs:vs,s=function(t,i){const n=Po(yo,void 0,i);if(mt(n))return zo(yo,t,i);if(dt(n)){const n=Eo(yo,`${t}`,i);if(dt(n)){const i=n.startsWith(":")?1:0,e=parseInt(n.substring(i),10);return mt(e)?e:t}return t}return t}(n,i),r=Eo(So,ls,i),a=r.endsWith("/")?r.substring(0,r.length-1):r,c=a.startsWith("/")?a:"/"+a,u=Eo(To,ps,i);if(null===/^https?$/.exec(t))return;if(null===/^([A-Za-z][-A-Za-z0-9]+[.]){1,6}([A-Za-z][-A-Za-z0-9]{1,30})$/.exec(e))return;if(void 0===s||s<1||s>65535)return;if(null===/^[/][A-Za-z0-9/_]+[A-Za-z0-9_]$/.exec(c))return;if(null===/(private-span)|(public-span)|(metrics)/.exec(u))return;o=s===n?`${t}://${e}${c}/${u}`:`${t}://${e}:${s}${c}/${u}`}else if(o=Eo(Ao,void 0,i),""===o)return;const s=bs(!0,o),r=Ce(s);if(!dt(s.path)||!dt(r)||a!==r&&c!==r)return
;const u=Eo(jo,"",i),d={dataFormat:"apm",dataFormatVersion:String(t),dataKey:u,ociLibBld:"1.1.131"};return s.query=Ae(d,100),s}function Hs(t){if(t.zipkinEndpoint&&!ut(t.zipkinEndpoint))return bs(!0,t.zipkinEndpoint)}function Gs(t){return _t(t)&&"set"in t&&yt(t.set)}function Ws(t){return dt(t)&&["all","Ajax","Page","Page Update"].includes(t)?t:"all"}function qs(t){if(dt(t)&&t.length<3){let i=!1;for(let n=0;n<t.length&&!1===i;n++)["g","i"].includes(t.charAt(n))||(i=!0);if(!i)return""+t}return"g"}function Vs(t){const i=$n(),n=i&&i.rewriteRules?i.rewriteRules:[{context:"all",options:"g",pattern:"[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-][a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]*@(([[0-9]{1,3}[.][0-9]{1,3}[.][0-9]{1,3}[.][0-9]{1,3}])|(([a-zA-Z0-9-]+[.])+[a-zA-Z]{2,}))",replacement:"*",type:"all-values"},{context:"all",options:"g",
pattern:"(^|[^0-9a-zA-Z.,-])(?:(?:(?:(?:EUR)|(?:E)|(?:Y)|(?:USD))?[0-9]{1,3}[.,](?:[0-9]{3}[.,])*[0-9][0-9])|(?:(?:0x)?[a-fA-F0-9]{2,4}(?:[:\\-][a-fA-F0-9]{2,4}){3,})|(?:\\d{1,3}[.]\\d{1,3}[.]\\d{1,3}[.]\\d{1,3})|(?:[0-3]?[0-9][\\/\\-][0-3]?[0-9][\\/\\-][12][0-9][0-9][0-9])|(?:(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12})|(?:[4]\\d{3}[s\\-.]?\\d{4}[s\\-.]\\d{4}[s\\-.]\\d{4})|(?:3[47][0-9]{13})|(?:\\d{3}-\\d{2}-\\d{4})|(?:\\d{5}(?:[\\-]\\d{4})?)|(?:\\d{5,})|(?:(?:AL[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){2}(?:[a-zA-Z0-9]{4}\\s?){4})|(?:AD[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){2}(?:[a-zA-Z0-9]{4}\\s?){3})|(?:AT[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4})|(?:AZ[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z0-9]{4}\\s?){1}(?:[0-9]{4}\\s?){5})|(?:BH[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z]{4}\\s?){1}(?:[a-zA-Z0-9]{4}\\s?){3}(?:[a-zA-Z0-9]{2}))|(?:BY[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z0-9]{4}\\s?){1}(?:[0-9]{4}\\s?){5})|(?:BE[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){3})|(?:BA[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4})|(?:BR[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5}(?:[0-9]{3})(?:[a-zA-Z]{1}\\s?)(?:[a-zA-Z0-9]{1}))|(?:BG[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z]{4}\\s?)[0-9]{4}\\s?[0-9]{2}[a-zA-Z0-9]{2}\\s?[a-zA-Z0-9]{4}\\s?[a-zA-Z0-9]{2})|(?:CR[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4}[0-9]{2})|(?:HR[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4}[0-9])|(?:CY[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){2}(?:[a-zA-Z0-9]{4}\\s?){4})|(?:CZ[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5})|(?:DK[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:DO[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?(?:[0-9]{4}\\s?){5})|(?:TL[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4}[0-9]{3})|(?:EE[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4})|(?:FO[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:FI[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:FR[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){2}[0-9]{2}[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9][0-9]{2})|(?:GE[a-zA-Z0-9]{2}\\s?[a-zA-Z0-9]{2}[0-9]{2}\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:DE[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4}[0-9]{2})|(?:GI[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?(?:[a-zA-Z0-9]{4}\\s?){3}[a-zA-Z0-9]{3})|(?:GR[a-zA-Z0-9]{2}\\s?[0-9]{4}\\s?[0-9]{3}[a-zA-Z0-9]\\s?(?:[a-zA-Z0-9]{4}\\s?){3}[a-zA-Z0-9]{3})|(?:GL[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:GT[a-zA-Z0-9]{2}\\s?[a-zA-Z0-9]{4}\\s?(?:[a-zA-Z0-9]{4}\\s?){5})|(?:HU[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){6})|(?:IS[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5}[0-9]{2})|(?:IE[a-zA-Z0-9]{2}\\s?[a-zA-Z0-9]{4}\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:IL[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4}[0-9]{3})|(?:IT[a-zA-Z0-9]{2}\\s?[a-zA-Z][0-9]{3}\\s?[0-9]{4}\\s?[0-9]{3}[a-zA-Z0-9]\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9]{3})|(?:JO[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?(?:[0-9]{4}\\s?){5}[0-9]{2})|(?:KZ[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){3}[0-9][a-zA-Z0-9]{3}\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9]{2})|(?:XK[a-zA-Z0-9]{2}\\s?[0-9]{4}\\s?(?:[0-9]{4}\\s?){2}[0-9]{2}[0-9]{2}\\s?)|(?:KW[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?(?:[a-zA-Z0-9]{4}\\s?){5}[a-zA-Z0-9]{2})|(?:LV[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?(?:[a-zA-Z0-9]{4}\\s?){3}[a-zA-Z0-9])|(?:LB[a-zA-Z0-9]{2}\\s?[0-9]{4}\\s?(?:[a-zA-Z0-9]{4}\\s?){5})|(?:LI[a-zA-Z0-9]{2}\\s?[0-9]{4}\\s?[0-9][a-zA-Z0-9]{3}\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9])|(?:LT[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4})|(?:LU[a-zA-Z0-9]{2}\\s?[0-9]{3}[a-zA-Z0-9]\\s?(?:[a-zA-Z0-9]{4}\\s?){3})|(?:MK[a-zA-Z0-9]{2}\\s?[0-9]{3}[a-zA-Z0-9]\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9][0-9]{2})|(?:MT[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?[0-9]{4}\\s?[0-9][a-zA-Z0-9]{3}\\s?(?:[a-zA-Z0-9]{4}\\s?){3}[a-zA-Z0-9]{3})|(?:MR[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5}[0-9]{3})|(?:MU[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?(?:[0-9]{4}\\s?){4}[0-9]{3}[a-zA-Z]\\s?[a-zA-Z])|(?:MC[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){2}[0-9]{2}[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9][0-9]{2})|(?:MD[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z0-9]{2})[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z0-9]{4}\\s?){4})|(?:ME[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4}[0-9]{2})|(?:NL[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z]{4}\\s?){1}(?:[0-9]{4}\\s?){2}[0-9]{2})|(?:NO[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){2}[0-9]{3})|(?:PK[a-zA-Z0-9]{2}\\s?[a-zA-Z0-9]{4}\\s?(?:[0-9]{4}\\s?){4})|(?:PS[a-zA-Z0-9]{2}\\s?[a-zA-Z0-9]{4}\\s?(?:[0-9]{4}\\s?){5}[0-9])|(?:PL[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){6})|(?:PT[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5}[0-9])|(?:QA[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}(?:\\s?[a-zA-Z0-9]{4}){5}[a-zA-Z0-9])|(?:RO[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}(?:\\s?[a-zA-Z0-9]{4}){4})|(?:LC[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}(?:\\s?[a-zA-Z0-9]{4}){6})|(?:SM[a-zA-Z0-9]{2}\\s?[a-zA-Z][0-9]{3}\\s?[0-9]{4}\\s?[0-9]{3}[a-zA-Z0-9]\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9]{3})|(?:SA[a-zA-Z0-9]{2}\\s?(?:[0-9]{2})[a-zA-Z0-9]{2}\\s?(?:[a-zA-Z0-9]{4}\\s?){4})|(?:RS[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){4}[0-9]{2})|(?:SK[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5})|(?:SI[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){3}(?:[0-9]{3}))|(?:ES[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5})|(?:SE[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5})|(?:CH[a-zA-Z0-9]{2}\\s?[0-9]{4}\\s?[0-9][a-zA-Z0-9]{3}\\s?(?:[a-zA-Z0-9]{4}\\s?){2}[a-zA-Z0-9])|(?:TN[a-zA-Z0-9]{2}\\s?(?:[0-9]{4}\\s?){5})|(?:TR[a-zA-Z0-9]{2}\\s?[0-9]{4}\\s?[0-9][a-zA-Z0-9]{3}\\s?(?:[a-zA-Z0-9]{4}\\s?){3}[a-zA-Z0-9]{2})|(?:AE[a-zA-Z0-9]{2}\\s?[0-9]{3}[0-9]\\s?(?:[0-9]{4}\\s?){3}[0-9]{3})|(?:GB[a-zA-Z0-9]{2}\\s?[a-zA-Z]{4}\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:VA[a-zA-Z0-9]{2}\\s?[0-9]{3}[0-9]\\s?(?:[0-9]{4}\\s?){3}[0-9]{2})|(?:VG[a-zA-Z0-9]{2}\\s?[a-zA-Z0-9]{4}\\s?(?:[0-9]{4}\\s?){4})))([^0-9a-zA-Z.,-]|$)",
replacement:"$1*$2",type:"all-values"}],e=[];return n.forEach((function(t){const i=function(t){return At(t)?!t.pattern||t.pattern.trim().length<1||!t.replacement||t.replacement.trim().length<1||t.options&&t.options.length>0&&qs(t.options)!==t.options||t.context&&t.context.length>0&&Ws(t.context)!==t.context?void 0:{context:Ws(t.context),options:qs(t.options),pattern:t.pattern,regex:new RegExp(t.pattern,qs(t.options)),replacement:t.replacement,type:(i=t.type,dt(i)&&["full-url","all-values","path","param","query","host","attr","param_elm","path_elm","query_elm"].includes(i)?i:"all-values")}:void 0;var i}(t);i&&e.push(i)})),e}function Xs(t,i,n,e){let o,s,r;if(dt(t))o=t;else{if(!gt(t))return"";o=t.toString()}if("query"===i){const t=o.substring(0,1);"&"===t?o="?"+o.substring(1):"?"!==t&&(s="?",o="?"+o)}else"path"===i?"/"!==o.substring(0,1)&&(s="/",o="/"+o):"param"===i&&";"!==o.substring(0,1)&&(s=";",o=";"+o);return e.forEach((function(t){
if(("all"===t.context||t.context===n)&&((e=i)===(s=t.type)||"all-values"===s&&"host"!==e||function(t){return t.indexOf("_elm")>0}(s)&&e===s.substring(0,s.indexOf("_elm"))))if("query_elm"===t.type){const i=we(o);for(const n in i)if(void 0!==i[n]){const e=i[n].replace(t.regex,t.replacement);i[n]=e}o=Ae(i,100)}else if("path_elm"===t.type){const i=o.split("/"),n=[];i.forEach((function(i){n.push(i.replace(t.regex,t.replacement))})),o=n.join("/")}else if("param_elm"===t.type){const i=o.split(";"),n=[];i.forEach((function(i){n.push(i.replace(t.regex,t.replacement))})),o=n.join(";")}else o=o.replace(t.regex,t.replacement);var e,s})),o.length>500&&"query"===i&&(o=Ae(we(o),100)),r=void 0!==s&&s===o.charAt(0)?Yn(o.substring(1),500):Yn(o,500),jt(r,"")}function Js(t,i){const n=Vs();return{host:Xs(i.host,"host",t,n),path:Xs(i.path,"path",t,n),params:Xs(i.params,"param",t,n),query:Xs(i.query,"query",t,n),fragment:Xs(i.fragment,"fragment",t,n)}}
const Ks="OMCtrack",Ys="OciTrack",Qs="tracking_cookie",tr=`${Qs}_domain`,ir=`${Qs}_path`,nr=`${Qs}_expires`;let er,or,sr;const rr={};let ar,cr;function ur(t,i){ar=t,cr=i}function dr(){return[ar,cr]}function hr(t){const i=$n();if(null!==i&&dt(i.sid)){if(void 0!==or&&void 0===sr){sr=or;const t=pr();lr(t)&&(mr(t,i.sid),er=i.sid,or=i.sid)}return i.sid}if(void 0!==er)return er;{const i=pr();let n=function(t){if(!lr(t)){const i=function(t){const i=window.location&&window.location.pathname?window.location.pathname:document.location&&document.location.pathname?document.location.pathname:"",n=i.indexOf(";");if(-1===n||!dt(t)||!dt(i))return"";let e,o=i.indexOf(t+"=",n);return-1!==o?(o=o+t.length+1,e=i.indexOf(";",o),-1===e&&(e=i.indexOf("/",o)),-1===e&&(e=i.length),decodeURIComponent(i.substring(o,e))):""}(t);if(!ut(i))return i;const n=function(t){const i=window.location&&window.location.search?window.location.search:document.location&&document.location.search?document.location.search:"";if(!dt(t)||!dt(i))return""
;let n,e=i.indexOf(t+"=");return-1!==e?(e=e+t.length+1,n=i.indexOf("&",e),-1===n&&(n=i.length),decodeURIComponent(i.substring(e,n))):""}(t);if(!ut(n))return n}const i=Ie(t);if(!ut(i))return i}(i);const e=vr()||Bs();return void 0!==n&&!0!==t||(void 0===or&&(or="bgen"+2147418112*Math.random()+ci(ri())),n=or),e&&(er=n,lr(i)&&mr(i,er)),n}}function fr(){return hr(!1)}function vr(){return void 0!==Ds()}function lr(t){return[Ys,Ks].includes(t)}function pr(){const t=vr()?Ks:Ys,i=Eo(Qs,void 0,$n());return ut(i)?t:i}function mr(t,i){let n="";const e=$n(),o=Eo(tr,"",e),s=Eo(ir,"",e),r=Eo(nr,"",e);if(!1!==Gn("allowCreateCookie",!0)){ut(o)?n+="; SameSite=Strict":(n+="; domain="+o,n+="; SameSite=Lax"),ut(s)?n+="; path=/":n+="; path="+s,ut(r)||(n+="; expires="+r),yr("Page").host.startsWith("https")&&(n+="; secure");try{document.cookie=t+"="+i+n}catch(t){}}}const gr=/\s/;function _r(t,i,n,e,o,s){const r=$o(s),a=Uo(s);if(typeof i.name!==$||i.name.length<1||i.name.length>r||i.name.search(gr)>=0)return{data:n,fc:e};let c=""
;if(t!==(void 0===i.init?0:i.init))return{data:n,fc:e};const u=i.value,d=lt(u)?u[0]:void 0;if(c=yt(u)?u():dt(u)||gt(u)?u:lt(u)?dt(d)||gt(d)||St(d)?u:u.map((t=>`${t}`)):`${u}`,o.includes(Qn(i.name)))return{data:n,fc:e,newWA:c};if(gt(c))n[i.name]=c,e++;else if(dt(c)){const t=Yn(c,a);null!=t&&(n[i.name]=t,e++)}return{data:n,fc:e}}function Ar(t,i,n,e,o){const s=Eo("webApplication",void 0,o),r=dt(s)?s:void 0,a=[it,nt];let c;const u=Po("udfAttributes",[],o);let d;const h=zo("attrMax",50,e);let f=0,v=void 0===i?{}:Object.assign({},i);for(const i of Object.values(rr))for(const n of i){const i=_r(t,n,v,f,a,e);if(dt(i.newWA)&&(c=i.newWA),f!==i.fc&&(v=i.data,f=i.fc),f>=h)break}for(const i of u){const n=_r(t,i,v,f,a,e);if(dt(n.newWA)&&(d=n.newWA),f!==n.fc&&(v=n.data,f=n.fc),f>=h)break}const l=dt(n)?n:dt(d)?d:dt(r)?r:dt(c)?c:void 0;return dt(l)&&(v.WebApplicationName=l),v}function wr(t,i,n,e,o){const s={tenantID:Eo("customerId",void 0,t),sessionId:fr(),isFailed:e,X:!0!==document.hidden,J:ar,K:cr},r=sr,a=function(){
const t=Ie(De);if(!ut(t))return t;{const t=Ie(Be);if(!ut(t))return t}}(),c=He(!1);let u=!1;const d={},h=Go(i),f=At(o)?o.P:void 0;if(At(f)){const t=f.I;(5!==t&&0!==t||dt(f.O))&&(s.P=f)}if(dt(h)&&(s.username=h),dt(r)&&(s.Y=r),void 0!==a&&dt(a)&&(s.sd=a),void 0!==c&&(s.tt=c),void 0!==n&&"Custom Span"!==n&&"Message"!==n&&"Reading"!==n)for(let t=1;void 0!==n&&t<10;t++){const i=jr(t,n);ut(i)||(u=!0,d[`a${t}`]=i)}!0===u&&(s.attributes=d);const v=Ar(0,{},At(o)&&dt(o.it)?o.it:void 0,t,i);if(At(v))if(dt(v.webApplication)){s.nt=v.webApplication;const t={};let i=!1;for(const[n,e]of zn(v).filter((t=>"webApplication"!==t[0])))null!=e&&(t[n]=e,i=!0);!0===i&&(s.attributesFlex=t)}else s.attributesFlex=v;return s}function br(t){try{if(kn()){const i=Vs(),n=$n();let e;if(void 0!==n.udfAttributeDt&&yt(n.udfAttributeDt))e=n.udfAttributeDt();else try{e=document.title}catch(t){}return ut(e)||(e=Xs(e,"attr",t,i)),ut(e)?void 0:e}}catch(t){return}}function yr(t){let i;if("Ajax"===t)return gs;try{i=window.location.href}catch(t){i=void 0
}if(ut(i))try{i=document.location.href}catch(t){i=void 0}return void 0===i||ut(i)?gs:Js(t,bs(!0,i))}function Sr(){const t=Math.floor(zo("statusCode",200,$n()));return t<100||t>600?200:t}function Tr(t){return yt(t)&&At(t.PAGE)}function jr(t,i){const n=$n(),e=Vs();let o="";try{switch(t){case 1:if(yt(n.udfAttribute1))o=n.udfAttribute1();else if("Page"===i||"Page Update"===i){const t=yr(i).path.split("/"),n=t.length>1?t[1]:"";o=t.length<=2&&n.includes(".")?"":n}else o="";break;case 2:if(yt(n.udfAttribute2))o=n.udfAttribute2();else if("Page Update"===i||"Page"===i){const t=window.AdfPage,i=Tr(t)?t.PAGE:void 0,n=void 0!==i?i.getActiveComponent:void 0;if(void 0!==i&&yt(n)){const t=n();if(o="",At(t)&&yt(t.getComponentType)){const i=t.getComponentType();dt(i)&&(o+="["+i+"]")}yt(i.getActiveComponentId)&&(o+=i.getActiveComponentId())}else o=""}else o="";break;case 3:if(yt(n.udfAttribute3))o=n.udfAttribute3();else if("Page"===i||"Page Update"===i){
const t=window.AdfPage,i=Tr(t)?t.PAGE:void 0,n=void 0!==i?i.getViewId:void 0;o=jt(yt(n)?n():void 0,"")}break;case 4:yt(n.udfAttribute4)&&(o=n.udfAttribute4());break;case 5:yt(n.udfAttribute5)&&(o=n.udfAttribute5());break;case 6:yt(n.udfAttribute6)&&(o=n.udfAttribute6());break;case 7:yt(n.udfAttribute7)&&(o=n.udfAttribute7());break;case 8:yt(n.udfAttribute8)&&(o=n.udfAttribute8());break;case 9:yt(n.udfAttribute9)&&(o=n.udfAttribute9());break;default:o=""}ut(o)||(o=Xs(o,"attr",i,e))}catch(t){o=""}return o}function Ir(t){if(null!=He(!0)){const i=ro("synEvents",t);t.name,t.spanID,t.traceID,document.dispatchEvent(i)}}async function Cr(t,i,n){return await Pr(ys(t),i,1,n)}async function xr(t,i,n){return await Or(ys(t),i,1,n)}async function Or(t,i,n,e){return new Promise(((o,s)=>{let r;r="json"===e.et?"application/json":"text/plain";const a=new XMLHttpRequest;a.onreadystatechange=function(){
if(this.readyState===(void 0!==XMLHttpRequest.DONE?XMLHttpRequest.DONE:4))if(0===this.status||204===this.status||200===this.status){const t={type:"default",ok:!0,status:this.status,statusText:this.statusText};t.status,t.statusText,o(t)}else if(n<e.ot){this.statusText,this.status;const r=Math.pow(2,n)*e.st;se((()=>{Or(t,i,n+1,e).then((t=>{o(t)}),(t=>{s(t)}))}),r)}else{const t=`XHR response status ${this.statusText} (${this.status}) is not ok.`;s(new Error(t))}};try{a.open("POST",t),a.setRequestHeader("Content-Type",r),a.send(i)}catch(r){if(!(n<e.ot))throw{attemptCnt:n,message:`got Exception (${r}) while requesting :${t}`,name:"RetryError"};{const r=Math.pow(2,n)*e.st;se((()=>{Or(t,i,n+1,e).then((t=>{o(t)}),(t=>{s(t)}))}),r)}}}))}async function Pr(t,i,n,e){let o;try{let n,s;"json"===e.et?(n="application/json",s="cors"):(n="text/plain",s="no-cors");const r={headers:{"Content-Type":n},body:i,method:"POST",mode:s,cache:"no-store",redirect:"follow",keepalive:!0,referrerPolicy:"no-referrer"}
;"no-cors"!==s&&(r.credentials="same-origin"),o=await fetch(t,r)}catch(o){if(n<e.ot){const o=Math.pow(2,n)*e.st;return await Pe(o),await Pr(t,i,n+1,e)}throw o}if(!0===o.ok||"opaque"===o.type)return o.status,o.statusText,o;if(n<e.ot){o.statusText,o.status;const s=Math.pow(2,n)*e.st;return await Pe(s),await Pr(t,i,n+1,e)}throw o.statusText,{attemptCnt:n,message:"Server returned ("+o.status+") unexpected failure:"+o.statusText,name:"RetryError"}}function Er(t,i){navigator.sendBeacon(ys(t),i)}const zr=["complete","load","timeout","error","abort"],kr={doSendMsg:function(t,i,n){if(n===Ln){const e=Un(n),o=Ds(),s=No();if(void 0!==o){const n=function(t){let i=[];for(const n of t.filter((t=>{return!("Page"!==(i=t.type)&&"Ajax"!==i&&"Script Error"!==i&&"Connection"!==i&&"Page Update"!==i||"Page Update"===t.type&&"Load Background"===t.rt);var i})))i=$r(i,n);if(0===i.length||void 0===Zr)return;const n=Zr;return n.cma=i,n.cts=""+Qt(ri(),0),n}(t);if(void 0!==n)if(!1===Ze()&&!0===i);else switch(ke(e)){case 0:Er(o,Nt(n))
;break;case 1:(function(t,i,n){return new Promise(((e,o)=>{const s=Cr(t,Nt(i),n);s.then((()=>{e(s)})).catch((t=>{o(t)}))}))})(o,n,{ot:5,st:s,et:"plaintext"}).catch((t=>{t.message}));break;case 2:(function(t,i,n){return new Promise(((e,o)=>{const s=xr(t,Nt(i),n);s.then((()=>{e(s)})).catch((t=>{o(t)}))}))})(o,n,{ot:5,st:s,et:"plaintext"}).catch((t=>{t.message}))}}}}};let Zr;function Nr(t){switch(t){case B:return"none";case F:return"partial";case H:return"full";default:return""}}function Mr(t){if(void 0!==t)return t.split(":",3)[0].substring(0,40)}function Rr(t,i){const n=Ae(i,100);if(0==t.length)t.push(n.substring(n.startsWith("?")?1:0));else{const e=i.t,o=t.findIndex((t=>t.includes(`t=${e}&`)));if(o<0)t.push(n.substring(n.startsWith("?")?1:0));else{const e=t[o],s=we(e),r=void 0===s.sz?0:parseInt(s.sz,10);if(r<9&&n.length+e.length<2048){let n;if("perf"===i.t)n=1,["td","tr","tc","ts","tdn","tcn"].forEach((t=>{const n=parseInt(s[t],10)+parseInt(i[t],10);s[t]=""+n}));else{n=r+1
;for(const t in i)if(dt(t)&&void 0!==i[t]){const n=t.replace("0",""+r);s[n]=i[t]}}s.sz=""+n;const e=Ae(s,100);t[o]=e.substring(e.startsWith("?")?1:0)}else t.unshift(n.substring(n.startsWith("?")?1:0))}}return t}function $r(t,i){const n=Kt(i.duration),e=ci(i.start+n);if(i.start<0||n>Bt)return i.start,t;if(void 0===Zr&&(Zr={"X-USER-IDENTITY-DOMAIN-NAME":_e(i.tenantID),sid:_e(i.sessionId),cts:""+Qt(ri(),0),cma:[]}),void 0!==Zr.un||void 0===i.username||ut(i.username)){const t=Wo();ut(t)||(Zr.un=t)}else Zr.un=i.username;switch(void 0!==Zr.sd||void 0===i.sd||ut(i.sd)||(Zr.sd=i.sd),i.type){case"Ajax":{const n=i,e={v:"1",t:"call",ct0:ys(n.ct),csm0:n.ut,csl0:`${n.requestSize}`,crl0:`${n.responseSize}`,cs0:`${Qt(n.start,0)}`,cr0:`${Qt(n.start,n.firstByteTime)}`,ce0:`${Qt(n.start,n.duration)}`,cm0:n.ht,crs0:`${0===n.statusCode?"200":n.statusCode}`,cst0:n.status,sz:"1"},o=Mr(n.apmcsRequestId);if(!zr.includes(n.status))return n.status,t;void 0!==o&&(e.oi0=o),void 0!==n.nt&&(e.tg0=n.nt),n.ft&&(e.ecid0=n.ft),
void 0!==n.vt&&(e.cpu0=""+n.vt),t=Rr(t,e);break}case"Script Error":{const n=i,o={v:"1",t:"error",sz:"1",ec0:""+n.count,el0:""+e,em0:n.message,es0:n.errorObject,fs0:""+Qt(n.start,0)};void 0===n.file||ut(n.file)||(o.sf0=n.file,o.ln0=""+n.line,o.lc0=""+n.colNumber),t=Rr(t,o);break}case"Page":{const n=i,e=uo(),o=fo(),s=vo(),r={v:"1",t:"pageview",ns:""+Qt(n.start,0),rs:""+Qt(n.start,n.initTime+n.firstByteTime),di:""+Qt(n.domInteractiveTs,0),dr:""+Qt(n.domReadyTs,0),pr:""+Qt(n.pageReadyTs,0),sc:""+n.lt,sw:""+e.width,sh:""+e.height,spd:""+e.depth,ww:""+o.width,wh:""+o.height,dw:""+s.width,dh:""+s.height,sz:"1"};if(void 0===n.gt||ut(n.gt)||(r.dt=n.gt),void 0===n.nt||ut(n.nt)||(r.tg=n.nt),void 0===n.ft||ut(n.ft)||(r.ecid=n.ft),void 0!==n.attributes)for(const[t,i]of zn(n.attributes))void 0!==i&&(r[t]=i);const a=n._t;void 0!==a&&(Zr.sba=_e(a.host),Zr.rp=_e(a.path),ut(a.query)||(Zr.qp=_e(a.query))),void 0!==n.At&&(dt(n.At.operationId)&&(r.oi=Mr(n.At.operationId)),dt(n.At.agentId)&&(Zr.sak=_e(n.At.agentId))),t=Rr(t,r)
;break}case"Page Update":{const n=i,e={v:"1",t:"pgupd",sz:"1",xp0:n.wt,pn0:n.bt,vi0:Nr(n.rt),st0:n.isFailed?"Script Error":"success",as0:""+Qt(n.start,0),ae0:""+Qt(n.start,n.duration)};if(n.rt!==B&&(e.fs0=""+Qt(n.start,n.initTime),e.fb0=""+Qt(n.start,n.initTime+n.firstByteTime),e.cc0=""+n.yt,e.je0=""+n.St),void 0===n.gt||ut(n.gt)||(e.dt=n.gt),ut(n._t.path)||(Zr.rp=_e(n._t.path)),ut(n._t.query)||(Zr.qp=_e(n._t.query)),void 0!==n.attributes)for(const[t,i]of zn(n.attributes))void 0!==i&&(e[t]=i);t=Rr(t,e);break}case"Connection":{const n=i;t=Rr(t,{v:"1",t:"perf",tdn:""+n.dnsCount,tcn:""+n.conCount,td:n.dnsCount>0&&void 0!==n.dnsTime?`${Vt(n.dnsTime)}`:"0",tr:void 0!==n.redirectTime&&n.hitCount>0?""+Vt(n.redirectTime):"0",tc:void 0!==n.conTime&&n.conCount>0?""+Vt(n.conTime):"0",ts:void 0!==n.sslTime&&n.conCount>0?""+Vt(n.sslTime):"0"});break}}return t}const Ur="bcDuration",Lr="paint",Dr="largest-contentful-paint",Br="layout-shift",Fr="resource",Hr="navigation",Gr={Tt:"PageFP",jt:1,It:0},Wr={Tt:"PageFCP",jt:1,It:0
},qr={Tt:"PageLCP",jt:1,It:0,Ct:function(t,i,n,e){const o=t+Qr,s=n[o],r=pt(s)?s:void 0,a=i.size;if(void 0===r||r<a){const s=Gn(wi,!0),c=ba(i.element,s),u=i.url;if(n[o]=a,n[t+aa]=c,dt(u)&&(n[t+ca]=u),void 0===r){const t=mi(i.entryType,i.startTime);e.push(t)}}}},Vr={Tt:"PageLS",jt:200,It:0,xt:function(t,i,n,e){const o=t+ta,s=t+sa,r=n[o],a=pt(r)?r:void 0,c=i.value,u=n[s],d=pt(u)?u+1:1;if(n[s]=d,void 0===a||a<c){const s=vt(i.sources)?i.sources:void 0,r=Gn(wi,!0),u=void 0===s?void 0:s.find((t=>At(t)&&At(t.node)&&t.node.nodeType===Node.ELEMENT_NODE)),d=At(u)?u.node:void 0!==s&&s.length>0?i.sources[0].node:void 0,h=At(d)?ba(d,r):"Unable to determine element Id";if(n[o]=c,n[t+aa]=h,void 0===a){const t=mi(i.entryType,i.startTime);e.push(t)}}}};let Xr,Jr,Kr,Yr;const Qr="Size",ta="Score",ia="StartTs",na="EndTs",ea="Elapsed",oa="Latency",sa="Count",ra="Duration",aa="ElmId",ca="Url";let ua,da;function ha(){return["interactive","loading"].includes(document.readyState)&&!(ri()>=Do())}function fa(t,i,n,e){
return 0==t&&0==i&&0==n&&(void 0===e||0==e.length)}function va(t,i,n,e){const o=n.filter((t=>t.name.startsWith(a))).length,s=zo("resourceEventCountMax",50,$n()),r=e.Ot;if(o<=s){const t=e.Pt,i=e.Et.find((t=>t.name.endsWith("Details"))),o=mi(ys(Js("Ajax",t)),r,null==i?void 0:i.attributes);n.push(o)}const c=e.zt,u=1===e.kt;!function(t,i,n,e,o){const s=Ye(n),r=s+na,a=la(t,i,s+ia,!0,e);la(a,i,r,!1,o)}(t,i,c,e.Ot,e.Ot+e.Zt),function(t,i,n,e){const o=Ye(i);void 0!==n&&0!==n&&pa(t,o+"TransferSize",n),pa(t,o+ra,e)}(i,c,e.Nt,e.Zt),function(t,i,n,e,o,s){const r=Ye(e);if(pa(t,r+sa,1),!0===o){pa(t,r+"Errors",1);const n=r+"ErrExample",e=t[n],o=dt(e)?parseInt(e,10):void 0;void 0!==s&&(void 0===o||o<s)&&(t[n]=`${s} HTTP Response for ${i.path}`)}!0===n&&pa(t,r+"Cached",1)}(i,e.Pt,u,c,e.k,e.Mt)}function la(t,i,n,e,o){const s=i[n],r=pt(s)&&s>=t?s:void 0;return void 0===r||!0===e&&o<r||!1===e&&o>r?(i[n]=Yt(o),o):r}function pa(t,i,n){const e=t[i],o=pt(e)&&e>0?e:0;t[i]=o+n}function ma(t,i){const n=Object.assign({},i)
;for(let i=0;i<=5;i++){const e=Ye(i),o=e+ia,s=e+na,r=n[o],a=n[s],c=e+ea,u=e+oa;if(pt(r)&&pt(a)&&a>=r&&r>=t){const i=a-r,e=r-t;n[c]=Yt(i),n[u]=Yt(e),delete n[o],delete n[s]}const d=e+ra,h=n[d];void 0!==h&&pt(h)&&(n[d]=Yt(h))}return n}function ga(){return Hn(w)}function _a(t){const i=jt(ga(),(()=>function(t){const i=Yt(ci(t)),n={pgUpdCnt:0,sessStartTs:i};return new Date(i).toTimeString(),n}(t)));return i.pgUpdCnt+=1,function(t){try{sessionStorage.setItem(w,Nt(t))}catch(t){}}(i),i.pgUpdCnt}function Aa(t,i){const n=ga(),e=void 0!==n?n.sessStartTs:void 0,o=ci(t);if(void 0!==e)return e<=o&&i>=0?o-e+Kt(i):void 0}function wa(t,i,n,e){const o=t.entryType,s=t.name,r=li(t.startTime),a=function(t,i){if(t===Dr)return void 0===Kr&&(Kr=Object.assign({},qr)),Kr;if(t===Br)return void 0===Yr&&(Yr=Object.assign({},Vr)),Yr;if(t===Lr){if("first-paint"===i)return void 0===Xr&&(Xr=Object.assign({},Gr)),Xr;if("first-contentful-paint"===i)return void 0===Jr&&(Jr=Object.assign({},Wr)),Jr}}(o,s);if(void 0!==a){if(a.It>=a.jt)return
;a.It+=1}if(void 0!==a&&yt(a.Ct)&&At(c=t)&&dt(c.name)&&c.entryType==Dr)a.Ct(a.Tt,t,n,i);else if(void 0!==a&&yt(a.xt)&&function(t){return At(t)&&t.entryType==Br}(t))a.xt(a.Tt,t,n,i);else{const t=void 0===a?void 0:a.Tt;if(void 0!==t){const i=r>e?r-e:0;n[t]=Yt(i)}const o=mi(s,r);i.push(o)}var c}function ba(t,i){if(null!==t&&t){const n=i?Ne(t.nodeName,t.id):void 0;return void 0!==n?n:function(t,i){if(!At(t)||t.nodeType===Node.DOCUMENT_NODE)return"/";let n=!1;const e=[];let o=t;for(;o&&o.nodeType===Node.TEXT_NODE;)o=o.parentNode;for(;o&&o.nodeType===Node.ELEMENT_NODE&&!n;o=o.parentNode){let t=0;for(let i=o.previousSibling;i;i=i.previousSibling)i.nodeType!==Node.DOCUMENT_TYPE_NODE&&i.nodeName===o.nodeName&&++t;const s=i&&At(o)&&dt(o.id)?o.id:void 0,r=i&&void 0!==s?Ne(o.nodeName,s):void 0;if(void 0!==r)e.unshift(r.substring(1)),n=!0;else{const i=Qn(o.nodeName),n=t>0?"["+(t+1)+"]":"";e.unshift(i+n)}}return e.length?"/"+e.join("/"):""}(t,i)}return""}function ya(t){const i=function(t,i,n){if(vt(t.serverTiming)){
const e=t.serverTiming;let o,s;const r=Qn(i),a=Qn(n);for(const t of e){const i=Qn(t.name);i===r?o=t.description:i===a&&(s=t.description)}if(void 0!==o&&void 0!==s)return{spanId:s,traceId:o}}}(t,v,l);void 0!==i&&(ua=i.traceId,da=i.spanId)}function Sa(t,i,n){if(!(void 0===t||void 0===i||0===i||i<t)){const e=li(t),o=li(i),s=e<o?o-e:0;return s<0?0:s>n?n:s}}function Ta(t,i,n,e){const o=0===t||null==t?void 0:t<n?t:n,s=0===i||void 0===i?void 0:i<n?i:n;return void 0===o&&void 0===s?void 0:void 0===o?s:void 0===s||o<s?o:s}function ja(t,i,n,e){const o=void 0===e||!0===e,s=!0===o&&0===t||null==t?void 0:t<n?t:n,r=!0===o&&0===i||void 0===i?void 0:i<n?i:n;return void 0===s?r:void 0===r?s:s<r?r:s}function Ia(){const t=window.oj;return At(i=t)&&dt(i.version)&&dt(i.revision)?(function(){const t="ojs/ojtracer",i="ojs/ojcustomelement-utils",n=window.require;if(yt(n)){const e=n.specified;yt(e)&&e(t)&&n.call(Oa,[t],(t=>{At(t)&&yt(t.getDescriptiveText)&&(Pa=t.getDescriptiveText)})),yt(e)&&e(i)&&n.call(Oa,[i],(t=>{
const i=At(t)?t.CustomElementUtils:void 0;if(function(t,i){const n=typeof t;return null!=(n===R||n===D?t._ELEMENT_STATE_KEY:void 0)}(i)){const t=i._ELEMENT_STATE_KEY,n=i._ELEMENT_BRIDGE_KEY;dt(t)&&(za=t),dt(n)&&(Ea=n)}}))}}(),t):void 0;var i}function Ca(t){if(dt(t)){const i=document.getElementsByTagName(t),n=i.length>0?i[0]:void 0;return Ma(n)?n:void 0}}function xa(t){if(It(t)){const i=t[A];return dt(i)?i.trim():void 0}}const Oa=window;let Pa,Ea,za;const ka="_ojBridge",Za="_ojElementState",Na="_ojbindingsobj";function Ma(t){if(At(t)||yt(t)){const i=t,n=_t(dt(Ea)?i[Ea]:i[ka]),e=_t(dt(za)?i[za]:i[Za]),o=i[Na],s=_t(o)&&(vt(o._ATTR_BIND)||vt(o._EVENT_BIND));return(n||e||s)&&dt(i.tagName)}return!1}function Ra(t){let i,n=t;for(let t=0;t<1e3&&null!==n&&void 0===i;t++,n=n.parentNode)i=Ma(n)?n:void 0;return i}function $a(t,i){if(Ma(t)){const n=t.getProperty;return yt(n)?n.apply(t,[i]):void 0}}function Ua(t){const i=t.tagName,n={Rt:i},e=$a(t,"id"),o=dt(e)?e:t.id;dt(o)&&(n.$t=o);const s=function(t){
return yt(Pa)&&Ma(t)?Pa(t):void 0}(t);if(i===P){const i=t.value;n.Ut=dt(i)?i:void 0}else if(i===N){const e=t.selection;if(dt(e)){n.Lt=e,n.Dt=i;const o=$a(t,"data");xt(o)&&(n.Bt=Fa(e,o))}}else if(i===M){const e=$a(t,"currentItem");if(dt(e)){n.Lt=e,n.Dt=i;const o=$a(t,"data");xt(o)&&(n.Bt=Fa(e,o))}}else if(i===E||i===k||i===z||i===Z){const i=t[_];n.Ut=dt(i)?i.trim():void 0}else if(dt(s))n.Ut=s;else{const i=t.title;if(dt(i))n.Ut=i;else{const i=$a(t,"labelHint"),e=dt(i)?i:t.ariaLabel;dt(e)&&(n.Ut=e)}}return n}function La(t,i){const n=t.$t,e=dt(n)?{Ft:n}:{},o=t.Ut,s=dt(o)?{Ht:o}:{},r=t.Lt,a=dt(r)?{Gt:r,Wt:t.Dt,qt:t.Bt}:At(i)?{Gt:i.$t,Wt:i.Rt,qt:Promise.resolve(i.Ut)}:{};return Object.assign(Object.assign(Object.assign({Vt:t.Rt},e),s),a)}function Da(t){if(null===t)return!1;{const i=t.classList;return!!(null!=i&&i.length>0&&yt(i.contains))&&i.contains("oj-clickable-icon-nocontext")}}function Ba(t,i){const n=Ua(t),e=yt(t.getNodeBySubId);let o;if(n.Rt===I){
const s=yt(t.getContextByNode)&&It(i)?t.getContextByNode(i):void 0,r=kn();if(function(t){if(At(t)){const i=t.subId;return dt(i)&&i===T}return!1}(s)){const i=s.indexes,o=At(i)?i.column:void 0,a=At(i)?i.row:void 0,c=gt(o)&&r&&e?xa(t.getNodeBySubId({subId:j,axis:"column",index:o})):void 0,u=gt(a)&&r&&e?xa(t.getNodeBySubId({subId:j,axis:"row",index:a})):void 0;n.Lt=gt(o)?gt(a)?"cell@"+a.toString(10)+":"+o.toString(10):"col:"+o.toString(10):gt(a)?"row:"+a.toString(10):"data",n.Dt=C,n.Bt=Promise.resolve(dt(c)?dt(u)?"cell@"+u+":"+c:"col:"+c:dt(u)?"row@"+u:"data")}else if(Ct(s)){const i=s.index,o=s.axis,a=gt(i)&&r&&e?xa(t.getNodeBySubId({subId:j,axis:o,index:i})):void 0;n.Lt=o+":"+i.toString(10),n.Dt=o.startsWith("column")?x:O,n.Bt=Promise.resolve(dt(a)?dt(o)?o+":"+a:a:void 0)}o=La(n)}else if(It(i)){const e=function(t,i){const n=t.getSubIdByNode;if(!0===yt(n)){let e;try{e=n.call(t,i)}catch(t){e=void 0}return e}return null}(t,i);if(At(e)){const i=e.key;if(n.Lt=i,n.Dt=e.subId,dt(i)){const e=$a(t,"data")
;xt(e)&&(n.Bt=Fa(i,e))}o=La(n)}else{const e=Ra(i),a=Da(i)?i:null!==i&&Da(i.parentElement)?i.parentElement:At(e)&&(r=t,(s=e).id!==r.id||s.tagName!==r.tagName||!s.isEqualNode(r))?e:void 0;o=La(n,At(a)?Ua(a):void 0)}}var s,r;return o}async function Fa(t,i){const n=new Set([t]),e=At(i)&&yt(i.fetchByKeys)?i.fetchByKeys({keys:n}):void 0;return void 0!==e?e.then((i=>{const n=At(i)?i.results:void 0;if(At(n)&&n.size>0&&yt(n.get)){const i=n.get(t),e=At(i)?i.data:void 0,o=At(e)?e.detail:void 0,s=At(o)?o.label:void 0,r=At(e)?e.name:void 0;return dt(r)?r:dt(s)?s:void 0}})):void 0}const Ha=Jn([[cn.CLIENT,"CLIENT"],[cn.CONSUMER,"CONSUMER"],[cn.INTERNAL,"INTERNAL"],[cn.PRODUCER,"PRODUCER"],[cn.SERVER,"SERVER"]]);function Ga(t){return jt(Ha.get(t),"INTERNAL")}const Wa={doSendMsg:function(t,i,n){const e=Un(n),o=Fs(go,e);if(void 0!==o){const n=function(t,i){const n=ho(),e=$n();let o,s,a,c="",u="";const d=[...t].map((t=>{const n=function(t,i,n){let e;if(t.start<0)return t.type,t.start,e;const o=ai(t.start);switch(t.type){
case"Page Update":e=oc(o,t,i,n);break;case"Page":e=ec(o,t,i,n);break;case"Connection":{const s=t;e={id:s.spanId,"trace-id":s.traceId,name:"Connection "+s.hostname,"ts-micros":Xt(o),"td-micros":Xt(s.duration),kind:Ga(cn.INTERNAL),attributes:Xa(s,i,n),links:[]}}break;case"Script Error":{const s=t;e={id:s.spanId,"trace-id":s.traceId,name:"error "+s.message,"ts-micros":Xt(o),"td-micros":Xt(s.duration),kind:Ga(cn.INTERNAL),attributes:Va(s,i,n),links:[]},void 0!==s.parentSpanId&&(e["parent-id"]=s.parentSpanId)}break;case"Ajax":e=sc(o,t,i,n);break;case"Custom Span":{const s=t;e={id:s.spanId,"trace-id":s.traceId,name:s.spanName,"ts-micros":Xt(o),"td-micros":Xt(s.duration),kind:Ga(s.kind),attributes:tc(s,i,n),links:[]},void 0!==s.parentSpanId&&(e["parent-id"]=s.parentSpanId)}}return void 0!==e&&vt(t.apmEvents)&&(e.events=t.apmEvents.map((t=>{const i=ai(li(t.time)),n=Lo(t.attributes,!1),e=void 0!==n?n:{};return{name:t.name,"ts-micros":i,"td-micros":Jt(qa(t)),attributes:e}}))),e}(t,e,i)
;if(void 0===o&&void 0!==t.sessionId&&(o=t.sessionId),void 0!==t.Y&&void 0===s&&(s=t.Y),void 0===a&&dt(t.username)&&(a=t.username),dt(c)||(c=t.J,u=t.K),"Reading"!==t.type){if(void 0===n);else if("Page Update"===t.type&&"Load Background"===t.rt)return;return n}})).filter((t=>void 0!==t));if(void 0!==o&&d.length>0){const t=lo(),e=Fn(navigator.webdriver),h=n.id,f=Object.assign({Component:"BROWSER",ServiceName:$s(i),ApmrumLanguage:navigator.language,ApmVersion:"1.1.131",SessionId:o,WebDriver:e,PageSpanId:c,PageTraceId:u},t),v=Ia();if(At(v)){f.OjVersion=v.version;const t=v.revision;dt(t)&&(f.OjRevision=t);const i=function(){const t=function(){const t=window.GlobalTracer,i=At(t)?t.get:void 0;return yt(i)?i():void 0}(),i=At(t)?t.options:void 0,n=At(i)?i.sessionId:void 0;return dt(n)?n:void 0}();dt(i)&&(f.OjSessionId=i)}if(dt(h)&&(f.ApmrumWindowId=n.id),dt(a))f[r]=a;else{const t=Wo();dt(t)&&(f[r]=t)}void 0!==s&&(f.oldSessionId=s);const l=zn(f).map((([t,i])=>dt(i)||gt(i)?{key:t,value:i}:St(i)&&!0===i?{key:t,
value:"true"}:void 0)).filter((t=>void 0!==t)),p=jt(ci(ri()),Date.now());return{"major-version":go,"minor-version":0,"payload-creation-ts-millis":p,resource:{attributes:l},spans:d}}}(t,e);if(void 0!==n)if(!1===Ze()&&!0===i);else switch(ke(e)){case 0:Er(o,Nt(n));break;case 1:(function(t,i,n){return new Promise(((e,o)=>{const s=Cr(t,Nt(i),n);s.then((()=>{e(s)})).catch((t=>{o(t)}))}))})(o,n,{ot:5,st:No(),et:"plaintext"}).then((()=>{})).catch((t=>{}));break;case 2:(function(t,i,n){return new Promise(((e,o)=>{const s=xr(t,Nt(i),n);s.then((()=>{e(s)})).catch((t=>{o(t)}))}))})(o,n,{ot:5,st:No(),et:"plaintext"}).then((()=>{})).catch((t=>{}))}}}};function qa(t){const i=t.attributes;if(At(i)){if(pt(i[Rt]))return(pt(i[Rt])?i[Rt]:0)+(pt(i[$t])?i[$t]:0)+(pt(i[Ut])?i[Ut]:0);if(pt(i[Ur]))return pt(i[Ur])?i[Ur]:0}return 0}function Va(t,i,n){const e=nc(t,"Script Error",t.contextType,i,n),o=Uo(i),s={ErrorMessage:t.message,AggregateCount:t.count,ErrorLocation:void 0!==t.file?t.file+"@"+t.line+":"+t.colNumber:void 0,
ErrorObject:Yn(t.errorObject,o)};return Object.assign(Object.assign({},e),s)}function Xa(t,i,n){const e=nc(t,"Connection",void 0,i,n),o=function(t){const i={PageUrl:Ss(t),PageUrlHost:t.host};return ut(t.path)||(i.PageUrlPath=t.path),ut(t.params)||(i.PageUrlParams=t.params),ut(t.query)||(i.PageUrlQuery=t.query),ut(t.fragment)||(i.PageUrlFragment=t.fragment),i}(t.pgCtxUrl),s=Object.assign({HttpUrl:t.hostname,HttpUrlHost:t.hostname,AggregateCount:t.hitCount,DNSLookups:t.dnsCount,ConnectCount:t.conCount},o);return t.dnsCount>0&&void 0!==t.dnsTime&&(s.DNSTime=Kt(t.dnsTime/t.dnsCount)),t.conCount>0&&(void 0!==t.conTime&&(s.ConnectTime=Kt(t.conTime/t.conCount)),void 0!==t.sslTime&&(s.SSLTime=Kt(t.sslTime/t.conCount))),void 0!==t.redirectTime&&t.hitCount>0&&(s.RedirectTime=Kt(t.redirectTime/t.hitCount)),Object.assign(Object.assign({},e),s)}function Ja(t,i,n){const e=nc(t,"Ajax",t.contextType,i,n),o=Ts(t.ct),s=Object.assign(Object.assign({},o),{HttpMethod:t.ht,AjaxMode:t.ut,AjaxInitTime:Kt(t.initTime),
AjaxFirstByteTime:Kt(t.firstByteTime),AjaxDownloadTime:Kt(t.downloadTime),RequestSize:t.requestSize,ResponseSize:t.responseSize,AjaxResponseBodySize:t.responseSize});return mt(t.statusCode)&&(s[rt]=""+t.statusCode),dt(t.statusDetails)&&(s.HttpStatusDetails=t.statusDetails),ut(t.ft)||(s[at]=t.ft),dt(t.Xt)&&(s.OpcRequestIdRequest=t.Xt),dt(t.Jt)&&(s.OpcRequestIdResponse=t.Jt),Object.assign(Object.assign({},e),s)}function Ka(t){return{PageInitTime:Kt(t.initTime),PageFirstByteTime:Kt(t.firstByteTime),PageDownloadTime:Kt(t.downloadTime),PageRenderTime:Kt(t.renderTime)}}function Ya(t,i,n){const e=nc(t,"Page",void 0,i,n),o=function(t){const i=Ka(t);return Object.assign(Object.assign({},i),{PageInteractiveTime:Yt(t.domInteractiveTs-t.start)})}(t),s=Ts(t._t),r=Aa(t.start,t.duration),a=Object.assign(Object.assign(Object.assign(Object.assign({},e),s),o),{ApmrumPageUpdateType:"Page Load",PageStatus:t.status,TabActionCounter:t.Kt,HttpStatusCode:void 0!==t.lt&&0!=t.lt?""+t.lt:"200",TabActiveDuration:void 0===r?0:Yt(r)
}),c=t.Yt,u=t.Qt;return dt(c)&&dt(u)&&(a.PageParentTraceId=u,a.PageParentSpanId=c),dt(t.gt)&&(a.ApmrumPageTitle=t.gt),dt(t.ft)&&(a[at]=t.ft),a}function Qa(t,i,n){const e=nc(t,"Page Update",void 0,i,n),o=Ka(t),s=Ts(t._t),r=Aa(t.start,t.duration),a=Object.assign(Object.assign(Object.assign(Object.assign({},e),o),s),{ApmrumPageUpdateType:t.rt,PageStatus:t.ti,TabActionCounter:t.ii,TabActiveDuration:void 0===r?0:Yt(r)});return dt(t.gt)&&(a.ApmrumPageTitle=t.gt),dt(t.bt)&&(a.ApmrumClickElementName=t.bt),dt(t.wt)&&(a.ApmrumClickElementId=t.wt),gt(t.ni)&&(a[rt]=""+t.ni),a}function tc(t,i,n){const e=nc(t,"Custom Span",t.contextType,i,n);return Object.assign(Object.assign({},e),t.attributesFlex)}function ic(t,i){const n={};return n[Y]=t,void 0!==i&&(n[et]=Ss(i),n[ot]=i.host,n[st]=i.path),n}function nc(t,i,n,e,o){let s={ApmrumType:i,Error:t.isFailed,TabVisible:t.X};dt(t.nt)&&(s.WebApplicationName=t.nt),!0===t.isFailed&&At(t.P)&&dt(t.P.O)&&(s.ErrorInfo=t.P.O),void 0!==n&&(s[Q]=n);const r=t.tt;if(void 0!==r){const t={
VantagePoint:r.VantagePoint,MonitorId:r.MonitorId,MonitorRunId:r.MonitorRunId};s=Object.assign(Object.assign({},s),t)}if(void 0!==t.attributes){const i={};for(const n in t.attributes)if(t.attributes[n]){const e=t.attributes[n],o=parseInt(n.substring(1),10);void 0!==e&&(i["ApmrumAttribute"+o]=e)}s=Object.assign(Object.assign({},s),i)}const a="Ajax"===i&&dt(t.nt)?t.nt:void 0,c=Ar(1,t.attributesFlex,a,e,o);return s=Object.assign(Object.assign({},s),c),s}function ec(t,i,n,e){const o=[];void 0!==i.ei&&void 0!==i.si&&o.push({"trace-id":i.si,"span-id":i.ei,kind:"FOLLOWS_FROM"});const s=i.traceId,r={id:i.spanId,"trace-id":s,name:i.ri,"ts-micros":Xt(t),"td-micros":Xt(i.duration),kind:Ga(cn.INTERNAL),attributes:Ya(i,n,e),links:o},a=i.Yt,c=i.Qt;return dt(a)&&s===c&&(r["parent-id"]=a),r}function oc(t,i,n,e){const o=i.ai;return{id:i.spanId,"trace-id":i.traceId,name:o,"ts-micros":Xt(t),"td-micros":Xt(i.duration),kind:Ga(cn.INTERNAL),attributes:Qa(i,n,e),links:[]}}function sc(t,i,n,e){const o=i.ct.path,s={id:i.spanId,
"trace-id":i.traceId,name:"Ajax "+o,"ts-micros":Xt(t),"td-micros":Xt(i.duration),kind:Ga(cn.CLIENT),attributes:Ja(i,n,e),links:[]};return void 0!==i.parentSpanId&&(s["parent-id"]=i.parentSpanId),s}const rc={doSendMsg:function(t,i,n){const e=Un(n),o=Hs(e);if(void 0!==o){const n=function(t,i){const n=[];return t.forEach((t=>{const e=function(t,i){let n;if(t.start<0)return t.type,t.start,n;const e=ai(t.start);switch(t.type){case"Page Update":{const o=t,s=o.ai;n={annotations:mc(o,e),duration:Xt(o.duration),spanId:o.spanId,kind:"INTERNAL",localEndpoint:{serviceName:$s(i)},name:s,remoteEndpoint:{serviceName:Us(o._t)},tags:dc(o,i),timestamp:Xt(e),traceId:o.traceId}}break;case"Page":{const o=t,s=function(t,i){const n=fc(t,"Page",i);n["http.status_code"]=""+t.lt;const e=t._t;return n["http.url"]=Ss(e),n["http.path"]=e.path,void 0!==t.gt&&(n.ApmrumPageTitle=t.gt),dt(t.nt)&&(n[tt]=t.nt),void 0!==t.ft&&(n[at]=t.ft),n}(o,i);void 0!==o.ei&&void 0!==o.si&&(s.LinkSpanId=o.ei,s.LinkTraceId=o.si),n={annotations:pc(o,e),
duration:Xt(o.duration),spanId:o.spanId,kind:"INTERNAL",localEndpoint:{serviceName:$s(i)},name:o.ri,remoteEndpoint:{serviceName:Us(o._t)},tags:s,timestamp:Xt(e),traceId:o.traceId}}break;case"Connection":{const o=t,s=void 0!==o.dnsTime&&o.dnsCount>0&&o.dnsTime>0?o.dnsTime/o.dnsCount:0,r=void 0!==o.redirectTime&&o.hitCount>0&&o.redirectTime>0?o.redirectTime/o.hitCount:0,a=void 0!==o.conTime&&o.conCount>0&&o.conTime>0?o.conTime/o.conCount:0;n={annotations:vc(o,s,a,r),duration:Xt(s+r+a),spanId:o.spanId,kind:"INTERNAL",localEndpoint:{serviceName:$s(i)},name:"Connection "+o.hostname,remoteEndpoint:{serviceName:Us(bs(!0,o.hostname))},tags:cc(o,i),timestamp:Xt(e),traceId:o.traceId}}break;case"Script Error":{const o=t;n={annotations:[],duration:Xt(o.duration),spanId:o.spanId,kind:"INTERNAL",localEndpoint:{serviceName:$s(i)},name:"error "+o.message,remoteEndpoint:{serviceName:$s(i)},tags:ac(o,i),timestamp:Xt(e),traceId:o.traceId}}break;case"Ajax":{const o=t,s=o.ct.path;n={annotations:lc(o,e),duration:Xt(o.duration),
spanId:o.spanId,kind:"CLIENT",localEndpoint:{serviceName:$s(i)},name:"Ajax "+s,remoteEndpoint:{serviceName:Us(o.ct)},tags:uc(o,i),timestamp:Xt(e),traceId:o.traceId},void 0!==o.parentSpanId&&(n.parentId=o.parentSpanId)}break;case"Custom Span":{const o=t;n={annotations:[],duration:Xt(o.duration),spanId:o.spanId,kind:"INTERNAL",localEndpoint:{serviceName:$s(i)},name:o.spanName,remoteEndpoint:{serviceName:$s(i)},tags:hc(o,i),timestamp:Xt(e),traceId:o.traceId},void 0!==o.parentSpanId&&(n.parentId=o.parentSpanId)}}return n}(t,i);void 0===e||n.push(e)})),n}(t,e);if(n.length>0)if(!1===Ze()&&!0===i);else switch(ke(e)){case 0:Er(o,new Blob([Nt(n)],{type:"application/json"}));break;case 1:(function(t,i,n){return new Promise(((e,o)=>{const s=Cr(t,Nt(i),n);s.then((()=>{e(s)})).catch((t=>{te(t),o(t)}))}))})(o,n,{ot:5,st:No(),et:"json"}).then((()=>{})).catch((t=>{}));break;case 2:(function(t,i,n){return new Promise(((e,o)=>{const s=xr(t,Nt(i),n);s.then((()=>{e(s)})).catch((t=>{te(t),o(t)}))}))})(o,n,{ot:5,st:No(),et:"json"
}).then((()=>{})).catch((t=>{}))}}}};function ac(t,i){const n=fc(t,"Script Error",i);return void 0!==t.file&&(n["error.location"]=t.file+"@"+t.line+":"+t.colNumber),n[Q]=t.contextType,n.error_msg=t.message,n["error.object"]=t.errorObject,n.aggr_count=""+t.count,n.error="true",n}function cc(t,i){const n=fc(t,"Connection",i);return n["http.url"]=t.hostname,n.aggr_count=""+t.hitCount,n.DNSLookups=""+t.dnsCount,n.ConnectCount=""+t.conCount,t.dnsCount>0&&void 0!==t.dnsTime&&(n.DNSTime=""+Kt(t.dnsTime/t.dnsCount)),t.conCount>0&&(void 0!==t.conTime&&(n.ConnectTime=""+Kt(t.conTime/t.conCount)),void 0!==t.sslTime&&(n.SSLTime=""+Kt(t.sslTime/t.conCount))),void 0!==t.redirectTime&&t.hitCount>0&&(n.RedirectTime=""+Kt(t.redirectTime/t.hitCount)),n}function uc(t,i){const n=fc(t,"Ajax",i);return void 0!==t.statusCode&&(n["http.status_code"]=""+t.statusCode),dt(t.statusDetails)&&(n["http.status_details"]=""+t.statusDetails),n["http.url"]=Ss(t.ct),n["http.path"]=t.ct.path,n["http.method"]=t.ht,n[Q]=t.contextType,
dt(t.nt)&&(n[tt]=t.nt),dt(t.ft)&&(n[at]=t.ft),n}function dc(t,i){const n=fc(t,"Page Update",i);return n.ApmrumPageUpdateType=t.rt,n.ApmrumClickElementName=t.bt,n.ApmrumClickElementId=t.wt,void 0!==t.gt&&(n.ApmrumPageTitle=t.gt),dt(t.nt)&&(n[tt]=t.nt),n}function hc(t,i){const n=fc(t,"Custom Span",i);return At(t.attributesFlex)?Object.assign(Object.assign({},n),t.attributesFlex):n}function fc(t,i,n){var e;let o={error:!0===t.isFailed?"true":"false","service.name":$s(n),component:"BROWSER","sampling.priority":"1",ApmrumType:i,SessionId:t.sessionId,ApmrumLanguage:navigator.language,ApmrumWindowId:null===(e=ho())||void 0===e?void 0:e.id};if(void 0!==t.attributes){const i={};for(const n in t.attributes)if(Object.prototype.hasOwnProperty.call(t.attributes,n)){const e=t.attributes[n],o=parseInt(n.substring(1),10);void 0!==e&&(i["apmrum.attribute"+o]=e)}if(void 0!==t.attributesFlex){const n={};for(const[i,e]of zn(t.attributesFlex))dt(e)?n[i]=e:gt(e)&&(n[i]=`${e}`)
;o=Object.assign(Object.assign(Object.assign({},o),i),n)}else o=Object.assign(Object.assign({},o),i)}return o}function vc(t,i,n,e){const o=[];if(t.start<0)return o;const s=ai(t.start);return i>0&&o.push({value:"dnsTs",timestamp:s+i}),n>0&&o.push({value:"connectTs",timestamp:s+i+n}),e>0&&o.push({value:"redirectTs",timestamp:s+i+n+e}),o}function lc(t,i){const n=[];return i+=+t.firstByteTime,n.push({value:"firstByteTs",timestamp:Xt(i)}),n}function pc(t,i){const n=[];return i+=t.initTime,n.push({value:"initTs",timestamp:Xt(i)}),i+=+t.firstByteTime,n.push({value:"firstByteTs",timestamp:Xt(i)}),i+=t.downloadTime,n.push({value:"downloadTs",timestamp:Xt(i)}),i+=t.renderTime,n.push({value:"renderTs",timestamp:Xt(i)}),n.push({value:"interactiveTs",timestamp:qt(ai(t.domInteractiveTs))}),n.push({value:"PgLoadTs",timestamp:qt(ai(t.domReadyTs))}),n.push({value:"PgReadyTs",timestamp:qt(ai(t.pageReadyTs))}),n}function mc(t,i){const n=[];return i+=t.initTime,n.push({value:"initTs",timestamp:Xt(i)}),i+=+t.firstByteTime,
n.push({value:"firstByteTs",timestamp:Xt(i)}),i+=t.downloadTime,n.push({value:"downloadTs",timestamp:Xt(i)}),i+=t.renderTime,n.push({value:"renderTs",timestamp:Xt(i)}),n}const gc=Jn([]);let _c,Ac=ri(),wc=ri(),bc=!1,yc=[];function Sc(t,i,n){if(void 0===i)return!1;if(i.type,typeof i!==R)return!1;if(void 0===i.spanId)return!1;if(void 0===i.traceId)return!1;if(i.start<0)return i.start,!1;if(void 0===i.duration||i.duration<0)return!1;if(i.duration>Jt(Ft))return!1;const e=Bo(),o=ri();return i.start+Kt(i.duration)>o+e?("Custom Span"===i.type&&i.spanName,i.start,Kt(i.duration),i.start,Kt(i.duration),Yt(e),!1):!(i.start<o-ii(90)||(s=t,xo(i.type,mo(),Un(s))?(i.start,function(t,i){const n=gc.get(t);void 0===n?gc.set(t,[i]):n.push(i)}(t,i),function(t){Ac=ri();const i=$n();void 0===_c&&!1===t&&(wc=ri()+xc(i),_c=re((()=>{jc.apply(self,[!1])}),zo("bufferMsgIntervalMs",500,i))),!Ic()&&!0!==t||!1!==bc||(!0===t?jc.apply(self,[!0]):io((()=>{jc.apply(self,[!1])})))}(n)):(i.start,i.type),0));var s}function Tc(t,i){
const n=Cc($n()),e=gc.get(t);if(lt(e)){e.length;const o=e.splice(0,n),s=o.length;if(s>0){wc=ri();for(const n of yc)n.doSendMsg(o,i,t)}return s}return 0}function jc(t){let i=0;if(!1===t&&!Ic())return i;if(!0!==bc){bc=!0;for(const n of Dn())i+=Tc(n,t);bc=!1}return 0===Dn().reduce(((t,i)=>t+function(t){const i=gc.get(t);return lt(i)?i.length:0}(i)),0)&&Ic()&&(ae(_c),_c=void 0),i}function Ic(){const t=$n(),i=Dn().reduce(((i,n)=>{var e;if(!0===i)return!0;{const i=Math.floor(.7*Cc(t));return jt(null===(e=gc.get(n))||void 0===e?void 0:e.length,0)>i}}),!1),n=ri(),e=Ac+zo("bufferMsgTimeoutMs",1e3,t)<n,o=wc+xc(t)<n;return(i||e)&&o}function Cc(t){return zo("bufferMsgMax",10,t)}function xc(t){return zo("bufferMsgMinDelay",400,t)}yc=[],yc.push(kr),yc.push(rc),yc.push(Wa)
;const Oc=Jn([["script",0],["audio",4],["beacon",5],["body",2],["css",1],["embed",5],["iframe",5],["frame",5],["icon",2],["img",2],["image",2],["input",2],["link",1],["object",5],["track",4],["video",4]]),Pc=Jn([["svg",2],["gif",2],["bmp",2],["png",2],["ico",2],["js",0],["css",1],["woff",1],["woff2",1],["ttf",1]]);let Ec=!1;function zc(t){Ec=t}function kc(){return Ec}function Zc(t){return"fetch"===t||"xmlhttprequest"===t||"xhr"===t}function Nc(t,i){const n=Do(),e=t.startTime,o=_i(e,i),s=t.duration,r=Ta(pt(s)&&s>0?_i(e,s):o,o,_i(e,n)),a=void 0===r?o:r,c=ja(e,t.requestStart,a),u=Ta(t.responseStart,void 0,a),d=Ta(t.responseEnd,void 0,a),h=jt(Sa(e,d,n),0),f=ja(e,c,a),v=ja(f,d,a),l=Ta(v,u,a),p=ja(e,f,a,!1),_=ja(p,l,a,!1),A=ja(_,v,a,!1),w=jt(Sa(e,p,h),0),b=jt(Sa(p,_,h),0),y=jt(Sa(_,A,h),0),S=li(e),T=bs(!1,t.name),j=dt(t.initiatorType)?t.initiatorType:void 0,I=function(t,i){const n=void 0!==i?Oc.get(i):void 0;if(void 0===n){const i=t.path,n=i.indexOf("."),e=n>0?i.substring(n):void 0,o=void 0!==e?Pc.get(e):void 0
;return void 0!==o?o:5}return n}(T,j),C=void 0!==j&&Zc(j)?"Ajax":Ye(I),x={},O=[];x[`${C}InitTime`]=Yt(w),x[`${C}FirstByteTime`]=Yt(b),x[`${C}DownloadTime`]=Yt(y);const P=Mc(t,S,void 0!==j&&Zc(j)?"Ajax":"Other");void 0!==P&&O.push(P);const E=dt(t.nextHopProtocol)?t.nextHopProtocol:void 0,z=t.transferSize>0?t.transferSize:void 0,k=t.decodedBodySize>0?t.decodedBodySize:void 0,Z=void 0===E?0:void 0===z?1:void 0!==k&&k>t.encodedBodySize?2:3,N=pt(t.responseStatus)&&t.responseStatus>0?t.responseStatus:void 0,M=void 0!==N&&1===Ls(N,"basic");x[`${C}RetrievalType`]=Je(Z),void 0!==z&&(x[C+m]=z),void 0!==S&&O.push(mi(C+g,S,x));const R={zt:I,kt:Z,ci:E,Pt:T,Ot:S,ui:w,hi:b,fi:y,Zt:h,Et:O,k:M,Nt:z};!0===M&&(R.Mt=N),void 0!==k&&(R.vi=k)
;const $=t.domainLookupEnd>0?t.domainLookupEnd:void 0,U=void 0!==$&&t.domainLookupEnd?$-t.domainLookupStart:void 0,L=t.connectEnd>0?t.connectEnd:void 0,D=void 0!==L&&t.connectStart<L?L-t.connectStart:void 0,B=t.redirectEnd>0?t.redirectEnd:void 0,F=void 0!==B&&t.redirectStart<B?B-t.redirectStart:void 0,H=t.workerStart>0&&t.workerStart<e?e-t.workerStart:void 0;return void 0!==U&&(R.li=Yt(U)),void 0!==D&&(R.pi=Yt(D)),void 0!==F&&(R.mi=Yt(F)),void 0!==H&&(R.gi=H),R}function Mc(t,i,n){const e=lt(t.serverTiming)?t.serverTiming:[],o={},s=$o($n());let r=0;for(const t of e){const i=t.name,n=t.description,e=t.duration,a=dt(i),c=a?Yn(i,s):"nameless";dt(n)?(r++,o[c]=n):pt(e)?(r++,o[c]=e):a&&(r++,o[c]="<no value provided>")}if(r>0)return mi(n+p,i,o)}const Rc=Jn(),$c=Jn();let Uc;function Lc(t,i){var n;const e=i.ajax;if(jt(e._i,Mt.NO_DETAILS)!==Mt.CALL_BLOCKED)if(!0===kc()||ha()){if(e.apmTrackStatus,Rc.size,function(t,i){const n=Rc.get(t);!0===vt(n)?(n.push(i),Rc.set(t,n)):Rc.set(t,[i]),Bc(t,!1)}(t,i),void 0===Uc){
const t=$n();Uc=re(Gc,zo("intervalAjaxResourceCheckMs",250,t))}}else Wc(e,i.curXHR,i.ose);else e._i,null===(n=e.P)||void 0===n||n.O,Wc(e,i.curXHR,i.ose)}function Dc(t,i){const n=At(i)?i.Ai:void 0;if(lt(n)){const i=n,e=$c.get(t);if(i.length,!0===vt(e)){const n=void 0===e?[]:e;n.push(...i),$c.set(t,n)}else $c.set(t,[...i])}Bc(t,!1)}function Bc(t,i){const n=Rc.get(t),e=$c.get(t),o=vt(n)?n:[],s=vt(e)?e:[];if(!1===kc())if(s.length>0)zc(!0);else if(!1===ha()&&o.length>0)for(const t of o){const i=t.ajax,n=t.ose;i.apmTrackStatus,i.Ot,i.duration,Wc(i,t.curXHR,n)}if(Rc.size,$c.size,void 0===o||o.length,void 0===s||s.length,!0===i||o.length===s.length&&o.length>0){Rc.delete(t),$c.delete(t);const i=o.sort(((t,i)=>{const n=t.ajax,e=i.ajax;return n.Ot!==e.Ot?n.Ot-e.Ot:jt(n.wi,0)-jt(e.wi,0)})),n=s.sort(((t,i)=>t.Ot!==i.Ot?t.Ot-i.Ot:i.Zt-t.Zt)),e=i.length,r=n.length,a=e>r?e:r;for(let t=0;t<a;t++){const o=t<e?i[t]:void 0,s=t<r?n[t]:void 0,a=void 0!==o?o.ajax:void 0,c=void 0!==o?o.ose:void 0
;void 0!==a&&void 0!==o?void 0!==s?(a.apmTrackStatus,a.Ot,s.Ot,a.duration,s.Zt,Wc(Fc(a,s),o.curXHR,c)):(a.apmTrackStatus,a.Ot,a.duration,Wc(a,o.curXHR,c)):void 0!==s&&(s.Ot,s.Zt)}return a>0}return!1}function Fc(t,i){const n=t,e=i.Et,o=[];n.ai,n.tags,o.push([Rt,Yt(i.ui)]),o.push([$t,Yt(i.hi)]),o.push([Ut,Yt(i.fi)]),dt(i.ci)?(o.push(["AjaxResponseType",Je(i.kt)]),o.push(["AjaxNextHop",i.ci])):e.push(mi("partial ResourceTiming data",i.Ot,{warn:"Timing-Allow-Origin header not present or mismatch"})),void 0!==i.Nt&&o.push([Dt,i.Nt]),void 0!==i.vi&&o.push([Lt,i.vi]),void 0!==i.pi&&o.push(["AjaxConnectDuration",i.pi]),void 0!==i.li&&o.push(["AjaxDNSDuration",i.li]),void 0!==i.mi&&o.push(["AjaxRedirectDuration",i.mi]),void 0!==i.gi&&o.push(["AjaxWorkerProcessingDuration",i.gi]);for(const[t,i]of o)void 0===n.tags[t]&&(n.tags[t]=i);return n.tags,n.apmEvents.push(...e),n}function Hc(t){let i=0;t.length;for(const n of t)i+=!0===Bc(n,!0)?1:0;return i}function Gc(t){
const i=zo("minTimeoutAjaxResourceInfoMs",1e3,$n()),n=ri();let e;if(!0===t){const t=new Set([...$c.keys(),...Rc.keys()]);Rc.size,$c.size,e=Hc([...t])}else{const t=[];Rc.size;for(const[e,o]of Rc.entries())Math.max(...o.map((t=>{const i=t.ajax,n=i.bi(),e=i.yi(),o=i.Si();return void 0!==e?e:void 0!==o?o:n})))+i<n&&(o[0].ajax,o[0].ajax.apmTrackStatus,o[0].ajax.ai,t.push(e));e=Hc(t)}0===Rc.size&&0===e&&null!=Uc&&(ae(Uc),Uc=void 0)}function Wc(t,i,n){var e;const o=$n();for(const s of Dn()){const r=t.Ti(o,s,i);null==r||r.status,t.apmTrackStatus,null===(e=t.rPH)||void 0===e||e.onApmEnd(t),void 0!==r&&void 0!==r.ct&&(yt(n)&&n(s,r),Sc(s,r,!1))}}function qc(t,i,n,e,o,s){if(void 0===t[Rt]){const i=void 0===e?n:e,r=void 0===o?i:o;t[Rt]=Yt(i>n?i-n:0),t[$t]=Yt(r>i?r-i:0),t[Ut]=Yt(s>r?s-r:0)}void 0===t[Lt]&&(t[Lt]=i());const r=gt(t[Rt])?t[Rt]:0,a=gt(t[$t])?t[$t]:0,c=gt(t[Ut])?t[Ut]:0;return{respSize:gt(t[Lt])?t[Lt]:0,initTime:Jt(r),fbTime:Jt(a),dnldTime:Jt(c),duration:Jt(r+a+c)}}function Vc(){
return bs(!0,"about:apmrum/ajax/undefined/url")}function Xc(t){const i=t.ji;return"Ajax "+(void 0===i?"[noUrl]":i.path)}function Jc(t,i){const n=$n();return(e,o)=>{const s=Un(e),r=sc(ai(t),o,n,s),a=o.start+Kt(o.duration);i.updateName(o.spanName),void 0!==r.attributes&&i.setAttributes(Object.assign({},r.attributes)),i.setAttribute(ce,!0),i.end(ui(a))}}function Kc(t){const i=t;return At(t)&&dt(i.name)&&yt(i.spanContext)&&hi(i.startTime)}function Yc(t){const i=Qc(t.apmTrackStatus);if(!0===t.k&&void 0!==i){const n=t.Ii(),e=0!==Ls(n,"basic")&&pt(n)&&n>0,o={C:2,I:e?1:i,O:e?"HTTP status "+n:"AJAX call status "+t.apmTrackStatus};return e&&(o.Z=n),o}}function Qc(t){return Jn([["abort",3],["timeout",4],["error",2],["complete",5]]).get(t)}function tu(t,i,n){if(void 0===n&&!0===t)return{code:un.UNSET};if(void 0===n)return{code:un.OK};{const t=n.O;return{code:0===n.I?un.OK:5===n.I?un.UNSET:un.ERROR,message:t}}}function iu(t){var i,n;const e=Qc(t.Ci());if(null!=e)switch(t.xi){case"Ajax":return Yc(t.Oi);case"Custom Span":{
const i=t.Pi,n=At(i)&&At(i.status)&&!0===i.ended&&dt(i.status.message)?i.status.message:void 0;return dt(n)?{C:3,I:e,O:n}:void 0}case"Script Error":return{C:4,I:e,O:null!==(n=null===(i=t.Ei)||void 0===i?void 0:i.O)&&void 0!==n?n:de}}}function nu(t){const i=_t(t)?t.Ei:void 0,n=_t(i)?i.O:void 0;let e;return dt(n)&&(e={},e[ct]=n),e}function eu(t,i){return"opaqueredirect"===t?302:"opaque"===t||void 0===i?0:i}function ou(t,i,n,e){let o;if("loading"===t||"init"===t){const t=Ls(n,i);if(0===t)o=n>=200?{apmTrackStatus:"complete",lt:n,zi:jt(e,"OK"),ki:Mt.NORMAL,k:!1}:{apmTrackStatus:"complete",lt:n,ki:Mt.NO_DETAILS,zi:"opaqueredirect"===i?"APM-CorsRedirect":"APM-CorsResponse",k:!1};else if(1===t)if(0===n){const t="error status : "+ss;o={apmTrackStatus:"error",lt:n,ki:Mt.NO_DETAILS,k:!0,zi:t,P:{C:2,I:2,O:t}}}else{const t=`HTTP Status ${n}`;o={apmTrackStatus:"error",lt:n,ki:Mt.NORMAL,k:!0,zi:t,P:{C:2,I:1,Z:n,O:t}}}else if(3===t){const t=`invalid status : Response-${n}`;o={apmTrackStatus:"error",lt:n,ki:Mt.NORMAL,k:!0,
zi:t,P:{C:2,I:2,O:t}}}else{const t="timeout status : "+as;o={apmTrackStatus:"timeout",lt:n,ki:Mt.NO_DETAILS,k:!0,zi:t,P:{C:2,I:4,O:t}}}}return o}const su=Ri("Oracle APM Context Wrapper SPAN-key");function ru(t){const i=t.getValue(su);return At(n=i)&&void 0!==n.apmTrackStatus&&yt(n.bi)?i:void 0;var n}class au{constructor(t){this.attributes=t}static empty(){return au.EMPTY}static default(){const t=lo(),i=Un(Ln),[n,e]=dr(),o=Object.assign({SessionId:fr(),UserName:Go(i),ServiceName:$s(i),Component:"BROWSER",ApmrumWindowId:ho().id,ApmrumLanguage:navigator.language,ApmVersion:"1.1.131",PageSpanId:n,PageTraceId:e},t),s={};for(const[t,i]of zn(o))s[t]=`${i}`;return new au(s)}merge(t){return null==t||void 0===t.attributes?this:new au(Object.assign(Object.assign({},this.attributes),t.attributes))}}function cu(){return au.default()}let uu,du,hu;function fu(t){const i=[];void 0===uu&&(uu=new RegExp("https?://[-A-Za-z0-9.]+(?::[0-9]+)?[^: ]+"));let n=t.match(uu)
;null!==n?i[0]=n[0]:(void 0===du&&(du=new RegExp(" +at +[^/]*(/[-_/A-Za-z0-9.]+)")),n=t.match(du),i[0]=null==n?"":n[1]),void 0===hu&&(hu=new RegExp(/:([0-9]+):([0-9]+)/));const e=t.match(hu);return null==e?i[1]=i[2]="":(i[1]=e[1],i[2]=e[2]),i}au.EMPTY=new au({});const vu="childspan",lu="event",pu="columnNumber",mu="lineNumber",gu="fileName";class _u{constructor(t,i,n,e,o,s,r){this.droppedAttributesCount=0,this.droppedEventsCount=0,this.droppedLinksCount=0;const a=Se();this.spanId=a,void 0!==e?(this.traceId=e.traceId,this.parentSpanId=e.spanId,this.Zi=e.Zi):(this.traceId=ye(a),this.Zi="Background"),this.message=t,this.ai=`error ${t}`,this.errorObj=i,this.Ot=o,this.wi=o,this.count=1,this.Ni=!1,this.rPH=s,this.onSpanEnd=r,this.traceFlags=$i.SAMPLED,this.kind=cn.INTERNAL,this.apmTrackStatus="error",this.k=!0,this.C="Script Error",this.tags={},this.apmEvents=[n],this.P={C:4,I:2,O:t}}Mi(){return this.ai}bi(){return this.Ot}yi(){return this.wi}Ri(t){return(void 0===this.wi||this.wi<t)&&(this.wi=t),
yt(this.onSpanEnd)&&this.onSpanEnd(),this.wi}get name(){return this.ai}get startTime(){return ui(this.Ot)}get endTime(){return void 0===this.wi?[0,0]:ui(this.wi)}get duration(){const t=this.Ot,i=this.wi,n=null==i||i<t?0:i-t;return 0===n?[0,0]:di(n)}get events(){return this.apmEvents}get status(){return this.getStatus()}set status(t){this.setStatus(t)}get attributes(){return this.tags}set attributes(t){this.tags=Ge(this.tags,t)}get links(){return[]}get ended(){return void 0!==this.wi}get resource(){return cu()}get instrumentationLibrary(){return We()}setAttribute(t,i){return Ge(this.tags,{key:i}),this}setAttributes(t){return Ge(this.tags,t),this}addEvent(t,i,n){const e=fi(i)?li(i):fi(n)?li(n):ri(),o=!fi(i)&&At(i)?i:{};return pi(this.apmEvents,t,o,e),this}end(t){const i=void 0===t?ri():li(t);this.Ri(i)}updateName(t){return this.ai=t,this}isRecording(){return!1===this.Ni}recordException(){}setStatus(t){return Ve(this,t),this}getStatus(){return tu(this.isRecording(),this.apmTrackStatus,this.P)}spanContext(){
return{traceId:this.traceId,spanId:this.spanId,traceFlags:this.traceFlags}}}class Au extends _u{constructor(t,i,n,e,o,s,r,a,c,u){super(t,i,n,e,o,s,u),this.filename=r,this.lineno=a,this.colno=c}}let wu,bu;const yu=Jn();let Su;function Tu(t,i,n){const e=wr(t,i,"Page Update"===n.Zi?"Page Update":"Page",!0,{P:n.P}),o=n.wi>=n.Ot?Jt(n.wi-n.Ot):0,s=Object.assign(Object.assign({},e),{type:"Script Error",start:Yt(n.Ot),duration:o,errorObject:n.errorObj,operationName:n.Mi(),message:n.message,count:n.count,contextType:n.Zi,spanId:n.spanId,traceId:n.traceId});if(void 0!==n.parentSpanId&&(s.parentSpanId=n.parentSpanId),void 0!==n.filename){const t=n;s.file=t.filename,s.line=t.lineno,s.colNumber=t.colno,s.errorObject=t.errorObj}vt(n.apmEvents)&&n.apmEvents.length>0&&(s.apmEvents=n.apmEvents);let r=[];if("apmrumJSBundle"in document){r=document.apmrumJSBundle;let t="";for(const i of r)t+=i.name+"\t"+i.id+"\n";const i={mappings:t},n=mi("source_mappings",s.start,i);void 0===s.apmEvents?s.apmEvents=[n]:s.apmEvents.push(n)}
return s}function ju(t){if(dt(t))return t;if(At(t)){const i=At(t.error)?t.error:t;return dt(t.error)?t.error:Nt({stack:Ot(i)&&dt(i.stack)?i.stack:"",message:Et(i)&&dt(i.message)?i.message:"",code:Pt(i)&&dt(i.code)?i.code:"",name:zt(i)&&dt(i.name)?i.name:"",type:kt(i)&&dt(i.type)?i.type:""})}return Nt(t)}function Iu(t,i,n,e,o){const s=(Ot(t)?t.stack:"").split("\n");let r=["","",""];for(const t of s){const i=fu(t);if(lt(i)&&dt(i[0])&&dt(i[1])&&dt(i[2])){r=i;break}}const a=Eu(t,i,r),c=a.attributes,u=void 0!==c&&dt(c.fileName)?c.fileName:r[0],d=void 0!==c&&mt(c[pu])?c[pu]:0,h=void 0!==c&&mt(c[mu])?c[mu]:0,f=void 0===c?void 0:c.message,v=dt(f)?f:`${te(t)}`;return function(t,i,n,e,o){if(Oo("Script Error")){const s=$n(),r=ut(t.filename),a=Te(t.message+"="+t.filename+"@"+t.lineno+":"+t.colno),c=r?void 0:yu.get(a);if(r?void 0!==bu:void 0!==c){if(!0===r&&void 0!==bu)bu=Ou(bu,i),bu.bi(),bu.yi(),bu.count;else if(void 0!==c){const t=Ou(c,i);yu.set(a,t),t.bi(),t.yi(),t.count}}else{
const c=Uo(s),u=Yn(t.message,c),d=void 0!==n?{$i:n,xi:"Script Error",Ui:()=>i,Ci:()=>"error",Li:!0,Ei:{C:4,I:2,O:u}}:void 0;if(void 0!==n&&void 0!==d&&yt(n.markChildSpan)&&n.markChildSpan(d),r){const s=new _u(u,ju(t.rawEventException),t.initEvent,n,i,e,void 0!==n&&void 0!==d?()=>{null==e||e.onApmEnd(s),yt(n.markChildSpanDone)&&(null==n||n.markChildSpanDone(d))}:void 0);bu=s,void 0!==e&&"onStart"!==o&&e.onApmStart(s)}else{const s=new Au(u,ju(t.rawEventException),t.initEvent,n,i,e,t.filename,t.lineno,t.colno,void 0!==n&&void 0!==d?()=>{null==e||e.onApmEnd(s),yt(n.markChildSpanDone)&&n.markChildSpanDone(d)}:void 0);void 0!==e&&"onStart"!==o&&e.onApmStart(s),yu.set(a,s),s.bi(),s.count}!function(){const t=Pu($n());void 0===wu&&(wu=re((()=>{!function(){const t=$n(),i=Pu(t),n=zo("errFlushOutDate",500,t),e=ri();let o=0;if(void 0!==bu)if(bu.wi+i<e||bu.Ot+n<e){const i=bu;yt(bu.onSpanEnd)&&bu.onSpanEnd(),bu=void 0;for(const n of Dn())Sc(n,Tu(t,Un(n),i),!1);o+=1}else bu.wi,bu.Ot;if(yu.size>0){const s=[]
;for(const[r,a]of yu)if(a.wi+i<e||a.Ot+n<e){const i=[];for(const n of Dn()){const e={Di:n,Bi:Tu(t,Un(n),a)};i.push(e)}yt(a.onSpanEnd)&&a.onSpanEnd();for(const t of i){const i=t.Bi;Sc(t.Di,i,!1),i.message,i.count}s.push(r),o+=1}else a.wi,a.Ot;for(const t of s)yu.delete(t)}if(0===o&&0===yu.size&&void 0===bu&&void 0!==wu){const t=wu;wu=void 0,ae(t)}}()}),t))}()}}}({type:"SpanException",message:v,rawEventException:t,filename:u,lineno:h,colno:d,initEvent:a},i,n,e,o),v}var Cu;function xu(t,i,n,e){const o=Eo("storeReportExceptionAs",void 0,$n()),s=o===vu?Cu.CHILDSPAN:o===lu?Cu.EVENT:Cu.CHILDSPAN,r={C:4,I:2,O:Et(t)?t.message:`${te(t)}`};if(s===Cu.CHILDSPAN)Iu(t,i,n,n.rPH,e);else if(s===Cu.EVENT){const e=Eu(t,i,null);n.apmEvents.push(e)}Xe(n.P,r)&&(n.k=!0,n.P=r,n.apmTrackStatus="error")}function Ou(t,i){return t.count+=1,i<t.Ot?t.Ot=i:t.wi<i&&(t.wi=i),t}function Pu(t){return zo("errFlushTimeout",200,t)}function Eu(t,i,n){const e={error:!0};if(dt(t))e[ct]=t;else if(At(t)){const i=At(t.error)?t.error:t,o=te(i)
;if(e[ct]=o,Ot(i)&&dt(i.stack)&&(e.stack=i.stack),Pt(i)){const t=i.code;e.code=dt(t)?t:gt(t)?new Number(t).toString(10):At(t)?function(t,i){return JSON.stringify(ne(t))}(t):"apm-unable-to-map-errorCode-"+typeof t}zt(i)&&(e.name=i.name),mt(i[pu])?e[pu]=i[pu]:mt(i.colno)?e[pu]=i.colno:mt(i.colNumber)?e[pu]=i.colNumber:null!==n&&dt(n[2])&&(e[pu]=parseInt(n[2])),mt(i.lineNumber)?e[mu]=i.lineNumber:mt(i.lineno)?e[mu]=i.lineno:mt(i.line)?e[mu]=i.line:null!==n&&dt(n[1])&&(e[mu]=parseInt(n[1])),dt(i[gu])?e[gu]=i[gu]:dt(i.filename)?e[gu]=i.filename:dt(i.file)?e[gu]=i.file:null!==n&&dt(n[0])&&(e[gu]=n[0])}return mi("exception",i,e)}!function(t){t[t.CHILDSPAN=0]="CHILDSPAN",t[t.EVENT=1]="EVENT"}(Cu||(Cu={}));class zu{get Zi(){return void 0===this.apmcontextType?"Background":this.apmcontextType}get traceId(){return void 0===this.V&&(this.V=ye(this.spanId)),this.V}get spanId(){return void 0===this.q&&(this.q=Se()),this.q}constructor(t,i,n,e){this.Fi="fetch",this.Hi=0,this.Gi=!1,this.droppedAttributesCount=0,
this.droppedEventsCount=0,this.droppedLinksCount=0,this.Ot=i.startTs,this.Wi=i.method,this.traceFlags=$i.SAMPLED,this.C="Ajax",this.apmTrackStatus="init",this.k=!1,this.apmEvents=[],this.kind=cn.CLIENT,this.zi="",void 0!==n?(this.apmcontextType="OTEL",this.apmTrackOTTracer=n):void 0!==t?(this.apmcontextType=t.Zi,this.qi=t.spanId,this.q=Se(),this.V=t.traceId,this.Vi=t):(this.apmcontextType="Background",this.Vi=void 0,this.q=Se(),this.V=ye(this.spanId)),this.apmcontextType,void 0===this.qi||this.qi,this.Xi=!1,this.ai=Xc(i),this.Ji=i.ji,this.Ki=i.Ki,this.tags=i.Yi,this.rPH=e}recordException(t,i){xu(t,void 0===i?ri():li(i),this)}spanContext(){return qe(this.spanId,this.traceId,this.traceFlags,this.traceState)}setAttribute(t,i){const n={};return dt(t)&&(n[t]=i,Ge(this.tags,n)),this}setAttributes(t){return Ge(this.tags,t),this}addEvent(t,i,n){const e=fi(i)?li(i):fi(n)?li(n):ri(),o=!fi(i)&&At(i)?i:{};return pi(this.apmEvents,t,o,e),this}end(t){const i=void 0===t?ri():li(t);this.Ri(i)}get name(){return this.ai}
get startTime(){return ui(this.Ot)}get endTime(){return void 0===this.wi?[0,0]:ui(this.wi)}get status(){return this.getStatus()}set status(t){this.setStatus(t)}get attributes(){return this.tags}set attributes(t){Ge(this.tags,t)}get links(){return[]}get events(){return this.apmEvents}get duration(){const t=this.Ot,i=this.wi,n=null==i||i<t?0:i-t;return 0===n?[0,0]:di(n)}get ended(){return void 0!==this.wi}get resource(){return cu()}get instrumentationLibrary(){return We()}isRecording(){return void 0===this.wi}updateName(t){return this.ai=t,this.Xi=!0,this}Mi(){return this.ai}Ri(t){return this.wi=t,this.wi}yi(){return this.wi}bi(){return this.Ot}Qi(){return this.tn}Si(){return this.nn}Ii(){return this.lt}en(){if(this.isRecording()){const t="abort",i=rs+": aborted by unloading current document",n={C:2,I:3,O:t+" status : "+i};Xe(this.P,n)&&(this.k=!0,this.apmTrackStatus=t,this.lt=0,this.zi=i,this.P=n)}else this.apmTrackStatus;ku(this)}on(t){this.sn=t}setStatus(t){return Ve(this,t)}getStatus(){
return tu(this.isRecording(),this.apmTrackStatus,this.P)}Ti(t,i){if(void 0===this.wi&&(this.wi=this.Ri(ri())),this.Ot>ri()-Ft){const n=qc(this.tags,(()=>jt(this.rn,0)),this.Ot,this.tn,this.nn,this.wi);this.tn=this.Ot+Kt(n.initTime),this.nn=this.Ot+Kt(n.initTime+n.fbTime),this.wi=this.Ot+Kt(n.duration);const e=wr(t,Un(i),"Ajax",this.k,{it:this.an,P:this.P});void 0===this.Ji&&(!1===this.Xi&&(this.ai="Ajax[noUrl]"),this.Ji=Vc());const o=Object.assign(Object.assign({},e),{type:"Ajax",spanId:""+this.spanId,traceId:""+this.traceId,spanName:this.Mi(),ct:this.Ji,ut:this.Fi,ht:jt(this.Wi,us),contextType:this.Zi,statusCode:jt(this.lt,0),statusDetails:this.zi,status:this.apmTrackStatus,_i:jt(this._i,Mt.CALL_BLOCKED),start:Yt(this.Ot),initTime:n.initTime,firstByteTime:n.fbTime,downloadTime:n.dnldTime,duration:n.duration,Hi:this.Hi,requestSize:jt(this.cn,0),responseSize:n.respSize});if((e.apmEvents||this.apmEvents.length>0)&&(o.apmEvents=[...this.apmEvents,...e.apmEvents?e.apmEvents:[]]),
(At(e.attributesFlex)||At(this.tags))&&(o.attributesFlex=Object.assign(Object.assign({},e.attributesFlex),this.tags)),e.attributes&&(o.attributes=e.attributes),e.tt&&(o.tt=e.tt),void 0!==this.ft&&(o.ft=this.ft),void 0!==this.dn&&(o.Xt=this.dn),void 0!==this.hn&&(o.Jt=this.hn),void 0!==this.fn&&(o.apmcsRequestId=this.fn),void 0!==this.qi&&(o.parentSpanId=this.qi),void 0!==this.Vi&&yt(this.Vi.markChildSpan)&&(["Page Update"].includes(this.Zi)&&(o.vt=qt(ci(this.Vi.bi()))),yt(this.Vi.markChildSpanDone))){const t={$i:this.Vi,xi:"Ajax",Ui:()=>this.Ot,Ci:()=>this.apmTrackStatus,Oi:this};!0===this.k&&(t.Li=!0,t.Ei=this.P),this.Vi.markChildSpanDone(t)}return o}{this.Ot;const t=(this.tn,this.nn,this.wi,this.Ji);return void(t&&ys(t))}}trackFetch(t,i,n,e,o){var s;this.Fi="fetch";const r=this;if(void 0!==this.apmTrackOTTracer){const t=ze().active(),i=ru(t),e=this.apmTrackOTTracer.startSpan(Xc(n),{kind:cn.CLIENT,startTime:ui(n.startTs),attributes:ic("Ajax",n.ji)},t),o=void 0===i?void 0:{$i:i,Oi:this,xi:"Ajax",
Ui:()=>this.Ot,Ci:()=>this.apmTrackStatus};!0===this.k&&void 0!==o&&(o.Li=!0,o.Ei=this.P),this.on(Jc(n.startTs,e));const s=null==e?void 0:e.spanContext();void 0!==s?(this.q=s.spanId,this.V=s.traceId,Kc(e)&&e.parentSpanId?(this.qi=e.parentSpanId,this.Mi(),this.qi,void 0!==i&&i.traceId===s.traceId?(this.Vi=i,yt(i.markChildSpan)&&void 0!==o&&i.markChildSpan(o),this.apmcontextType=i.Zi):this.apmcontextType="Background",this.kind=e.kind):(this.apmcontextType="Background",this.kind=cn.CLIENT)):this.kind=void 0===s?cn.CLIENT:e.kind,this.kind=cn.CLIENT}else if(void 0!==this.Vi)if(!1===js(n.vn)){const t={$i:this.Vi,Oi:this,Ui:()=>this.Ot,xi:"Ajax",Ci:()=>this.apmTrackStatus};!0===this.k&&void 0!==t&&(t.Li=!0,t.Ei=this.P),yt(this.Vi.markChildSpan)&&void 0!==t&&this.Vi.markChildSpan(t),this.qi,this.V}else this.apmcontextType="Background",this.qi=void 0,this.V=ye(this.spanId);else this.apmcontextType="Background",this.qi=void 0,this.V=ye(this.spanId);const a=this.traceId,c=this.spanId,u=zs(this.Ji,yr("Page"));let d
;if(void 0===e||dt(e)||!At(e)||ut(e.url)){const t={};if(void 0===o){const i=ks(a,c,fr(),u);i.length>0&&(o={headers:Ns(t,i)})}else{const t=Zs(o.headers,ds),i=void 0===t?0:Number.parseInt(t);d=Zs(o.headers,Qo);const n=ks(a,c,fr(),u);this.cn=Number.isNaN(i)?0:i,n.length>0&&(void 0===o.headers&&(o.headers=new Headers),o.headers=Ns(o.headers,n))}}else if(At(e)&&Gs(e.headers)){const t=Zs(e.headers,ds),i=void 0===t?0:Number.parseInt(t);d=Zs(e.headers,Qo);const n=ks(a,c,fr(),u);this.cn=Number.isNaN(i)?0:i,n.length>0&&Ns(e.headers,n)}null===(s=this.rPH)||void 0===s||s.onApmStart(this),dt(d)&&(this.dn=d);const h=new Promise(((n,s)=>{let a,c;try{c=t.call(i,e,o).then((t=>(void 0===this.nn&&(this.nn=Yt(ri())),r.ln(t),t)),(t=>{throw!0!==this.k&&(r.pn(t),r._i=Mt.CALL_BLOCKED,a=t),t})).catch((t=>{throw!0!==this.k&&(r.pn(t),r._i=Mt.CALL_BLOCKED,a=t),t}))}catch(t){return!0!==this.k&&(r.pn(t),r._i=Mt.CALL_BLOCKED,a=t),t}r.Ri(ri()),r.spanId,r.apmTrackStatus,c.then((t=>{ku(r),n(t)})).catch((t=>{ku(r),s(void 0===a?t:a)}))}))
;return this.apmTrackStatus="loading",this.tn=Yt(ri()),h}pn(t){this.apmTrackStatus="error",this.k=!0;const i=te(t),n=void 0===i?void 0:ss+":"+i,e={C:2,I:2,O:this.apmTrackStatus+" status : "+n};Xe(this.P,e)&&(this.k=!0,this.apmTrackStatus="error",this.zi=jt(n,"failure in fetch"),this.P=e),this.lt=0}ln(t){const i=t.type,n=eu(i,t.status),e=ou(this.apmTrackStatus,i,n,t.statusText);if(void 0!==e&&(e.apmTrackStatus,this.apmTrackStatus=e.apmTrackStatus,this.k=e.k,this.lt=e.lt,this.zi=e.zi,void 0!==e.P&&(this.P=e.P),this._i=e.ki),n>0&&(ut(i)||"basic"===i||"default"===i||"error"===i)){const i=function(t){let i="";return t.forEach(((t,n)=>{i+=n+": "+t+"\n"})),i}(t.headers),e={type:this.apmTrackStatus,status:n,statusText:this.zi,U:void 0,getAllResponseHeaders:()=>i};for(const t of this.Ki){const i=Cs(e,t.D);dt(i)&&this.setAttribute(t.B,i)}const o=Cs(e,Xo);void 0!==o&&(this.fn=o);const s=Cs(e,Yo);void 0!==s&&(this.ft=s);const r=Cs(e,Qo);dt(r)&&(this.hn=r),this.an=Cs(e,Jo);const a=Cs(e,ds),c=null!=a?Number.parseInt(a):0
;this.rn=Number.isNaN(c)?0:c}}}function ku(t){if(!1===t.Gi){t.Hi=Ms(t.lt,t.Ji);const i={ajax:t,curXHR:void 0,ose:t.sn};void 0!==t.Ji&&Lc(ys(t.Ji),i),t.Gi=!0}}let Zu,Nu,Mu,Ru,$u,Uu,Lu,Du,Bu,Fu,Hu;function Gu(t,i,n){const e={$i:n,xi:"Ajax",Ui:()=>t.Ot,Ci:()=>t.apmTrackStatus,Oi:t,mn:i};return!0===t.k&&(e.Li=!0,e.Ei=t.P),e}class Wu{get spanId(){return void 0===this.q&&(this.q=Se()),this.q}get traceId(){return void 0===this.V&&(this.V=ye(this.spanId)),this.V}constructor(t,i,n){this.Fi="async",this.zi="",this.Hi=0,this.gn=!1,this._n={},this.isTracked=!1,this.droppedAttributesCount=0,this.droppedEventsCount=0,this.droppedLinksCount=0,this.Ot=Yt(ri()),this.isRemote=!1,this.traceFlags=$i.SAMPLED,this.C="Ajax",this.apmTrackStatus="init",this.apmEvents=[],this.Zi=void 0!==i?i.Zi:"Background",this.ai="Ajax [init]",void 0!==t?(this.q=void 0,this.V=void 0,this.apmTrackOTTracer=t):void 0!==i?(this.Vi=i,this.q=Se(),this.V=i.traceId,this.qi=i.spanId):(this.q=Se(),this.V=ye(this.spanId)),this.rPH=n,this.kind=cn.CLIENT,
this.k=!1,this.tags={}}recordException(t,i){xu(t,void 0===i?ri():li(i),this)}spanContext(){return qe(this.spanId,this.traceId,this.traceFlags,this.traceState)}setAttribute(t,i){const n={};return dt(t)&&(n[t]=i,Ge(this.tags,n)),this}setAttributes(t){return Ge(this.tags,t),this}addEvent(t,i,n){const e=fi(i)?li(i):fi(n)?li(n):ri(),o=!fi(i)&&At(i)?i:{};return pi(this.apmEvents,t,o,e),this}end(t){const i=void 0===t?ri():li(t);this.Ri(i)}get name(){return this.ai}get startTime(){return ui(this.Ot)}get endTime(){return void 0===this.wi?[0,0]:ui(this.wi)}get status(){return this.getStatus()}set status(t){this.setStatus(t)}get attributes(){return this.tags}set attributes(t){Ge(this.tags,t)}get links(){return[]}get events(){return this.apmEvents}get duration(){const t=this.Ot,i=this.wi,n=null==i||i<t?0:i-t;return 0===n?[0,0]:di(n)}get ended(){return void 0!==this.wi}get resource(){return cu()}get instrumentationLibrary(){return We()}isRecording(){return void 0===this.wi}on(t){this.sn=t}setStatus(t){return Ve(this,t)}
getStatus(){return tu(this.isRecording(),this.apmTrackStatus,this.P)}updateName(t){return this.ai=t,this}Mi(){return this.ai}Ri(t){return this.wi=t,this.wi}yi(){return this.wi}bi(){return this.Ot}An(t,i,n,e,o,s,r){var a;const c=t,u=bs(!1,e),d=Js("Ajax",u),h={method:n,startTs:this.Ot,vn:u,ji:d,Yi:{},Ki:[]};if(this.Wi=h.method,Is(u)&&Is(d)){ys(u),this.isTracked=!0,this.Ji=d,this.ai=Xc(h);const n=At(c.apmTracker)?c.apmTracker:void 0,f=At(n)?n.apmTrackOTTracer:void 0,v=At(f)&&yt(f.startSpan)?f:void 0;if(void 0!==n&&void 0!==v){const t=ze().active(),i=ru(t),e=v.startSpan(Xc(h),{kind:this.kind,startTime:ui(h.startTs),attributes:ic("Ajax",d)},t);yt(n.on)&&n.on(Jc(h.startTs,e));const o=null==e?void 0:e.spanContext();if(void 0!==o)if(this.q=o.spanId,this.V=o.traceId,Kc(e)&&e.parentSpanId)if(this.qi=e.parentSpanId,this.Mi(),this.qi,void 0!==i&&i.traceId===o.traceId){this.Vi=i;const t=Gu(this,c,this.Vi);yt(i.markChildSpan)&&i.markChildSpan(t),this.Zi=i.Zi}else this.Zi="Background";else this.Zi="Background"}else{
const t=this.Vi;if(!1===js(this.Ji)&&void 0!==t){if(yt(t.markChildSpan)){const i=Gu(this,c,t);t.markChildSpan(i)}}else"Background"!=this.Zi&&(this.Zi="Background",this.V=ye(this.spanId),this.Vi=void 0,this.qi=void 0)}null===(a=this.rPH)||void 0===a||a.onApmStart(this);try{At(c.apmTracker)&&yt(i)?void 0!==o?(this.Fi=!0===o?"async":"sync",i.call(t,h.method,e,o,s,r)):(this.Fi="async",i.call(t,h.method,e)):(this._i=Mt.CALL_BLOCKED,this.wn(c,`unexpected incorrect context of XHR.open for: ${d.host}${d.path}`,ri()))}catch(t){throw this._i=Mt.CALL_BLOCKED,this.wn(c,`error (${t}) on XHR.open for: ${d.host}${d.path}`,ri()),t}}else ys(u),At(c.apmTracker)&&yt(i)?void 0!==o?(this.Fi=!0===o?"async":"sync",i.call(t,h.method,e,o,s,r)):i.call(t,h.method,e):(d.host,d.path)}bn(t,i,n,...e){var o,s,r,a,c,u;const d=t;if(!0===this.isTracked){if("init"===this.apmTrackStatus?this.apmTrackStatus="loading":this.apmTrackStatus,this.tn=ri(),void 0!==this.Wi&&!["GET","OPTION","HEAD"].includes(this.Wi))try{const t=Zs(this._n,ds)
;void 0!==t?this.yn=Number.parseInt(t):(dt(h=n)||vt(h)||At(h)&&pt(h.length))&&(this.yn=n.length)}catch(t){}this.Ji;try{const t=Zs(this._n,Qo);dt(t)&&(this.dn=t)}catch(t){}try{const r=zs(this.Ji,yr("Page")),a=ks(this.traceId,this.spanId,fr(),r);a.length>0&&Ns(d,a),At(d.apmTracker)&&yt(i)?void 0===n?i.call(t):void 0!==e&&e.length>0?i.call(t,n,...e):i.call(t,n):(this._i=Mt.CALL_BLOCKED,this.wn(d,`unexpected incorrect context of XHR.send for: ${null===(o=this.Ji)||void 0===o?void 0:o.host}${null===(s=this.Ji)||void 0===s?void 0:s.path}`,ri()))}catch(t){throw this._i=Mt.CALL_BLOCKED,this.wn(d,`error (${t}) on XHR.send for: ${null===(r=this.Ji)||void 0===r?void 0:r.host}${null===(a=this.Ji)||void 0===a?void 0:a.path}`,ri()),t}}else void 0===this.Ji||ys(this.Ji),At(d.apmTracker)&&yt(i)?i.call(t,n||null):(null===(c=this.Ji)||void 0===c||c.host,null===(u=this.Ji)||void 0===u||u.path);var h}Sn(t,i,n,e){var o,s;const r=t;if(this._n[Qn(n)]=e,At(r.apmTracker)&&yt(i))return i.call(t,n,e)
;null===(o=this.Ji)||void 0===o||o.host,null===(s=this.Ji)||void 0===s||s.path}Qi(){return this.tn}Si(){return this.nn}Ii(){return this.lt}en(t){const i=Yt(ri());void 0===this.Ji&&(this.Ji=Vc());const n=this.Ji,e=`${rs}: aborted on ajax call to: ${null==n?void 0:n.host}${null==n?void 0:n.path}`;void 0!==t&&this.ln(t),this.apmTrackStatus="abort",this.k=!0,this.zi=e,this.P={C:2,I:3,O:e},this.Tn(i),this.jn(t)}In(t,i){return i.call(t)}Ti(t,i,n){if(void 0!==this.wi&&void 0!==this.nn){if(this.Ot>ri()-Ft){const e=wr(t,Un(i),"Ajax",this.k,{P:this.P,it:this.an});void 0===this.Ji&&(this.ai="Ajax [noUrl]",this.Ji=Vc());const o=qc(this.tags,(()=>void 0===n?0:function(t){const i=Cs(t,ds);return void 0!==i?parseInt(i,10):""===t.responseType||"text"===t.responseType?t.responseText.length:"json"===t.responseType?Nt(t.response).length:0}(n)),this.Ot,this.tn,this.nn,this.wi);this.tn=this.Ot+Kt(o.initTime),this.nn=this.Ot+Kt(o.initTime+o.fbTime),this.wi=this.Ot+Kt(o.duration);const s=Object.assign(Object.assign({},e),{
type:"Ajax",spanId:""+this.spanId,traceId:this.traceId,spanName:this.ai,ct:this.Ji,ut:this.Fi,ht:void 0===this.Wi?us:this.Wi,contextType:this.Zi,statusCode:void 0===this.lt?0:this.lt,statusDetails:this.zi,status:this.apmTrackStatus,_i:jt(this._i,Mt.CALL_BLOCKED),start:Yt(this.Ot),initTime:o.initTime,firstByteTime:o.fbTime,downloadTime:o.dnldTime,duration:o.duration,Hi:this.Hi,requestSize:void 0===this.yn?0:this.yn,responseSize:o.respSize});if(void 0!==this.ft&&(s.ft=this.ft),void 0!==this.dn&&(s.Xt=this.dn),void 0!==this.hn&&(s.Jt=this.hn),void 0!==this.P&&(s.P=this.P),(e.apmEvents||this.apmEvents.length>0)&&(s.apmEvents=[...this.apmEvents,...e.apmEvents?e.apmEvents:[]]),(At(e.attributesFlex)||At(this.tags))&&(s.attributesFlex=Object.assign(Object.assign({},e.attributesFlex),this.tags)),void 0!==this.fn&&(s.apmcsRequestId=this.fn),e.attributes&&(s.attributes=e.attributes),void 0!==this.qi&&(s.parentSpanId=this.qi),this.Vi&&yt(this.Vi.markChildSpan)){"Page Update"===this.Vi.C&&(s.vt=qt(ci(this.Vi.bi())))
;const t=Gu(this,n,this.Vi);yt(this.Vi.markChildSpanDone)&&(this.Vi,this.Vi.markChildSpanDone(t))}return s}return this.Ot,this.nn,this.wi,this.Ot,this.tn,this.nn,this.wi,void(this.Ji&&ys(this.Ji))}this.Ji&&ys(this.Ji),this.Ot,this.nn,this.wi}jn(t){if(!1===this.gn){const i={ajax:this,curXHR:t,ose:this.sn};void 0!==this.Ji&&Lc(ys(this.Ji),i),this.gn=!0}}Cn(t,i,n){const e=vi(n.timeStamp,ri(),Bo());if(!0===Zu){const n=i.readyState;n===i.HEADERS_RECEIVED&&0!==i.status?void 0===t.nn&&(t.nn=e):n===i.DONE&&0!==i.status&&(t.ln(i),t.Tn(e),t.jn(i))}}xn(t,i,n){const e=vi(n.timeStamp,ri(),Bo()),o=t.Ji,s={C:2,I:3,O:`${rs}: aborted on ajax call to: ${null==o?void 0:o.host}${null==o?void 0:o.path}`};Xe(t.P,s)&&(t.k=!0,t.apmTrackStatus="abort",t.lt=0,t.zi=s.O,t.P=s),t.ln(i),t.Tn(e),t.jn(i)}On(t,i,n){var e,o,s,r;const a=vi(n.timeStamp,ri(),Bo())
;"error"===n.type&&void 0!==n.message?t.wn(i,`error event '${n.message}' on ajax call to: ${null===(e=t.Ji)||void 0===e?void 0:e.host}${null===(o=t.Ji)||void 0===o?void 0:o.path}`,a):t.wn(i,`error event type '${n.type}' on ajax call to: ${null===(s=t.Ji)||void 0===s?void 0:s.host}${null===(r=t.Ji)||void 0===r?void 0:r.path}`,a)}Pn(t,i,n){const e=vi(n.timeStamp,ri(),Bo()),o=t.Ji,s={C:2,I:4,O:`${as} timeout on ajax call to: ${null==o?void 0:o.host}${null==o?void 0:o.path}`};Xe(t.P,s)&&(t.k=!0,t.apmTrackStatus="timeout",t.lt=0,t.zi=s.O,t.P=s),t.ln(i),t.Tn(e),t.jn(i)}ln(t){if("loading"===this.apmTrackStatus&&t.status>100){const i=ou(this.apmTrackStatus,"basic",t.status,t.statusText);void 0!==i&&(i.apmTrackStatus,this.apmTrackStatus=i.apmTrackStatus,this.k=i.k,this.lt=i.lt,this.zi=i.zi,this._i=i.ki,void 0!==i.P&&(this.P=i.P));const n=Cs(t,Xo);void 0!==n&&(this.fn=n);const e=Cs(t,Yo);void 0!==e&&(this.ft=e);const o=Cs(t,Qo);dt(o)&&(this.hn=o),this.an=Cs(t,Jo)}}wn(t,i,n){if(!1===this.gn){const e={C:2,I:2,O:ss+":"+i}
;Xe(this.P,e)&&(this.lt=0,this.zi=e.O,this.P=e,this.k=!0,this.apmTrackStatus="error"),this.ln(t),this.Tn(n),this.jn(t)}}Tn(t){void 0===this.nn&&(this.nn=Yt(t)),this.Ri(t);const i="basic",n=eu(i,this.lt),e=ou(this.apmTrackStatus,i,n,this.zi);void 0!==e&&(e.apmTrackStatus,this.apmTrackStatus=e.apmTrackStatus,this.k=e.k,this.lt=e.lt,this.zi=e.zi,void 0!==e.P&&(this.P=e.P)),this.Hi=Ms(n,this.Ji)}}function qu(t,i){const n=ni();Du=void 0!==n&&yt(n.clearResourceTimings),Bu=0,Nu=Jn(),Mu=void 0,Ru=void 0,$u=void 0,Uu=void 0,Lu=0,Fu=i;const e=window.PerformanceObserver;Hu=null!=e?e.supportedEntryTypes:[],Xu()}function Vu(t){return[Fr,Hr].every((i=>t.includes(i)))}function Xu(){if(Oo("Connection")){const t=Hu,i=ni();if(lt(t)&&Vu(t))if(void 0===Ru){t.join(","),zc(!0),Ru=new window.PerformanceObserver((t=>{const i=t.getEntries();i.length,Ku(i)}));const i=[Lr,Dr,Br,Fr,Hr],n=i.filter((i=>t.includes(i)));try{n.join(","),Ru.observe({entryTypes:n})}catch(t){Ru=void 0}
At(Ru)&&void 0===Uu&&Ze()&&Gn("useOnBeforeUnload",!0)&&(Uu=()=>(Qu(!0),null),document.addEventListener("beforeunload",Uu));const e=ni();Ku(void 0!==e&&yt(e.getEntries)?e.getEntries().filter((t=>i.includes(t.entryType))):[])}else Qu(!1);else(void 0!==i||void 0!==Ru)&&void 0===Mu&&(Mu=re((()=>{Qu(!1)}),zo("resourceTimingChkIntervalMs",500,$n())))}}function Ju(t,i){return void 0===t||0===t?i:void 0===i||0===i?t:t+i}function Ku(t){if(Oo("Connection")&&t.length>0){const i=ri();Lu=i,t.length;const n=Jn(),e=new Set;for(const e of t.filter((t=>Fr===t.entryType&&Zc(t.initiatorType)))){const t=e.name,o=n.get(t),s=Nc(e,i),r=At(o)?o.Ai:[];r.push(s);const a={Ai:r};n.set(t,a)}for(const o of t){const t=o.entryType,s=o.name.startsWith(a)?o.name:void 0,r=void 0!==s?bs(!0,s):void 0;if(t===Lr||t===Dr||t===Br)o.name,null==Fu||Fu.En(o);else if(Hr===t&&void 0!==r){if(!1===ha()){const t=o;lt(t.serverTiming)&&dt(t.serverTiming[0].name)&&t.serverTiming[0].name,ya(t),null==Fu||Fu.zn(t),Yu(r,t)}}else if(Fr===t&&void 0!==s&&void 0!==r){
const t=o;if(Is(r)){if(Zc(t.initiatorType))e.has(s)||(e.add(s),Dc(s,n.get(s)));else{null==Fu||Fu.getActiveSpan(),Ss(r);const n=Nc(t,i);null==Fu||Fu.kn(n)}Yu(r,t)}else Ss(r)}else o.entryType,o.name}}}function Yu(t,i){const n=t.host,e=function(t,i){const n=i.domainLookupStart,e=i.domainLookupEnd,o=void 0!==n&&void 0!==e&&0!==n&&0!==e&&n<e,s=o?Jt(e-n):void 0,r=i.connectStart,a=i.connectEnd,c=i.secureConnectionStart,u=i.startTime,d=u>0?li(u):void 0,h=void 0!==r&&void 0!==a&&0!==r&&0!==a&&r<a,f=void 0!==c&&0!==c&&r<=c&&c<a,v=i.redirectStart,l=i.redirectEnd,p=void 0!==v&&void 0!==l&&0!==v&&0!==l&&v<l,m=h?Jt(a-r):void 0,g=h&&f?Jt(a-c):void 0,_=Jt(i.redirectEnd-i.redirectStart);if(h||p)return{hostname:t,startTime:d,dnsTime:s,redirectTime:_,conTime:m,sslTime:g,dnsCount:o?1:0,conCount:h?1:0,hitCount:p?1:0,pgCtxUrl:yr("Page Update"),initiatorType:i.initiatorType}}(n,i);var o,s,r,a;void 0!==e&&void 0!==Nu?(i.name,Nu.has(t.host)?Nu.set(n,(s=e,void 0===(o=Nu.get(t.host))?s:0!==co(o.hostname,s.hostname)?(o.hostname,
s.hostname,o):{hostname:o.hostname,startTime:(r=o.startTime,a=s.startTime,void 0===r||0===r?a:void 0===a||0===a||r<a?r:a),dnsTime:Ju(o.dnsTime,s.dnsTime),redirectTime:Ju(o.redirectTime,s.redirectTime),conTime:Ju(o.conTime,s.conTime),sslTime:Ju(o.sslTime,s.sslTime),dnsCount:o.dnsCount+s.dnsCount,conCount:o.conCount+s.conCount,hitCount:o.hitCount+s.hitCount,pgCtxUrl:o.pgCtxUrl,initiatorType:o.initiatorType})):Nu.set(n,e)):i.name}function Qu(t){const i=Hu,n=ni();if(null==i||i.length,void 0!==Ru){const t=Ru.takeRecords();void 0!==t&&t.length>0&&(t.length,Ku(t))}else if(lt(i)&&Vu(i));else{if(!0===ha())return;if(void 0!==n&&yt(n.getEntriesByType)){const t=n.getEntriesByType(Fr);if(t.length,zc(!0),Du)void 0!==t&&t.length>0&&(Ku(t),n.clearResourceTimings());else{const i=void 0===t?0:t.length;i>Bu&&(Ku(t.slice(Bu,i)),Bu=i)}if(void 0===$u){const t=n.getEntriesByType(Lr);void 0!==t&&t.length>0&&Ku(t);const i=n.getEntriesByType(Hr);void 0!==i&&i.length>0?($u=!0,Ku(i)):!1===ha()&&($u=!1)}
}else void 0!==Mu&&(clearInterval(Mu),Mu=void 0)}!function(t){const i=Dn(),n=$n(),e=void 0===Nu?[]:[...Nu.values()];void 0===Nu?Nu=Jn():Nu.clear();for(const o of i){const i=wr(n,Un(o),void 0,!1,{});for(const n of e){const e=Se(),s=n.dnsCount>0&&void 0!==n.dnsTime&&n.dnsTime>0?n.dnsTime/n.dnsCount:0,r=n.conCount>0&&void 0!==n.conTime&&n.conTime>0?n.conTime/n.conCount:0,a=n.hitCount>0&&void 0!==n.redirectTime&&n.redirectTime>0?n.redirectTime/n.hitCount:0;Sc(o,Object.assign(Object.assign(Object.assign({},i),n),{type:"Connection",spanId:e,traceId:ye(e),start:Yt(jt(n.startTime,0)),duration:Xt(s+a+r)}),t)}}i.length}(t);const e=zo("resourceTimingThresholdMs",ti(2),$n());Lu<ri()-e&&void 0!==Mu&&(clearInterval(Mu),Mu=void 0)}const td=window.fetch,id=window.XMLHttpRequest;let nd,ed,od=!1,sd=!1;const rd=["error","timeout","abort"];class ad{constructor(t,i,n,e,o,s,r,a){var c;this.droppedAttributesCount=0,this.droppedEventsCount=0,this.droppedLinksCount=0,this.C="Message",this.Ot=o,this.isRemote=!1,
this.traceFlags=$i.SAMPLED,this.apmTrackStatus="init",this.Zn=!1,this.tags={},this.Nn={},this.kind=cn.INTERNAL,this.apmEvents=[],this.k=!1,function(t){return!(!dt(t)||"apmrum"!=t)}(t)&&(this.Mn=t),function(t){return!(!dt(t)||"1.0"!=t)}(i)&&(this.Rn=i),this.spanId=n,this.ai=dt(e)?e:"customMessageSpan",dt(s)&&(this.$n=s),dt(r)&&(this.Un=r);const u=null==a?void 0:a.getActiveSpan();void 0!==u?(this.Zi=u.Zi,this.traceId=u.traceId,this.parentSpanId=u.spanId,this.Vi=u):(this.Zi="Background",this.traceId=ye(this.spanId)),this.rPH=null==a?void 0:a.getProcHandler(),null===(c=this.rPH)||void 0===c||c.onApmStart(this,void 0)}updateName(t){return this.ai=t,this}Mi(){return this.ai}bi(){return this.Ot}getApmTrackStatus(){return this.apmTrackStatus}isMsgSent(){return this.Zn}yi(){return this.wi}Ln(t){Ge(this.tags,t)}Dn(){return this.tags}Ri(t){var i;return(void 0===this.wi||this.wi<t)&&(this.wi=t),null===(i=this.rPH)||void 0===i||i.onApmEnd(this),this.wi}isRecording(){return void 0===this.wi}setStatus(t){return Ve(this,t)}
getStatus(){return tu(this.isRecording(),this.apmTrackStatus,this.P)}startSpan(){this.apmTrackStatus="init"}endSpan(t,i){if(this.apmTrackStatus=i,rd.includes(i)){this.k=!0;const t=Qc(i),n={C:3,I:void 0===t?4:t,O:`status ${i}`};Xe(this.P,n)&&(this.P=n)}if(this.Ri(t),!0!==this.Zn){for(const t of Dn())cd(t,this.Bn(t));this.Zn=!0}}Bn(t){if(this.Ot>ri()-Ft&&void 0!==this.wi&&this.Ot<=this.wi){const i=wr($n(),Un(t),"Message",this.k,{P:this.P}),n=this.bi(),e=jt(this.yi(),n),o=e>n?e-n:0;return Object.assign(Object.assign({},i),{type:"Message",spanId:this.spanId,status:this.apmTrackStatus,traceId:this.traceId,spanName:this.ai,parentSpanId:this.parentSpanId,tags:this.tags,start:Yt(n),duration:Jt(o),annotations:this.Nn,msgType:this.Mn,msgVersion:this.Rn,contextType:this.Zi,srcWndId:this.$n,srcWndName:this.Un})}}recordException(t,i){xu(t,void 0===i?ri():li(i),this)}spanContext(){return qe(this.spanId,this.traceId,this.traceFlags,this.traceState)}setAttribute(t,i){const n={};return dt(t)&&(n[t]=i,Ge(this.tags,n)),this}
setAttributes(t){return Ge(this.tags,t),this}addEvent(t,i,n){const e=fi(i)?li(i):fi(n)?li(n):ri(),o=!fi(i)&&At(i)?i:{};return pi(this.apmEvents,t,o,e),this}end(t){const i=void 0===t?ri():li(t);this.Ri(i)}get name(){return this.ai}get startTime(){return ui(this.Ot)}get endTime(){return void 0===this.wi?[0,0]:ui(this.wi)}get status(){return this.getStatus()}set status(t){Ve(this,t)}get attributes(){return this.tags}set attributes(t){this.Ln(t)}get links(){return[]}get events(){return this.apmEvents}get duration(){const t=this.Ot,i=this.wi,n=null==i||i<t?0:i-t;return 0===n?[0,0]:di(n)}get ended(){return void 0!==this.wi}get resource(){return cu()}get instrumentationLibrary(){return We()}}function cd(t,i){try{null!=i&&null!=i.msgType&&null!=i.msgVersion?Sc(t,i,!1):(null==i||i.spanId,null==i||i.msgType,null==i||i.msgVersion)}catch(t){}}const ud=500,dd=500;let hd,fd,vd,ld,pd,md,gd,_d,Ad;function wd(t){if(Oo("Message")&&At(t)){const i=t.data;if(At(i)&&dt(i.msgType)&&dt(i.msgVersion)&&dt(i.spanType)&&dt(i.spanId)){
const n=vi(t.timeStamp,ri(),Bo()),e=i.spanId;if(i.spanType,t.timeStamp,"startSpan"==i.spanType){const o=new ad(i.msgType,i.msgVersion,e,jt(i.spanName,"Message details"),n,jt(i.srcWndId,t.origin),jt(i.srcWndName,t.origin),vd);o.startSpan(),hd.set(e,o),function(){const t=$n(),i=zo("msgChkIntervalMs",dd,t);void 0===fd&&(fd=re((()=>{!function(){if(0==hd.size)return ae(fd),void(fd=void 0);{const t=[];hd.forEach((i=>{if(i.isMsgSent())t.push(i.spanId);else{const t=i.bi(),n=ri(),e=$n();n-t>=zo("msgSpanTimeoutMs",ud,e)&&i.endSpan(n,"timeout")}})),t.forEach((t=>{hd.delete(t)}))}}()}),i))}()}else if("endSpan"===i.spanType){const t=hd.get(e);null!=t?(t.endSpan(n,"complete"),t.isMsgSent()&&hd.delete(e)):i.spanId}else"updateSpan"===i.spanType||i.spanType}else i.msgType,i.spanType,i.msgVersion}}function bd(){_d=0,Ad=0,md=void 0,gd=void 0,pd=void 0,ld=void 0}function yd(t,i){if(null==md||null==ld)return;const n=wr(t,i,"Reading",!1,{}),e=void 0===gd?void 0:Jt(function(t,i){if(hi(t)&&hi(i)){
const n=t[0],e=t[1],o=i[0],s=i[1],r=1e3*(o-n)+Kt(Math.round((s-e)/1e3));return r<0?0:r}return 0}(md,gd)),o=void 0===e?void 0:Xt(e-_d),s=Se(),r=ye(s);return Object.assign(Object.assign({},n),{type:"Reading",start:Yt(li(md)),source:ld,duration:jt(e,0),readTime:jt(o,0),invisTime:Xt(_d),invisSwitches:Ad,url:void 0===pd?yr("Page"):pd,spanId:s,traceId:r})}function Sd(t,i){"Page"===i&&!0===Td()||(bd(),md=ui(Yt(t)),pd=yr(i),ld=i)}function Td(){return void 0!==ld}const jd="Increase apmrum timeout threshold OR address javascript performance issue";function Id(t){return zo("pgUpdInitThresholdMs",ti(1),t)}function Cd(t,i,n){if(void 0===t)return 0;const e=Jt(t-i-n/1e3);return e<=0?0:e}function xd(t,i,n,e,o){const s=ri(),r=t.Ot,a=Yt(s-r),c=jt(function(){const t=window.oj_whenReady;return St(t)?t:void 0}(),!1),u=At(e)&&yt(e.getBusyStates)?e.getBusyStates():[],d=dt(o)?o:At(o)?o.toString():void 0;if(a>=i){const e={};t.tags.OjBusyContextInfo=`PageUpdate monitoring timeout ${a} ms (over ${i})`,
c&&"Load Background"===t.Zi?(e.fixSuggestion="Make sure to call applicationBootstrapComplete within reasonable time",e.fixHelpLink="https://www.oracle.com/webfolder/technetwork/jet/jsdocs/oj.BusyContext.html#T000002R008228_applicationBootstrapComplete"):lt(u)?(e.fixSuggestion=jd,e.ojStateInfo=u.map((t=>`${t.id}: ${gt(t._addedWaitTs)?Yt(s-li(t._addedWaitTs)):void 0} ms elapsed`)).join(",")):e.fixSuggestion=jd,e.apmInfo=`Premature busyContext timeout(${d}), Increase apmrum.pgUpdInitThresholdMs to report slowness more accurately`;const o=mi("ojBusyContext",s,Object.assign(Object.assign({},e),{ojBusyContextName:n,ojInfo:"Context Timeout",bcDuration:gt(a)?a:0,pgUpdInitThresholdMs:i}));t.Fn(o)}else{const e={};if(lt(u)){e.ojStateInfo=u.map((t=>`${t.id}: ${gt(t._addedWaitTs)?Yt(s-li(t._addedWaitTs)):void 0} ms elapsed`)).join(",");const o=mi("ojBusyContext",s,Object.assign(Object.assign({},e),{ojBusyContextName:n,ojInfo:"Context",bcDuration:a,pgUpdInitThresholdMs:i}));t.Fn(o)}
t.tags.OjBusyContextInfo="PageUpdate monitoring done"}const h=n===ve?r:s;Yt(h-r),t.Hn=h,io((()=>{Ed(t)}))}function Od(t){const i=At(t)?t.getPageContext:void 0,n=yt(i)?i():void 0,e=At(n)?n.getBusyContext:void 0;return yt(e)?e():void 0}function Pd(t){if(!At(t.Gn)){const i=function(){const t=Ca("oj-tab-bar");if(It(t))return Ua(t);{const t=Ca("oj-navigation-list");if(It(t))return Ua(t)}}();At(i)&&(t.Gn=i)}}function Ed(t){return t.Wn()?t.qn(!1):void 0}const zd=Jn(),kd=Jn();function Zd(t){return Zt(t)}function Nd(t){return jt(zd.get(t),[]).length}function Md(t){return jt(kd.get(t),[]).length}class Rd{constructor(t,i,n,e,o,s,r,a){var c;this.droppedAttributesCount=0,this.droppedEventsCount=0,this.droppedLinksCount=0;const u=void 0===r?void 0:r.spanContext(),d=$d(n),h=d.Vn;this.Ot=s,this.spanId=void 0===u?Se():u.spanId,this.traceId=void 0===u?ye(this.spanId):u.traceId,this.C="Page Update",this.kind=cn.INTERNAL,this.apmEvents=[],this.Xn=t,this.Jn=i,this.wt=e,this.bt=o,this.Kn=!1,this.Ji=d.Pt,this.Yn=d.Yn,this.ai=d.ai,
this.isPageBackground=h,this.Xi=!1,this.isRemote=!1,this.traceFlags=(null==u?void 0:u.traceFlags)?u.traceFlags:Oo("Page Update")?$i.SAMPLED:$i.NONE,this.Zi=h?"Load Background":"Page Update",this.apmTrackStatus="init",this.Qn=h?0:_a(s),this.te=0,this.k=!1,this.ie=void 0,zd.set(Zd(this),[]),kd.set(Zd(this),[]),this.ne=0,this.ee=0,this.oe=[`${i}-${n}`],this.tags={},this.se=!1,this.rPH=a,null===(c=this.rPH)||void 0===c||c.onApmStart(this),!1===h&&so(eo(0,0,ui(s),this.spanId,this.traceId,fr(),this.ai))}recordException(t,i){xu(t,void 0===i?ri():li(i),this)}get name(){return this.ai}set name(t){this.ai=t}spanContext(){const t={spanId:this.spanId,traceId:this.traceId,traceFlags:this.traceFlags};return void 0!==this.traceState&&(t.traceState=this.traceState),t}setAttribute(t,i){const n={};return dt(t)&&(n[t]=i,Ge(this.tags,n)),this}setAttributes(t){return Ge(this.tags,t),this}addEvent(t,i,n){const e=fi(i)?li(i):fi(n)?li(n):ri(),o=!fi(i)&&At(i)?i:{};return pi(this.apmEvents,t,o,e),this}get startTime(){
return ui(this.Ot)}get endTime(){return void 0===this.wi?[0,0]:ui(this.wi)}get status(){return this.getStatus()}set status(t){this.setStatus(t)}get attributes(){return this.tags}set attributes(t){this.Ln(t)}get links(){return[]}get events(){return this.apmEvents}get duration(){const t=this.Ot,i=this.wi,n=null==i||i<t?0:i-t;return 0===n?[0,0]:di(n)}get ended(){return void 0!==this.wi}get resource(){return cu()}get instrumentationLibrary(){return We()}setStatus(t){return Ve(this,t)}getStatus(){return tu(this.isRecording(),this.apmTrackStatus,this.P)}on(t){this.sn=t}end(t){const i=void 0===t?ri():li(t);this.Ri(i)}markChildSpanDone(t){const i=!0===t.Li||"error"===t.Ci(),n=Qc(t.Ci());if(i&&void 0!==n&&5!==n){const i=iu(t);Xe(this.P,i)&&(this.Yn===B&&(this.Yn=F,this.re()),this.k=!0,this.P=i)}if("Ajax"===t.xi&&void 0!==t.Oi)return this.ae(t.Oi);if("Script Error"===t.xi){const i=t.Ui();if(void 0===this.ce){const n=nu(t),e=mi(`Sample ${t.xi}`,i,n);this.Fn(e)}void 0!==i&&(null==this.ce||i>this.ce)&&(this.ce=i)
}else if("Custom Span"===t.xi&&void 0!==t.Pi)return this.ue(t.Pi)}bi(){return this.Ot}yi(){return this.wi}de(){return this.Xn}he(){return this.Jn}updateName(t){return this.ai=t,this.Xi=!0,this}Mi(){return this.ai}Ln(t){this.tags=Ge(this.tags,t)}Dn(){return this.tags}fe(t,i){const n=`${t}-${i}`;return!0!==this.oe.includes(n)&&(this.oe.push(n),!0)}Ri(t){var i;const n=li(t);return void 0===this.wi||this.wi<n?("init"!==this.apmTrackStatus&&"loading"!==this.apmTrackStatus||(this.apmTrackStatus=!0===this.k?"error":"complete"),this.wi=n):(this.wi,this.wi),null===(i=this.rPH)||void 0===i||i.onApmEnd(this),this.wi}ve(){return this.Yn}le(){return this.Ji}pe(){return this.ai}me(){return this.bt}ge(){return this.wt}_e(){return this.te}Ae(){return this.ne}we(){return this.ee}be(){return this.ie}ye(t,i,n,e){this.Xn=t,this.Jn=i,this.wt=n,this.bt=e}re(t){if(!1===this.Xi){const i=void 0===t?this.Ji.path:t;this.ai=this.Yn+" "+i}}Se(t,i){return!(t>this.Ot+i)}Te(t){const i=Zd(this),n=Nd(i),e=Md(i),o=ri(),s=function(t){
const i=At(t)?t.je:void 0;if(dt(i))return i;{const i=Ia(),n=!0===Gn("useOjBusyContext",!0)&&At(i)?i.Context:void 0;if(At(n)){const i=Od(n);if(At(i)){const n=Id($n()),e=jt(function(t){if(void 0===t)return;const i=At(t)&&yt(t.getBusyStates)?t.getBusyStates():[];return lt(i)?i.map((t=>t.description)).join(","):void 0}(i),ve);return t.je=e,t.tags.OjBusyContextName=e,!1===i.isReady()?i.whenReady(n).then((o=>{xd(t,n,e,i,At(o)&&o instanceof Error?o:void 0)})).catch((o=>{xd(t,n,e,i,o)})):xd(t,n,ve,i),e}return}return}}(this),r=Id(t),a="init"===this.apmTrackStatus||"loading"===this.apmTrackStatus,c=this.Se(o,r),u=!!dt(s)&&!mt(this.Hn),d=Do(),h=a&&c,f=n>0||e>0||h||u,v=this.Ot+d<o;return{Ie:s,Ce:h,xe:f&&!v,Oe:v,Pe:u,Ee:r,ze:d,ke:n,Ze:e}}Ne(){const t=Zd(this),i=Nd(t),n=Md(t),e=this.Ot,o=this.Hn;if(this.Yn===B||fa(i+this.te,n+this.ne,this.ee,this.apmEvents))return ao(e,o);{this.Me,this.Re,this.ce,this.Hn,this.Ot;const t=ao(e,this.Me),i=ao(t,this.Re),n=ao(i,this.ce);return ao(n,this.Hn)}}Wn(){const t=$n(),i=this.Te(t)
;if(!0===i.Ce)return this.Yn,i.ke,i.Ze,i.Pe,!1;if(!0===i.xe)return this.Yn,i.ke,i.Ze,i.Pe,!1;if(!1===i.Oe){"init"!==this.apmTrackStatus&&"loading"!==this.apmTrackStatus||(this.apmTrackStatus=!0===this.k?"error":"complete");const t=this.Ne();return this.Yn,this.te,this.ne,i.Ee,i.Ie,this.Hn,Pd(this),this.Ri(t),!0}{this.Yn,this.te,this.ne,i.ze,i.Ie,this.Hn;const t=this.Ne();Pd(this);const n={C:0,I:4,O:fe};if(i.Pe){const t=Ia(),n=!0===Gn("useOjBusyContext",!0)&&At(t)?t.Context:void 0;if(At(n)){const t=Od(n);void 0!==t&&xd(this,i.Ee,ve,t,fe)}}return Xe(this.P,n)&&(this.apmTrackStatus="timeout",this.P=n),this.Ri(t),!0}}ue(t){const i=Zd(this),n=jt(kd.get(i),[]);if(0===n.length);else{const e=n.findIndex((i=>i.spanContext().spanId===t.spanContext().spanId)),o=e>=0?n.splice(e,1).pop():void 0;void 0!==o&&o.spanContext().spanId===t.spanContext().spanId&&(kd.set(i,n),this.$e(t),this.Ue(t))}Ed(this)}$e(t){const i=li(t.startTime);(void 0===this.Le||void 0!==i&&this.Le>i)&&(this.Le=i)}Ue(t){const i=li(t.endTime)
;(void 0===this.Re||void 0!==i&&this.Re<i)&&(this.Re=i)}markChildSpan(t){const i=t.Ui(),n=Zd(this);if(i<this.Ot+Id($n())){if("Ajax"===t.xi&&void 0!==t.Oi){const i=jt(zd.get(n),[]);i.push({Oi:t.Oi,De:t.mn}),zd.set(n,i),this.te+=1,t.Oi}else if("Script Error"===t.xi)this.ee+=1,(void 0===this.ce||this.ce<i)&&(this.ce=i);else if("Custom Span"===t.xi&&void 0!==t.Pi){const i=jt(kd.get(n),[]);this.ne+=1,i.push(t.Pi),kd.set(n,i)}this.Yn===B&&(this.Yn=F,this.re()),"init"===this.apmTrackStatus&&(this.apmTrackStatus="loading")}}ae(t){const i=Zd(this),n=jt(zd.get(i),[]);if(0===n.length);else{const e=n.findIndex((i=>i.Oi===t)),o=e>=0?n.splice(e,1).pop():void 0;if(void 0!==o&&o.Oi===t){zd.set(i,n),this.Be(t),this.Fe(t),this.He(t);const e=Yc(t);void 0!==e&&Xe(this.P,e)&&(this.P=e);const o=t.Ii();void 0!==o&&(void 0===this.ie||this.ie<o)&&(this.ie=o)}}return Ed(this)}Be(t){const i=t.Qi();if(void 0!==i){const t=Yt(i);(void 0===this.Ge||this.Ge>i)&&(this.Ge=t)}}Fe(t){const i=t.Si()
;(void 0===this.We||void 0!==i&&i<this.We)&&(this.We=i)}He(t){const i=t.yi();void 0!==i&&(void 0===this.Me||this.Me<i)&&(this.Me=i)}qe(){return this.se}qn(t){var i,n;if(!0!==this.se){if(this.se=!0,["loading","init"].includes(this.apmTrackStatus)&&!0===t){const t={C:0,I:3,O:he};Xe(this.P,t)&&(this.apmTrackStatus="abort",this.P=t)}if(void 0===this.wi&&this.Ri(this.Ne()),1==this.isPageBackground){const e=Zd(this),o=Nd(e),s=Md(e),r=fa(o+this.te,s+this.ne,this.ee,this.apmEvents);!1===t&&Sd(!0===r?this.Ot:jt(this.wi,this.Ot),"Page"),this.Yn,void 0!==this.Ve?null===(i=this.Ve)||void 0===i||i.Xe:(this.wt,this.bt);const a=$n();for(const t of Dn()){const i=Un(t),n=this.Je(a,i);yt(this.sn)&&this.sn(t,n),!1===r&&Sc(t,n,!1)}!function(t,i,n){const e="unable to determine ",o=void 0!==t?t.Xe:void 0,s=Dn().reduce(((t,i)=>{const n=Un(i),e=Fs(go,n);return dt(t)?t:e}),void 0),r={msgType:"apmrum2syn",msgVersion:On,name:"pageLoaded",spanID:jt(null==o?void 0:o.spanId,e+f),traceID:jt(null==o?void 0:o.traceId,e+v),
operationName:jt(null==o?void 0:o.ai,e+"operationName"),sessionId:fr(),ajaxCount:i,partialTrigger:!1,actionCounter:jt(null==t?void 0:t.Ke,0),actionStart:ui(jt(null==o?void 0:o.Ot,0)),actionDuration:di(jt(null==t?void 0:t.Ye,0))};At(s)&&(r.dataUploadEndpoint=ys(s)),Ir(r)}(this.Ve,jt(null===(n=this.Ve)||void 0===n?void 0:n.yt,0)+this.te)}else{let i;const n=Dn(),e=$n();for(const t of n){const n=Un(t),o=this.Je(e,n);yt(this.sn)&&this.sn(t,o),void 0===i&&(i=o),Sc(t,o,!1)}void 0!==i&&function(t,i){const n={msgType:"apmrum2syn",msgVersion:On,name:"pgupdReady",spanID:t.spanId,traceID:t.traceId,operationName:t.ai,sessionId:fr(),ajaxCount:t.yt,partialTrigger:i,actionCounter:t.ii,actionStart:ui(t.start),actionDuration:di(Kt(t.duration))},e=Dn().reduce(((t,i)=>{const n=Un(i),e=Fs(go,n);return dt(t)?t:e}),void 0);At(e)&&(n.dataUploadEndpoint=ys(e)),Ir(n)}(i,t),!1===t&&Sd(jt(this.wi,this.Ot),"Page Update")}}}Je(t,i){const n=wr(t,i,"Page Update",this.k,{P:this.P
}),e=Yt(this.Ot),o=Yt(jt(this.wi,e)),s=Math.max(o-e,0),r=Cd(this.Ge,e,0),a=Cd(this.We,e,r),c=Cd(this.Me,e,r+a),u=Cd(o,e,r+a+c),d=yr("Page Update"),h=this.le();let f=!1;var v,l;0==(l=h,void 0===(v=d)&&void 0===l||void 0!==v&&void 0!==l&&0===co(v.host,l.host)&&0===co(v.path,l.path)&&0===co(v.params,l.params)&&0===co(v.query,l.query)&&0===co(v.fragment,l.fragment))&&(f=!0,this.re(d.path));const p=jt(Lo(ma(e,this.tags)),{}),m=Ge(jt(n.attributesFlex,{}),p),g=this.isPageBackground,_=this.spanId,A=this.traceId,w=!1===g?oo(_,A):void 0,b=Object.assign(Object.assign({},n),{type:"Page Update",spanId:_,traceId:A,wt:this.ge(),bt:this.me(),rt:this.ve(),ai:this.pe(),_t:d,start:e,yt:this._e(),ni:this.be(),St:this.we(),Qe:this.Ae(),io:!0===this.k?1:0,ii:!0===g?0:Fe(this.Qn,w),ti:this.apmTrackStatus,initTime:r,firstByteTime:a,downloadTime:c,renderTime:u,duration:Jt(s)}),y=br("Page Update");return At(this.Gn)?async function(t,i){const n=At(i)&&dt(i.Lt)?{OjNavId:i.Lt,OjNavName:await(e=i.Bt,new Promise((t=>{bt(e)?e.then((i=>{t(i)
})).catch((t=>{})):t(e)})))}:void 0;var e;return At(n)?Object.assign(Object.assign({},t),n):t}(m,this.Gn).then((t=>{At(t)&&(b.attributesFlex=t)})).catch((t=>{t.message})):At(m)&&(b.attributesFlex=m),dt(y)&&(b.gt=y),!0===f&&(b.no=h),lt(this.apmEvents)&&(b.apmEvents=this.apmEvents),b}Fn(t){this.apmEvents.push(t)}eo(){const t=Zd(this),i=jt(zd.get(t),[]);for(const t of i)t.Oi.en(t.De)}oo(t){const i=Zd(this),n=Nd(i),e=Md(i);if(0==n&&0==e)"init"!==this.apmTrackStatus&&"loading"!==this.apmTrackStatus&&"abort"!==this.apmTrackStatus||(this.apmTrackStatus=!0===this.k?"error":"complete");else if(["init","loading"].includes(this.apmTrackStatus)){const t={C:0,I:3,O:he};Xe(this.P,t)&&(this.apmTrackStatus="abort",this.P=t)}return t&&this.eo(),Ed(this)}so(){this.Yn=H,this.re()}ro(t){this.Ve=t}isRecording(){return void 0===this.wi}}function $d(t){if("onload"===t){const t="Load Background",i=yr("Page");return{Pt:i,Yn:t,ai:`${t} ${i.path}`,Vn:!0}}if("history"===t){const t=H,i=yr("Page");return{Pt:i,Yn:t,ai:`${t} ${i.path}`,
Vn:!1}}{const t=B,i=yr("Page Update");return{Pt:i,Yn:t,ai:`${t} ${i.path}`,Vn:!1}}}const Ud={replaceState:"ApmJsReplaceState","go-in-history":"ApmJsGo",pushState:"ApmJsPushState",popState:"ApmJsPopState"};let Ld;const Dd=[];function Bd(t,i,n,e){const o=e.getActiveSpan();if(void 0===o)try{Hd("code","document","onload",`${i}_${t}`,`${i}_${n}`,null,e,ri())}catch(t){}else o.ai}function Fd(t){return zo("minTimeoutForBgTrace",ti(15),t)}function Hd(t,i,n,e,o,s,r,a){const c=r.ao(),u=()=>function(t,i,n,e,o,s,r,a){const c=r.getTracer(),u=$d(n),d=ze().active(),h=void 0!==c&&function(t,i){return"code"!==t||"onload"!==i||Gn("trackOnloadInTracer",!1)}(t,n)?c.startSpan(u.ai,{startTime:ui(a),attributes:ic("Page Update",u.Pt)},d):void 0;void 0!==c&&(null==h||h.spanContext(),null==h||h.spanContext());const f=new Rd(t,i,n,e,o,a,h,r.getProcHandler());var v,l;return void 0!==f&&void 0!==h&&(Ee().setSpan(d,h),h.spanContext(),f.Mi(),h.parentSpanId,f.on((v=h,(t,i)=>{const n=v;if(yt(n.isRecording)&&!0===n.isRecording()){
const e=$n(),o=Un(t),s=oc(ai(i.start),i,e,o),r=i.start+Kt(i.duration);null==n||n.spanContext(),n.updateName(i.ai),void 0!==s.attributes&&n.setAttributes(Object.assign({},s.attributes)),n.setAttribute(ce,!0),n.end(ui(r))}}))),r.co(f),l=r,void 0===Ld&&(Ld=re((()=>{!function(t){const i=t.ao(),n=[...t.uo.values()].filter((t=>t.Wn()));void 0!==i&&!0===i.Wn()&&n.push(i);for(const i of n)!0===i.isPageBackground&&t.do(i.bi()),Ed(i);t.ho(),void 0===t.ao()&&0===t.uo.size&&void 0!==Ld&&(ae(Ld),Ld=void 0)}(l)}),100)),r.fo(),Td()&&function(t){const i=ui(t);null!=md&&i[0]>=md[0]?(gd=i,function(){const t=$n(),i=Dn().map((i=>{const n=Un(i);return{Di:i,Bi:yd(t,n)}})),n=zo("minPageReadThreshold",1e6,t);if(bd(),!0===Oo("Reading"))for(const t of i){const i=t.Bi;At(i)&&(At(i)&&pt(i.duration)?i.duration:0)>n&&Sc(t.Di,i,!1)}}()):bd()}(a),f}(t,i,n,e,o,0,r,a);let d;if(At(c))if("code"===t)"onload"===n?c.bi():"history"===n?c.so():c.ge(),a<c.bi()&&c.bi(),d=c;else{const s=c.de();if("code"===s&&!1===c.isPageBackground)c.ye(t,i,e,o),
d=c;else{c.he();const e=$n();!0===c.isPageBackground||(s!==t||!c.fe(i,n))&&Math.abs(c.Ot-a)>function(t){return zo("pgUpdDuplThresholdMs",500,t)}(e)?(c.oo(!1),r.vo(c),d=u()):(c.ge(),d=c)}}else d=u();return null!==s&&!1===d.Kn&&function(t,i){var n;const e=t,o=Eo("ociTrackAttrName","data-oci-track",$n());if(At(e)&&yt(e.hasAttribute)&&e.hasAttribute(o)){const t=e.getAttribute(o);dt(t)&&i.Ln({OciTrackAttribute:t})}const s=function(t){const i=function(){const t=Ia(),i=void 0!==t?t.Components:void 0;return function(t){if(At(t)||yt(t)){const i=t;return yt(i.getComponentElementByNode)&&yt(i.getComponentOption)}return!1}(i)?i:void 0}();if(At(i)&&It(t)){const n=i.getComponentElementByNode(t);if(Ma(n))return Ba(n,t);{const i=Ra(t);if(Ma(i))return Ba(i,t)}}}(e);if(At(s)){i.Kn=!0,i.tags[W]=s.Ft,i.tags[q]=s.Vt,i.tags[J]=s.Wt;const t=s.Ht;null===(n=s.qt)||void 0===n||n.then((t=>{dt(t)&&(i.tags[K]=t)})).catch((t=>{t.message})),dt(t)&&(i.tags[V]=t)}}(s,d),d}function Gd(t,i){if(!At(t))return"";let n=""
;const e=$n(),o=e.getElmLabel,s=e.getElmLabelFn;if(void 0!==o&&yt(o))n=o(t);else if(void 0!==s&&yt(s))n=s(t);else{if(!kn())return"";if(t.hasAttribute("aria-label")){const i=t.getAttribute("aria-label");n=dt(i)?i:""}else if(t.hasAttribute("alt")){const i=t.getAttribute("alt");n=dt(i)?i:""}else if(t.hasAttribute("title")){const i=t.getAttribute("title");n=dt(i)?i:""}else if(yt(t.text)){const i=t.text();n=dt(i)?i:""}else if(t.hasAttribute(_)){const i=t.getAttribute(_);n=dt(i)?i:""}else if(t.hasAttribute(A)){const i=t.getAttribute(A);n=dt(i)?i:""}else n=""+ba(t,i)}return function(t){if(!t)return"";let i=t.replace(/[ \r\n\t\f\v][ \r\n\t\f\v]*/g," ");return i=i.trim(),i.replace(/^(.{80})(..*)/g,"$1...")}(n)}function Wd(t,i,n,e){if(!Oo("Page Update"))return;const o=Gn(wi,!0),s=ba(n.target,o),r=Gd(n.target,o),a=vi(n.timeStamp,ri(),Bo());Hd("mouse",t,i,s,r,n.target,e,a)}function qd(t,i,n){Oo("Page Update")&&Hd("code","window","history",t,Ud[t],null,i,n),Oe(jt(document.baseURI,document.location.toString()))}
function Vd(t,i,n,e){let o,s;if(!Oo("Page Update"))return;if(Gn("onlyHumanKeyboardShortcuts",!0)&&!1===n.isTrusted)return;if(n.type,n.target&&n.target.nodeType===Node.ELEMENT_NODE&&void 0!==n.target){const t=n.target;if(["TEXTAREA","INPUT","IFRAME"].includes(t.tagName.toUpperCase()))return;const i=Gn(wi,!0);o=ba(t,i),s=Gd(t,i)}else o="",s="";let r="";n.key?r=n.key:n.keyCode?r=String.fromCharCode(n.keyCode):n.which&&(r=String.fromCharCode(n.which)),r.length>0&&(o+="_"+r,s+="_"+r);const a=vi(n.timeStamp,ri(),Bo());Hd("keyboard",t,i,o,s,n.target,e,a)}const Xd=-1;let Jd,Kd,Yd,Qd,th,ih,nh,eh,oh,sh,rh,ah,ch,uh,dh,hh,fh,vh=!1;const lh=[];let ph,mh,gh={};function _h(){return Oo("Page")?$i.SAMPLED:$i.NONE}function Ah(t){const[i,n]=dr(),e={spanId:i,traceId:n,parentSpanId:n===mh?ph:void 0,traceFlags:_h(),C:"Page",Zi:"Page",rPH:t,ai:eh,kind:cn.INTERNAL,Ot:oh,wi:rh,k:vh,P:th,tags:gh,apmEvents:lh,apmTrackStatus:Qd,bi:()=>oh,yi:()=>rh,Ri:t=>(wh(t),rh),updateName:t=>(eh=t,e),Mi:()=>eh,isRecording:function(){return ha()},
recordException(t,i){xu(t,void 0===i?ri():li(i),e)},setStatus:function(t){return Ve(e,t)},getStatus:()=>tu(ha(),0,th),markChildSpan:function(t){var i;"Ajax"===t.xi&&void 0!==t.Oi?(i=t.Oi,uh+=1,i.Mi()):"Script Error"===t.xi?hh+=1:t.xi},markChildSpanDone:function(t){const i=iu(t);if(Jd!==Xd&&Xe(th,i)&&(vh=!0,Qd=t.Ci(),th=i),"Ajax"===t.xi&&void 0!==t.Oi)!function(t){const i=t,n=Yc(i);Jd!==Xd&&Xe(th,n)&&(th=n);const e=i.yi();if(void 0!==e)(void 0===dh||dh<e)&&e>oh&&(dh=e);else{const[t,i]=dr()}}(t.Oi);else if("Script Error"===t.xi){if(hh<1){const i=nu(t),n=mi(`Sample ${t.xi}`,t.Ui(),i);lh.push(n)}t.Ui()}else t.xi,t.Ui()},spanContext:()=>qe(i,n,_h(),e.traceState),setAttribute(t,i){return dt(t)&&Ge(gh,{key:i}),this},setAttributes:t=>(At(t)&&Ge(gh,t),e),addEvent(t,i,n){const o=Yt(fi(i)?li(i):fi(n)?li(n):ri()),s=!fi(i)&&At(i)?i:{};return pi(lh,t,s,o),e},end(t){const i=void 0===t?ri():li(t);this.Ri(i)},get name(){return eh},get startTime(){return ui(oh)},get endTime(){return void 0===rh?[0,0]:ui(rh)},get status(){
return tu(ha(),0,th)},set status(t){Ve(e,t)},get attributes(){return gh},set attributes(t){At(t)&&Ge(gh,t)},get links(){return[]},get events(){return lh},get duration(){return di(Yt(Eh(ri())))},get ended(){return void 0!==rh},get resource(){return cu()},get instrumentationLibrary(){return We()},get droppedAttributesCount(){return 0},get droppedEventsCount(){return 0},get droppedLinksCount(){return 0}};return void 0!==t&&(t.onApmStart(e),t.onApmEnd(e)),e}function wh(t){if(Jd===Xd)return;const i=li(t),n=Do();void 0===rh&&(rh=i<oh?oh:oh<=i&&i<n?i:n)}function bh(t,i,n){ah[t]=i,ch[t]=n}function yh(t){
const s=Do(),r=t.startTime,a=_i(r,ri()),c=t.duration,p=Ta(pt(c)&&c>0?_i(r,c):a,a,_i(r,s)),m=void 0===p?a:p,g=ja(r,t.requestStart,m),_=Ta(t.responseStart,void 0,m),A=Ta(t.responseEnd,void 0,m),w=Ta(t.domInteractive,void 0,m),b=Ta(t.domContentLoadedEventStart,void 0,m),y=Ta(t.domContentLoadedEventEnd,void 0,m),S=Ta(t.domComplete,void 0,m),T=Ta(t.loadEventEnd,void 0,m),j=Ta(A,S,m),I=Ta(w,j,m),C=ja(r,g,m),x=ja(C,I,m),O=Ta(x,_,m),P=ja(S,y,m),E=ja(T,P,m),z=Ta(E,a,m),k=Ta(C,O,m),Z=Ta(void 0===w?b:w,E,m),N=Ta(ja(x,Z,m),E,m),M=jt(Sa(r,z,s),0),R=Sa(r,N,s),$=ja(oh,C,m,!1),U=ja($,O,m,!1),L=ja(U,x,m,!1),D=jt(Sa(r,k,M),0),B=jt(Sa(k,U,M),0),F=jt(Sa(U,L,M),0),H=jt(Sa(L,E,M),0),[G,W]=dr(),q=Yt(li(r)),V=Mc(t,q,"Page");if(void 0!==V){lh.push(V);const t=V.attributes,s=ie([o],t);if(dt(s)){const t=s.split("-");if(4===t.length&&"00"===t[0]){const i=t[2],n=t[1];dt(i)&&dt(n)&&(ph=i,mh=n)}}else{const o=ie([v,n,d],t),s=ie([f,i,u,e,l,h],t);dt(o)&&dt(s)&&(ph=s,mh=o)}}q!==oh&&(oh=q);let X=0;void 0===x?(bh("initTs",q,M),
bh("firstByteTs",q,0),bh("downloadTs",q,M),X+=M):(bh("initTs",q,D),void 0!==O&&bh("firstByteTs",li(O),B),void 0!==_&&bh("downloadTs",li(_),F),bh("renderTs",li(x),H),X+=D+B+F+H),void 0!==R&&bh("interactiveTs",li(R),0),void 0!==S&&bh("PgLoadTs",li(S),0),void 0!==T&&bh("PgReadyTs",li(T),0),wh(q+X),t.entryType===Hr&&(Yd=!0)}function Sh(t){void 0!==rh||ha()||yh({entryType:"navigation",startTime:oh,requestStart:ih,responseStart:ih,responseEnd:ih,domInteractive:t,domContentLoadedEventStart:t,domContentLoadedEventEnd:t,domComplete:t,loadEventEnd:t,duration:t-oh,serverTiming:[]})}function Th(t){const i=Do(),n=function(){const t=ni(),i=void 0!==t?t.timing:void 0;return At(i)?i:void 0}(),e=void 0!==n&&At(n)&&"navigationStart"in n&&pt(n.navigationStart)?n.navigationStart:void 0,o=void 0===e?ci(t):e,s=_i(o,li(t)),r=_i(o,i),a=Ta(s,r,r),c=void 0===a?s:a,u=Sa(e,ja(null==n?void 0:n.domComplete,null==n?void 0:n.loadEventEnd,c),i),d=void 0!==n&&void 0!==e?{entryType:"navigation",startTime:e,duration:u,
requestStart:n.requestStart,responseStart:n.responseStart,responseEnd:n.responseEnd,domContentLoadedEventStart:n.domContentLoadedEventStart,domContentLoadedEventEnd:n.domContentLoadedEventEnd,domComplete:n.domComplete,domInteractive:n.domInteractive,loadEventEnd:n.loadEventEnd,serverTiming:[]}:void 0;void 0!==d?yh(d):Sh(t)}function jh(t,i,n){const e=wr(t,i,"Page",vh,{P:th}),o=Eh(ri()),s=oh+o,r=void 0!==ah.interactiveTs?ah.interactiveTs:s,a=void 0!==ah.PgLoadTs?ah.PgLoadTs:s,c=void 0!==ah.PgReadyTs?ah.PgReadyTs:s,[u,d]=dr(),h=Object.assign(Object.assign({},e),{type:"Page",_t:nh,lt:Sr(),status:Qd,ri:eh,spanId:u,traceId:d,Kt:n,start:Yt(oh),duration:void 0===o?0:Jt(o),ajaxCnt:uh,errorCnt:hh,initTime:void 0===ch.initTs?0:Jt(ch.initTs),firstByteTime:void 0===ch.firstByteTs?0:Jt(ch.firstByteTs),downloadTime:void 0===ch.downloadTs?0:Jt(ch.downloadTs),renderTime:void 0===ch.renderTs?0:Jt(ch.renderTs),domInteractiveTs:Yt(r),domReadyTs:Yt(a),pageReadyTs:Yt(c)}),f=null==da||void 0===ua?void 0:{traceId:ua,spanId:da}
;h.spanId,h.traceId,void 0!==f&&(h.ei=f.spanId,h.si=f.traceId,h.ei,h.si);const v=br("Page");if(ut(v)||(h.gt=v),lh.length>0&&(h.apmEvents=lh),At(gh)){const t=ma(oh,gh),i=h.attributesFlex;h.attributesFlex=Ge(void 0===i?{}:i,t)}const l=Eo("operationId",void 0,t),p=Eo("agentId",void 0,t),m=Ie("apmCorrPage");if(dt(l)||dt(p)){const t={operationId:l,agentId:p};h.At=t}else if(dt(m)){const t=m.split("|");if(t.length>1){const i={operationId:t[0],agentId:t[1]};h.At=i}}const g=Eo("ecid",void 0,t);dt(g)&&(h.ft=g);const[_,A]=zh();return dt(_)&&dt(A)&&(h.Yt=_,h.Qt=A),h}function Ih(t){const[i,n]=dr();if(Jd!==Xd){if(!1===Oo("Page"))return void(void 0!==Jd&&(ae(Jd),Jd=Xd));if(ha())"init"===Qd&&(Qd="loading");else{const e=jt(rh,ri()),o=Do(),s=e>=o,r=s?o:e,a=Sr();if(0!==Ls(a,"basic")){const t={C:0,I:1,Z:a,O:"Page got http status "+a};Xe(th,t)&&(Qd="error",th=t)}if(s){Qd="timeout";const t={C:0,I:4,O:"Page status "+Qd};Xe(th,t)&&(vh=!0,th=t)}else["init","loading"].includes(Qd)&&(Qd="complete");const c=!1!==Yd;void 0===Kd&&(Kd=!1),
void 0===Yd&&(Yd=!1);const u=oo(i,n);if(function(t){return void 0!==pe&&!1===pe.has(t)}(u)&&so(eo(0,0,ui(oh),i,n,fr(),eh)),!0===c){!function(t){const i=Hu,n=lt(i)&&Vu(i),[e,o]=dr();n?function(t,i){const[n,e]=dr();io(i,{check:xh,maxIterations:15,fail:()=>{Sh(t),i()}})}(t,(()=>{Oh()})):(Th(t),Oh())}(r);const i=Hd("code","document","onload","documentOnload","activityAfterDocumentOnLoad",null,t,r),n=Ah(t.getProcHandler());i.ro({yt:uh,Xe:n,Ke:Fe(sh,u),Ye:Eh(r)})}else!0===Kd&&!0===Yd&&Jd!==Xd&&Ph()}}}function Ch(){return void 0!==Kd&&(!0!==kc()||Kd)}function xh(){return void 0!==Yd&&(!0!==kc()||Yd)}function Oh(){const[t,i]=dr();io(Ph,{check:Ch,maxIterations:10,fail:()=>{Ph()}})}function Ph(){const[t,i]=dr(),n=oo(t,i);if(Jd!==Xd){const t=Dn(),i=$n();for(const e of t){const t=jh(i,Un(e),Fe(sh,n));void 0!==fh&&fh(e,t),Sc(e,t,!1)}t.length}void 0!==Jd?(ae(Jd),Jd=Xd):Jd=Xd}function Eh(t){
const i=void 0!==ch?jt(ch.initTs,0)+jt(ch.firstByteTs,0)+jt(ch.downloadTs,0)+jt(ch.renderTs,0):0,n=void 0!==rh?void 0!==dh?Math.max(rh,dh):rh:void 0!==dh?dh:oh,e=Yt((n<t?n:t)-oh),o=Do();return i>0?i:e<o?e:o}function zh(){return dt(ph)&&dt(mh)?[ph,mh]:[]}const kh=[];let Zh;function Nh(t){return void 0===Zh&&(Zh=new Mh(t)),Zh}class Mh{constructor(t){this.uo=new Set,this.lo=At(t)?t:{},kh.push(this)}ao(){const t=this.po;if(void 0!==t)return!1===t.Te($n()).Ce?void this.vo(t):t}co(t){this.po=t}fo(){Xu()}vo(t){t===this.po&&(this.uo.add(t),this.po=void 0)}mo(){const t=this.po;void 0!==t&&this.vo(t);for(const t of this.uo)t.oo(!0)}ho(){for(const t of this.uo.values())Ed(t),!0===t.qe()&&this.uo.delete(t)}_o(t){At(t)&&void 0===t.parentSpanId&&(this.Ao=t)}addActiveSpanToContext(t){const i=this.getActiveSpan();if(void 0!==i){const n={traceId:i.traceId,spanId:i.spanId,traceFlags:i.traceFlags,isRemote:i.isRemote,traceState:i.traceState};return Ee().setSpanContext(t,n)}return t}kn(t){!function(t,i){const n=t.ao(),e=Ch()
;At(n)&&!0===e?(ys(i.Pt),va(n.bi(),n.tags,n.apmEvents,i)):!0===ha()?(ys(i.Pt),function(t){const[i,n]=dr();ys(t.Pt),va(oh,gh,lh,t)}(i)):ys(i.Pt)}(this,t)}do(t){!function(t){const[i,n]=dr();!0!==Kd&&(Kd=!0),!0!==Yd&&(Th(t),Oh())}(t)}En(t){const i=this.ao();void 0!==i?wa(t,i.apmEvents,i.tags,i.bi()):!0===ha()&&function(t){wa(t,lh,gh,oh)}(t)}zn(t){!function(t){yh(t)}(t)}getActiveSpan(){const t=this.ao();return void 0!==t?t:!0===ha()?Ah(this.wo):this.Ao?this.Ao.isRecording()?this.Ao:void(this.Ao=void 0):void 0}getProcHandler(){return this.wo}setProcHandler(t){this.wo=t}updateConfig(t){this.lo=t}getConfig(){return this.lo}getTracer(){return this.bo}setTracer(t){this.bo=t}setTracerProvider(t){this.bo=null==t?void 0:t.getTracer(Ai,"1.1.131")}yo(){kh.splice(0,100),kh.push(this),this.po=void 0,this.Ao=void 0,this.uo.clear(),this.wo=void 0}}const Rh=bs(!0,"https://interal.opentracing.integration.apm");class $h{inject(t,i,n){const e=zs(Rh,yr("Page"));if(!At(e)||!lt(e.$))return;const o=Ee().getSpanContext(t)
;if(void 0!==o&&rn(o)){const t=ks(o.traceId,o.spanId,fr(),e);for(const e of t)n.set(i,e.header,e.value)}}extract(t,i,n){let e=t;const o=n.get(i,is);if(dt(o)){const s=n.get(i,ns),r=n.get(i,es);if(dt(s)){const i={traceId:o,spanId:s,traceFlags:void 0===r||Fn(r)?1:0,isRemote:!0};e=Ee().setSpanContext(t,i)}}else{const o=n.get(i,os);if(dt(o)&&o.length<50&&o.startsWith("00-")){const i=o.split("-");if(4==i.length){const n=i[1],o=i[2],s=i[3],r={traceId:n,spanId:o,traceFlags:void 0===s||(parseInt(s,16)&$i.SAMPLED)===$i.SAMPLED?1:0,isRemote:!0};e=Ee().setSpanContext(t,r)}}}return e}fields(){return[is,ns,es,os]}}const Uh=["init","loading"],Lh=[];let Dh=0;function Bh(){if(0===Lh.length)window.clearInterval(Dh),Dh=0;else for(const t of Lh.values())t.isRecording()?Fh(t,!1,!1).catch((t=>{t.message})):t.markFinal()}async function Fh(t,i,n){if(t.isRecording()){const e=Yt(ri()),o=zo("msgSpanTimeoutMs",ud,$n()),s=e-t.bi();if(!1===i&&s>0&&s<o){const i=o-s,e=50;if(!1===n)return
;if(i<e)await Pe(i);else for(let n=0;t.isRecording()&&n<i;n+=e)await Pe(e)}if(t.isRecording()){const n={C:3,I:4,O:"APM marked span as timeout ("+(!1===i?`after waiting (${Yt(s)}) over ${o} milliseconds`:"immediately")+")"};Xe(t.P,n)&&(t.apmTrackStatus="timeout",t.P=n,t.k=!0),t.end(e)}}}function Hh(t){const i=Ee(),n=ze();i.setSpanContext(n.active(),Vi),xn.propagation.setBaggage(n.active(),xn.propagation.createBaggage());const e=[];for(const i of Lh.splice(0,100))e.push(Fh(i,t,!0));return Promise.all(e).then((()=>{jc(!0)}))}class Gh{constructor(t,i,n,e){if(this.droppedAttributesCount=0,this.droppedEventsCount=0,this.droppedLinksCount=0,this.k=!1,this.P=void 0,this.tags=At(i.attributes)?Object.assign({},i.attributes):{},this.apmEvents=[],this.So=!1,this.spanId=Se(),this.C="Custom Span",this.ai=t,this.kind=void 0===i.kind?cn.INTERNAL:i.kind,this.Ot=Yt(void 0!==i.startTime&&fi(i.startTime)?li(i.startTime):ri()),this.apmTrackStatus="init",this.traceState=void 0,this.isRemote=!1,this.traceFlags=$i.SAMPLED,this.To=n,
i.root)this.traceId=ye(this.spanId),this.Zi="Background";else{const t=function(t){if(void 0===t)return;const i=Ee().getSpanContext(t);if(void 0!==i&&Ee().isSpanContextValid(i))return i;const n=Ee().getSpan(t);if(void 0!==n&&yt(n.spanContext)){const t=n.spanContext();if(Ee().isSpanContextValid(t))return t}}(n);if(void 0!==t&&Ee().isSpanContextValid(t)){const i=t.traceId,n=t.spanId;this.traceState=t.traceState,this.Zi="Background",this.traceId=i,this.parentSpanId=n;const e=function(t,i){const n=Lh.filter((n=>void 0!==n&&n.traceId===t&&n.spanId===i));if(n.length>0)return n[0];const e=function(t,i){const n=[];for(const e of kh){const o=e.getActiveSpan();if(void 0!==o&&o.spanId===i&&o.traceId===t)return o;void 0!==e.uo&&n.push(e.uo)}return n.reduce(((n,e)=>void 0!==n?n:[...e.values()].reduce(((n,e)=>void 0!==n?n:e.traceId===t&&e.spanId===i?e:void 0),void 0)),void 0)}(t,i);return void 0!==e?e:void 0}(i,n);if(void 0!==e&&yt(e.markChildSpan)){const t={xi:"Custom Span",Ui:()=>this.Ot,Ci:()=>this.apmTrackStatus,$i:e,
Pi:this};this.Vi=e,e.markChildSpan(t)}}else{const t=null==e?void 0:e.getActiveSpan();if(void 0!==t){if(this.traceState=t.traceState,this.Zi=t.Zi,this.traceId=t.traceId,this.parentSpanId=t.spanId,yt(t.markChildSpan)){const i={xi:"Custom Span",Ui:()=>this.Ot,Ci:()=>this.apmTrackStatus,$i:t,Pi:this};this.Vi=t,t.markChildSpan(i)}}else this.traceId=ye(this.spanId),this.Zi="Background"}}if(At(i)&&lt(i.links))for(const t of i.links)this.addReference(t);if(void 0!==e){this.apmTrackStatus="loading",e._o(this);const t=e.getProcHandler();void 0!==t&&(this.rPH=t,this.rPH.onApmStart(this,n))}!function(t,i){if(Lh.push(i),0===Dh){const t=zo("msgChkIntervalMs",dd,$n());Dh=re(Bh,t)}}(0,this),this.ai}get startTime(){return ui(this.Ot)}get endTime(){if(void 0===this.wi)throw new Error("End time not available since span is not ended yet and still recording");return ui(this.wi)}get status(){return this.getStatus()}get attributes(){return this.tags}get links(){return[]}get events(){return this.apmEvents}get duration(){
return di(this.jo())}get ended(){return!this.isRecording()}get resource(){return cu()}get name(){return this.ai}get instrumentationLibrary(){return We()}setAttribute(t,i){return this.ai,this.setTag(t,i),this}setAttributes(t){return this.tags=Ge(this.tags,t),this}addEvent(t,i,n){const e=fi(i)?li(i):fi(n)?li(n):ri(),o=!fi(i)&&At(i)?i:{};return pi(this.apmEvents,t,o,e),this}setStatus(t){return Ve(this,t)}getStatus(){return tu(this.isRecording(),this.apmTrackStatus,this.P)}end(t){const i=void 0===t?ri():li(t);this.Ri(i)}isRecording(){return void 0===this.wi}recordException(t,i){xu(t,void 0===i?ri():li(i),this)}spanContext(){return{traceId:this.traceId,spanId:this.spanId,C:"Custom Span",Zi:this.Zi,traceFlags:Oo("Custom Span")?$i.SAMPLED:$i.NONE,traceState:this.traceState,isRemote:this.isRemote}}updateName(t){return this.ai=t,this}Mi(){return this.ai}bi(){return Yt(this.Ot)}yi(){return this.wi}jo(){const t=this.Ot,i=this.wi,n=void 0===i?0:i-t;return n<0?0:n}getCustomSpanInfo(t,i){
const n=wr(t,i,"Custom Span",this.k,{P:this.P}),e=this.bi(),o=this.jo(),s=Object.assign(Object.assign({},n),{type:"Custom Span",spanId:this.spanId,traceId:this.traceId,contextType:this.Zi,start:Yt(e),duration:Jt(o),spanName:this.Mi(),kind:this.kind,initTime:0,firstByteTime:Jt(o),downloadTime:0,renderTime:0}),r=Lo(this.tags);return At(r)&&(void 0===s.attributesFlex&&(s.attributesFlex={}),Ge(s.attributesFlex,r)),this.apmEvents.length>0&&(s.apmEvents=this.apmEvents),ut(this.parentSpanId)||(s.parentSpanId=this.parentSpanId),s}Ri(t){if(Uh.includes(this.apmTrackStatus)&&(this.apmTrackStatus="complete"),void 0===this.wi){const i=Yt(this.Ot),n=t,e=Yt(ri());if(i<=n&&n<=e)this.wi=n;else{const t=i>n?i:e;this.addEvent("apmInvalidEnd",{start:Yt(i),now:Yt(e),setEnd:Yt(n),newEnd:Yt(t)},i),this.wi=t}}return this.ai,this.wi,this.markFinal(),this.wi}markFinal(){var t;const i=Lh.indexOf(this);if(i>0&&Lh.splice(i,1),!1===this.So){if(this.So=!0,void 0!==this.Vi&&yt(this.Vi.markChildSpanDone)){const t={xi:"Custom Span",
Ui:()=>this.Ot,Ci:()=>this.apmTrackStatus,$i:this.Vi,Pi:this};this.Vi.markChildSpanDone(t)}if(Oo("Custom Span")){const t=$n();for(const i of Dn()){const n=Un(i);Sc(i,this.getCustomSpanInfo(t,n),!1)}}null===(t=this.rPH)||void 0===t||t.onApmEnd(this)}}markChildSpan(){}markChildSpanDone(t){!1===this.k&&!0===t.Li&&this.setStatus({code:un.ERROR,message:void 0!==t.Ei?t.Ei.O:"Ajax"===t.xi?"AJAX call status "+t.Ci():"Script Error"===t.xi?"Script error in trace":"Child span failure"})}operationName(){return this.Mi()}setTag(t,i){return this.tags=Ge(this.tags,{[t]:i}),this}addReference(t){if(null!==t){const i=t.context,n=i.isRemote;this.tags.LinkIsRemote=void 0!==n&&n,this.tags.LinkTraceId=i.traceId,this.tags.LinkSpanId=i.spanId}}setOperationName(t){return this.updateName(t),this}addTags(t){return this.tags=Ge(this.tags,t),this}}class Wh{constructor(t,i,n,e){this.name=t,this.version=i,this.options=n,this.Io=e,this.apmInstanceId=be(16)}startActiveSpan(t,i,n,e){var o,s
;const r=At(i)&&At(n)?n:void 0,a=Tt(i)?i:Tt(n)?n:Tt(e)?e:t=>{t.setAttribute("apmrumAutoComplete","startActiveSpan"),t.end()},c=At(i)?i:{};void 0!==c.kind&&null!==c.kind||(c.kind=cn.INTERNAL);const u=void 0!==r?r:ze().active(),d=this.startSpan(t,c,u);try{const t=Ee(),i=t.setSpanContext(u,d.spanContext()),n=t.setSpan(i,d),e=ze().with(n,a,d,d);if(bt(e))return new Promise(((t,i)=>{e.then((i=>{var n,e;if(d instanceof Gh){const t=d;null===(e=null===(n=this.Io)||void 0===n?void 0:n.getProcHandler())||void 0===e||e.onSpanResult(t,i)}t(i)}),(t=>{var n;if(d.isRecording())d.recordException(t);else{const i=d instanceof Gh?d:void 0;void 0!==i&&Iu(t,i.bi(),i,null===(n=this.Io)||void 0===n?void 0:n.getProcHandler(),"onStart")}i(t)}))}));if(d instanceof Gh){const t=d;null===(s=null===(o=this.Io)||void 0===o?void 0:o.getProcHandler())||void 0===s||s.onSpanResult(t,e)}return e}catch(t){throw d.recordException(t),t}}Co(t,i,n){return new Gh(t,i,n,this.Io)}startSpan(t,i,n){return this.Co(t,void 0===i?{}:i,n)}}class qh{
constructor(){this.xo=[],this.Oo={}}addSpanProcessor(t){this.xo.push(t)}addSpanResultProcessor(t,i){this.Oo[t]=i}async forceFlush(){if(this.xo.length>0){const t=this.xo.map((async t=>t.forceFlush().catch((t=>{}))));return t.push(Hh(!0)),new Promise((i=>{Promise.all(t).then((()=>{i()})).catch((t=>{i()}))}))}return Hh(!0)}onStart(t,i){if(this.xo.length>0)for(const n of this.xo)try{n.onStart(t,i)}catch(i){t.addEvent("unexpectedProcessingIssue",{name:"Issue in triggering onStart in SpanProcessorHandler logic of opentelemetry",desc:`${i}`})}}onApmStart(t,i){return this.onStart(t,void 0===i?ze().active():i)}onSpanResult(t,i){const n=t.ai;if(!ut(n)&&yt(this.Oo[n])){const e=this.Oo[n];try{e(t,i)}catch(i){t.apmEvents.push(Eu(i,ri(),null))}}}onEnd(t){if(this.xo.length>0)for(const i of this.xo)try{i.onEnd(t)}catch(t){}}onApmEnd(t){this.onEnd(t)}shutdown(){if(this.xo.length>0){const t=this.xo.map((t=>{try{t.shutdown().catch((t=>{}))}catch(t){}return Promise.resolve()}));return t.push(Hh(!0)),new Promise((i=>{
Promise.all(t).then((()=>i())).catch((t=>{i()}))}))}return Hh(!0)}}class Vh{constructor(t){this.Po=t}getValue(t){return this.Po.get(t)}setValue(t,i){const n=wt(this.Po);return n.set(t,i),new Vh(n)}deleteValue(t){const i=wt(this.Po,t);return new Vh(i)}}const Xh=new Vh(Jn());class Jh{constructor(){this.Eo=!1,this.zo=Xh}active(){return this.Eo&&null!==this.zo?this.zo:Xh}with(t,i,n,...e){const o=this.zo;this.zo=t;try{return i.call(n,...e)}finally{this.zo=o}}bindFn(t,i,n,e){const o=function(...o){return i.with(n,(()=>e.apply(t,o)))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),o}bind(t,i,n){const e=void 0===n?this:n;if(yt(i)){const n=void 0===t?this.active():t;return this.bindFn(e,this,n,i)}return i}enable(){return this.Eo=!0,this.zo=Xh,this}disable(){return this.Eo=!1,this.zo=Xh,this}}class Kh{constructor(t,i){this.ko=Jn(),this.apmInstanceId=be(16),this.Io=void 0===i?Nh(t):i,void 0!==t&&this.Io.updateConfig(t),this.Zo=new qh}getApmCtx(){return this.Io}
getTracer(t,i,n){const e=At(n)&&dt(n.schemaUrl)?n:void 0,o=At(s=n)&&At(s.confInst)?n:this.Io.getConfig();var s;const r="https://apmdomain.apm.oci.oracle.com/public/publish-spans?dataVersion="+go+"&provInst="+this.apmInstanceId,a=`${t}@${i||""}:${void 0!==e?e.schemaUrl:r}`,c=this.ko.get(a);if(void 0===c){const n=new Wh(t,i,o,this.Io);return this.ko.set(a,n),n}return c}register(t={}){Ee().setGlobalTracerProvider(this);const i=void 0!==t.contextManager&&null!==t.contextManager?t.contextManager:new Jh;ze().setGlobalContextManager(i),i.enable(),void 0!==t.propagator&&null!==t.propagator||(t.propagator=new $h),xn.propagation.setGlobalPropagator(t.propagator)}addSpanProcessor(t){this.Zo.addSpanProcessor(t),this.Io.setProcHandler(this.Zo)}getActiveSpanProcessor(){return this.Zo}forceFlush(){return this.Zo.forceFlush()}shutdown(){return this.Zo.shutdown()}}class Yh{constructor(){var t;ut(Mo())?(document.ApmRumLoadedVersion="1.1.131",function(t,i){
const n=i.getTracer(),e=$n(),o=Eo("pageParentSpanId",void 0,e),s=Eo("pageParentTraceId",void 0,e);if(Jd=void 0,Kd=void 0,Yd=void 0,da=void 0,ua=void 0,Qd="init",vh=!1,th=void 0,nh=yr("Page"),eh="Page Load "+nh.path,oh=Yt(li(0)),ih=oh,Xr=void 0,Jr=void 0,Kr=void 0,Yr=void 0,sh=_a(oh),lh.splice(0,lh.length),gh={},rh=void 0,ah={},ch={},dt(o)&&dt(s))ur(Se(),s),ph=o,mh=s;else if(void 0===n){const t=Se();ur(t,ye(t)),ph=void 0,mh=void 0}else{const t=n.startSpan(eh,{startTime:ui(0),attributes:ic("Page",nh)}),i=t.spanContext();Ee().setSpan(ze().active(),t),ur(i.spanId,i.traceId),ph=void 0,mh=void 0,t.parentSpanId,r=(i,n)=>{const e=$n(),o=Un(i),s=ec(ai(n.start),n,e,o),r=n.start+Kt(n.duration);t.updateName(n.ri),void 0!==s.attributes&&t.setAttributes(Object.assign({},s.attributes)),t.status.code===un.UNSET&&("complete"!==Qd&&void 0!==th&&dt(th.O)?t.setStatus({code:un.ERROR,message:th.O}):t.setStatus({code:un.OK})),t.setAttribute(ce,!0),t.end(ui(r))},fh=r}var r;uh=0,dh=void 0,hh=0;const[a,c]=dr()
;so(eo(0,0,ui(oh),a,c,fr(),eh)),Oo("Page")?function(t){const i=zo("pgLoadChkInterval",500,$n());void 0===Jd&&(window.addEventListener("load",(()=>{Jd!==Xd&&(void 0!==Jd&&ae(Jd),Jd=se((()=>{Ih(t)}),10))})),Jd=re((()=>{Ih(t)}),i))}(i):Qd="complete"}(0,t=this.getActiveContext()),qu(0,t),function(t){const i="mousedown",n=i=>Wd("window","down",i,t),e=le,o="mouseup",s=i=>Wd("window","up",i,t),r=le,a="keydown",c=i=>Vd("window","down",i,t),u=le,d="keydown",h=i=>Vd("document","down",i,t),f=le;try{window.addEventListener(i,n,e),Dd.push((()=>window.removeEventListener(i,n,e)))}catch(t){}try{window.addEventListener(o,s,r),Dd.push((()=>window.removeEventListener(o,s,r)))}catch(t){}try{window.addEventListener(a,c,u),Dd.push((()=>window.removeEventListener(a,c,u)))}catch(t){}try{document.addEventListener(d,h,f),Dd.push((()=>document.removeEventListener(d,h,f)))}catch(t){}try{const i="popstate",n=i=>{const n=vi(i.timeStamp,ri(),Bo());return qd("popState",t,n)};window.addEventListener(i,n,le),
Dd.push((()=>window.removeEventListener(i,n,le)))}catch(t){}try{const i="pagehide",n=()=>(t.mo(),void jc(!0));window.addEventListener(i,n,le),Dd.push((()=>window.removeEventListener(i,n,le)))}catch(t){}const v=window.history.replaceState;window.history.replaceState=(i,n,e)=>(qd("replaceState",t,ri()),Oe(e),v.call(window.history,i,n,e)),Dd.push((()=>{window.history.replaceState=v}));const l=window.history.go;window.history.go=i=>(qd("go-in-history",t,ri()),l.call(window.history,i)),Dd.push((()=>{window.history.go=l}));const p=window.history.pushState;window.history.pushState=(i,n,e)=>(qd("pushState",t,ri()),p.call(window.history,i,n,e)),Dd.push((()=>{window.history.pushState=p}));const m=window.setTimeout,g=window.setInterval;window.setTimeout=(i,n,...e)=>{const o=Fd($n()),s=to(new Error);return yt(i)?gt(n)&&n>o?m(((...e)=>(Bd(n,"setTimeout",void 0!==s?s:"setTimeout",t),i(...e))),n,...e):m(i,n,...e):m(dt(i)?i:()=>{},n,...e)},Dd.push((()=>{window.setTimeout=m})),window.setInterval=(i,n,...e)=>{
const o=Fd($n()),s=to(new Error);return yt(i)?gt(n)&&n>o?g(((...e)=>{n>o&&Bd(n,"setInterval",void 0!==s?s:"setInterval",t),i(...e)}),n,...e):g(i,n,...e):g(dt(i)?i:()=>{},n,...e)},Dd.push((()=>{window.setInterval=g}))}(t),function(t){const i=window,n=(n,e)=>{const o=function(t,i){let n,e;const o=Yt(ri()),s=At(t);return s&&t instanceof Request?(e=void 0!==t.method?t.method:us,n=bs(!1,t.url)):s&&t instanceof URL?(e=us,n=bs(!1,t)):i&&i.method?(e=i.method,n=bs(!1,""+t)):(e=us,n=bs(!1,""+t)),{startTs:o,method:e,vn:n,ji:Js("Ajax",n),Yi:{},Ki:[]}}(n,e),s=o.ji,r=t.getTracer();return Is(s)&&Is(o.vn)?new zu(t.getActiveSpan(),o,r,t.getProcHandler()).trackFetch(td,i,o,n,e):td.call(window,n,e)};class e extends XMLHttpRequest{constructor(){super(),this.oApmBAOpen=yt(this.open)?this.open:id.prototype.open,this.oApmBASend=yt(this.send)?this.send:id.prototype.send,this.oApmBASetReqHder=yt(this.setRequestHeader)?this.setRequestHeader:id.prototype.setRequestHeader,this.oApmBAAbort=yt(this.abort)?this.abort:id.prototype.abort
;const i=null==t?void 0:t.getActiveSpan(),n=t.getTracer();var e,o;this.apmTracker=new Wu(n,i,null==t?void 0:t.getProcHandler()),e=this,o=this.apmTracker,e.addEventListener("readystatechange",(t=>{!0===o.isTracked&&o.Cn(o,e,t)})),e.addEventListener("timeout",(t=>{!0===o.isTracked&&o.Pn(o,e,t)})),e.addEventListener("error",(t=>{"error"===t.type&&!0===o.isTracked&&o.On(o,e,t)})),e.addEventListener("abort",(t=>{!0===o.isTracked&&o.xn(o,e,t)})),this.open=(t,i,...n)=>(this.apmTracker,this.apmTracker.An(this,this.oApmBAOpen,t,i,...n)),this.send=(t,...i)=>(this.apmTracker,this.apmTracker.bn(this,this.oApmBASend,t,...i)),this.abort=()=>(this.apmTracker,this.apmTracker.en(this),this.oApmBAAbort.call(this)),this.setRequestHeader=(t,i)=>(this.apmTracker,this.apmTracker.Sn(this,this.oApmBASetReqHder,t,i)),this.apmTracker}}window.XMLHttpRequest=e,void 0===ed&&(ed=e),sd=!0,Zu=!0,void 0!==window.fetch&&(od=!0,window.fetch=n,void 0===nd&&(nd=n))}(t),function(t){Oo("Script Error")&&(Su=i=>{!function(t,i,n){t.type
;const e=i.getActiveSpan();void 0!==parent?(t.message,Iu(t,vi(t.timeStamp,n,Bo()),e,void 0,void 0)):t.message}(i,t,ri())},window.addEventListener("error",Su,le))}(t),function(t){if(hd=Jn(),vd=t,Oo("Message"))try{window.addEventListener(ct,wd)}catch(t){}}(t),zo("debug",15,$n()),this.No=!0):(Mo(),this.No=!1)}getActiveContext(){return void 0===this.Mo&&(this.Mo=Nh()),this.Mo}getCookie(t){return Ie(t)}resetSession(){!function(){const t=er;er=void 0,or=void 0,void 0!==$n()&&void 0!==t&&(sr=t),hr(!0)}()}getIsActive(){return this.No}unwrapAjax(){const t=!0===od&&!0===sd;return!0===t&&(window.fetch=td,od=!1,window.XMLHttpRequest=id,sd=!1),t}wrapAjax(){var t;t=this.getActiveContext(),void 0!==nd&&(window.fetch=nd,od=!0),function(t){void 0!==ed&&(window.XMLHttpRequest=ed,qu(0,t),sd=!0)}(t)}async setUser(t){let i=dt(t)?t:void 0;if(yt(t)){const e=t();if(void 0===e)return void(Ho=yt(n=t)?n:void 0);i=e}var n;dt(i)&&(!0===Gn("trackPlainUserId",!1)?qo(i):await je(i).then((t=>{qo(t)})))}setPluginAttr(t,i,n){!function(t,i,n){
var e;rr[t]=i,void 0!==(e=n)&&(Zn(Pn.instCfg,e.instCfg),Zn(Pn.instCfg,e.instCfg))}(t,i,Nn(n)?n:{instCfg:n})}getTracer(t){return this.getTracerProvider(t).getTracer("apmrum-sdk","1.1.131",t)}getTracerProvider(t,i){return new Kh(t,void 0===i?Nh():i)}flushSpans(t){return Hh(t)}}Yh.initOTContext=Xh;const Qh=new Yh;document.ApmSdk=Qh,function(){if(vt(document.apmPlugin)){let t=document.apmPlugin.shift();for(;void 0!==t;)t(),t=document.apmPlugin.shift()}}()}();
